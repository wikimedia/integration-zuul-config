- job:
    name: 'unicodejs-jsduck-publish'
    node: contintLabsSlave && UbuntuTrusty
    defaults: use-remoteonly-zuul
    concurrent: false
    triggers:
     - zuul
    builders:
     - jsduck
     - doc-publish:
        docsrc: 'docs'
        docdest: 'unicodejs/$ZUUL_BRANCH'

- job:
    name: 'oojs-core-jsduck-publish'
    node: contintLabsSlave && UbuntuTrusty
    defaults: use-remoteonly-zuul
    concurrent: false
    triggers:
     - zuul
    builders:
     - jsduck
     - doc-publish:
        docsrc: 'docs'
        docdest: 'oojs/$ZUUL_BRANCH'

- job:
    name: 'oojs-ui-jsduck-publish'
    node: contintLabsSlave && UbuntuTrusty
    defaults: use-remoteonly-zuul
    concurrent: false
    triggers:
     - zuul
    builders:
     - npm-install
     - shell: npm run-script doc
     - doc-publish:
        docsrc: 'docs'
        docdest: 'oojs-ui/$ZUUL_BRANCH'

- project:
    name: 'unicodejs'
    jobs:
     - '{name}-npm'
     - 'unicodejs-jsduck-publish'

- project:
    name: 'oojs-core'
    jobs:
     - '{name}-jslint'
     - '{name}-npm'
     - 'oojs-core-jsduck-publish'

- project:
    name: 'oojs-ui'
    phpflavor:
        - zend
        - hhvm
    jobs:
     - '{name}-jslint'
     - '{name}-npm'
     - '{name}-composer-{phpflavor}'
     - '{name}-bundle-{bundlecommand}':
         bundlecommand:
          - rubocop
     - '{name}-ruby2.0lint'
     - 'oojs-ui-jsduck-publish'

- project:
    name: 'cdb'
    phpflavor:
        - zend
        - hhvm
    jobs:
     - '{name}-composer-{phpflavor}'

- project:
    name: 'citoid'
    jobs:
     - '{name}-npm'

- project:
    name: 'utfnormal'
    phpflavor:
        - zend
        - hhvm
    jobs:
     - '{name}-composer-{phpflavor}'
