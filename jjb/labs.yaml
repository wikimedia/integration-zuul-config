# Holds various projects under 'labs/'

- project:
    name: 'labs-incubator'
    jobs:
     - '{name}-phplint'

- project:
    name: 'labs-migration-assistant'
    jobs:
     - python-jobs

- project:
    name: 'labs-nagios-builder'
    jobs:
     - python-jobs

- project:
    name: 'labs-toollabs'
    jobs:
     - '{name}-debian-glue'
     - '{name}-phplint'
     - '{name}-jslint'

- project:
    name: 'labs-tools-extdist'
    toxenv:
     - flake8
     - tests
    jobs:
     - '{name}-tox-{toxenv}-trusty'

- project:
    name: 'labs-tools-gblrenamemon'
    toxenv:
     - flake8
    jobs:
     - '{name}-tox-{toxenv}'

- project:
    name: 'labs-tools-grrrit'
    jobs:
     - '{name}-jslint'
     - '{name}-yamllint'

- project:
    name: 'labs-tools-wikibugs2'
    toxenv:
     - flake8
     - channels
    jobs:
     - '{name}-tox-{toxenv}-trusty'

- job-template:
    name: 'labs-tools-wikibugs2-autopull'
    defaults: use-remote-zuul

    triggers:
     - zuul

    builders:
    # Zuul uses Python str.format(obj) for {config} substitutions
    # Escape as {foo} as {{key}} to avoid triggering a KeyError in Zuul parser
     - shell: curl https://tools.wmflabs.org/wikibugs/pull.php
