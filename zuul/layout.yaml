# vim: set ts=2 sw=2 et ai foldmethod=indent:
#
# This is the Zuul configuration file for the Wikimedia Foundation.
#
# Zuul configuration is organised in three main sections:
#
# - pipelines: Abstracts incoming Gerrit events and what to report back in Gerrit.
#
# - jobs: Override the pipeline configuration on a per job basis.
#    This is how we specify behaviour for individual projects and jobs.
#
# - projects: For each project we specify what jobs to run, in what order jobs
#    should depend on each other and for which pipelines the jobs should run.
#
# See also upstream documentation:
# - http://ci.openstack.org/zuul/zuul.html#layout-yaml
# - http://ci.openstack.org/zuul/zuul.html#configuration

includes:
  - python-file: 'parameter_functions.py'


pipelines:
  # Terminology:
  # - check: Basic jobs run for all users. Votes V+1
  # - test: More elaborate execution run only after CR+2 or when submitted
  #    by a whitelisted user. Votes V+2.


  # Use this in combination with a 'test' pipeline.
  - name: check
    description: >
      Basic jobs being run for all users. Will vote Verified +1/-1.
    manager: IndependentPipelineManager
    trigger:
      gerrit:
        - event: patchset-created
          # Don't run the check pipeline if the user is allowed to run the test pipeline (bug 43391).
          # TODO: Figure out a way to turn this into a list instead of a single regex.
          # TODO: Figure out a way to not have to repeat this from pipeline 'test'.
          # This email filter and the one for 'test' can be removed once we have fixed bug 45499.
          email:
            - |
              (?x) ^(?!(
                .*?@wikimedia\.org
                | .*?@wikimedia\.de
                | 01tonythomas@gmail\.com
                | aarcos\.wiki@gmail\.com
                | adamr_carter@btinternet\.com
                | addshorewiki@gmail\.com
                | admin@alphacorp\.tk
                | cblair91@gmail\.com
                | admin@glados\.cc
                | alexsh@mail2000\.com\.tw
                | amir\.aharoni@mail\.huji\.ac\.il
                | andreas\.burmeister@student\.hpi\.de
                | andrew\.green\.df@gmail\.com
                | anomie\.wikipedia@gmail\.com
                | asthana\.sumit23@gmail\.com
                | at\.light@live\.com\.au
                | aude\.wiki@gmail\.com
                | bawolff\+wn@gmail\.com
                | bebirchall@gmail\.com
                | benapetr@gmail\.com
                | benestar\.wikimedia@gmail\.com
                | bmp2558@gmail\.com
                | bryan\.tongminh@gmail\.com
                | cenarium\.sysop@gmail\.com
                | christian@quelltextlich\.at
                | cicalese@mitre\.org
                | codereview@emsenhuber\.ch
                | CommodoreFabianus@gmx\.de
                | crazy4sb@gmail\.com
                | daniel@nadir-seen-fire\.com
                | daniel\.rey\.lopez@gmail\.com
                | david@troi\.org
                | d_entous@yahoo\.com
                | dereckson@espace-win\.org
                | devunt@gmail\.com
                | dominic\.sauer@yahoo\.de
                | drenfro@vistaprint\.com
                | dr\.trigon@surfeu\.ch
                | ebrahim@gnu\.org
                | ecokpo@gmail\.com
                | eranroz89@gmail\.com
                | federicoleva@tiscali\.it
                | florian\.schmidt\.stargatewissen@gmail\.com
                | gianiskido@gmail\.com
                | git@samsmith\.io
                | geofbot@gmail\.com
                | glaisher\.wiki@gmail\.com
                | glaser@hallowelt\.biz
                | happy5214@gmail\.com
                | hardikjuneja\.hj@gmail\.com
                | hartman\.wiki@gmail\.com
                | hashar@free\.fr
                | hoo@online\.de
                | i@ananayarora\.com
                | inez@wikia-inc\.com
                | info@gno\.de
                | jack@countervandalism\.net
                | jackmcbarn@gmail\.com
                | jamesin\.hongkong\.1@gmail\.com
                | jan\.wikimedia@zerebecki\.de
                | jarry1250@gmail\.com
                | jayvdb@gmail\.com
                | jeanfrederic\.wiki@gmail\.com
                | jeff\.janes@gmail\.com
                | jeroendedauw@gmail\.com
                | jonas@keutel\.de
                | juliusalphonso\.09@gmail\.com
                | justin\.d128@gmail\.com
                | kartik\.mistry@gmail\.com
                | karsten@hoffmeyer\.info
                | krenair@gmail\.com
                | krinklemail@gmail\.com
                | kumariankita002@gmail\.com
                | l10n-bot@translatewiki\.net
                | ladsgroup@gmail\.com
                | legoktm\.wikipedia@gmail\.com
                | lewis@lewiscawte\.me
                | liangent@gmail\.com
                | lokal\.profil@gmail\.com
                | luke@faraone\.cc
                | luke081515@web\.de
                | maarten@mdammers\.nl
                | mah@nichework\.com
                | mail@wikinaut\.de
                | malafaya@clix\.pt
                | maria\.pacana@gmail\.com
                | marielle\.volz@gmail\.com
                | markus@semantic-mediawiki\.org
                | maroloccio@gmail\.com
                | matanya@foss\.co\.il
                | matanya\.moses@gmail\.com
                | matma\.rex@gmail\.com
                | maxsem\.wiki@gmail\.com
                | misterstrad@gmail\.com
                | mjbmri@gmail\.com
                | mlazowik@gmail\.com
                | moriel@gmail\.com
                | mpaa\.wiki@gmail\.com
                | mhutti1@gmail\.com
                | mtraceur@member\.fsf\.org
                | mwalker@khaosdev\.com
                | niharikakohli29@gmail\.com
                | niklas\.laxstrom@gmail\.com
                | nilesh@nileshc\.com
                | nullzero\.free@gmail\.com
                | oliver\.buchtala@gmail\.com
                | orbit@framezero\.com
                | pastakhov@yandex\.ru
                | platonides@gmail\.com
                | pleasestand@live\.com
                | pragun06@gmail\.com
                | pranavmk98@gmail\.com
                | purodha@blissenbach\.org
                | pyfisch@gmail\.com
                | raimond\.spekking@gmail\.com
                | ricordisamoa@openmailbox\.org
                | rillke@wikipedia\.de
                | roan\.kattouw@gmail\.com
                | robinp\.1273@gmail\.com
                | vogel@hallowelt\.biz
                | russblau@imapmail\.org
                | s7eph4n@gmail\.org
                | santhosh\.thottingal@gmail\.com
                | saper@saper\.info
                | se4598@gmx\.de
                | shahyar@gmail\.com
                | siebrand@kitano\.nl
                | skizzerz@skizzerz\.net
                | soeren_oldag@freenet\.de
                | stefan@garage-coding\.com
                | stefan\.petrea@gmail\.com
                | strigiwm@gmail\.com
                | sucheta\.ghoshal@gmail\.com
                | tamaraslosarek@gmail\.com
                | tasneem\.lo\.31@gmail\.com
                | thalia\.e\.chan@googlemail\.com
                | thomasmulhall410@yahoo\.com
                | thomaspt@hotmail\.fr
                | tim@tim-landscheidt\.de
                | tinajohnson\.1234@gmail\.com
                | trevorparscal@gmail\.com
                | tomasz@twkozlowski\.com
                | tylerromeo@gmail\.com
                | umherirrender_de\.wp@web\.de
                | v\.a\.ghaisas@gmail\.com
                | valhallasw@arctus\.nl
                | vikasyaligar\.it@gmail\.com
                | victorbarbu08@gmail\.com
                | w@mzmcbride\.com
                | wctaiwan@gmail\.com
                | wiki@physikerwelt\.de
                | wikiposta@gmail\.com
                | wiki@strainu\.ro
                | yaron57@gmail\.com
                | yuriastrakhan@gmail\.com
                | yuvipanda@gmail\.com
                | zhorishna@gmail\.com
              )).*$

    success-message: 'Basic test build succeeded.'
    success:
      # Only V+1 as these are not elaborate tests. This prevents a change from
      # being merged (requires V+2) before elaborate tests, which vote V+2, have run.
      gerrit:
        verified: 1
    failure-message: 'Basic test build failed.'
    failure:
      gerrit:
        verified: -1

  # Use this instead of 'check' for projects not having a separate 'test' pipeline. Those need to
  # be marked as 'check-only' instead of 'check', because 'check' has a reversed email filter to
  # compensate the 'test' pipeline.
  - name: check-only
    description: Basic jobs being run for all users. Will vote +1.
    manager: IndependentPipelineManager
    trigger:
      gerrit:
        - event: patchset-created
          email:
           - ^(?!l10n-bot@translatewiki\.net).*$
        - event: comment-added
          comment_filter: (?im)^Patch Set \d+:( -?Code\-Review(\+|-)?(1|2)?)?\n\n\s*recheck\.?\s*$
    success-message: 'Basic test build succeeded.'
    success:
      gerrit:
        verified: 1
    failure-message: 'Basic test build failed.'
    failure:
      gerrit:
        verified: -1

  - name: check-voter
    description: >
      Basic jobs for projects without a test pipeline. Will vote +2.
    manager: IndependentPipelineManager
    trigger:
      gerrit:
        - event: patchset-created
          email:
           - ^(?!l10n-bot@translatewiki\.net).*$
        - event: comment-added
          comment_filter: (?im)^Patch Set \d+:( -?Code\-Review(\+|-)?(1|2)?)?\n\n\s*recheck\.?\s*$
    success-message: 'Basic test build succeeded.'
    success:
      gerrit:
        verified: 2
    failure-message: 'Basic test build failed.'
    failure:
      gerrit:
        verified: -1

  # Use this in combination with a check pipeline.
  - name: test
    description: >
      Jobs restricted to trusted users. Will vote +2.
    manager: IndependentPipelineManager
    trigger:
      gerrit:
        - event: patchset-created

          # BEWARE:
          # - Make sure to use non greedy selectors (.*?) and to escape dots: \.
          # - Also update the email filter of the 'check' pipeline.

          email: &email_whitelist
           - .*?@wikimedia\.org$
           - .*?@wikimedia\.de$

          # WMF staff & contractors:
           - ^aarcos\.wiki@gmail\.com$
           - ^amir\.aharoni@mail\.huji\.ac\.il$
           - ^andrew\.green\.df@gmail\.com$
           - ^anomie\.wikipedia@gmail\.com$
           - ^bawolff\+wn@gmail\.com$
           - ^christian@quelltextlich\.at$
           - ^david@troi\.org$ # David Chan
           - ^git@samsmith\.io$ # Sam Smith
           - ^glaser@hallowelt\.biz$
           - ^hashar@free\.fr$
           - ^jeroendedauw@gmail\.com$
           - ^kartik\.mistry@gmail\.com$
           - ^krinklemail@gmail\.com$ # Timo Tijhof
           - ^legoktm\.wikipedia@gmail\.com$ # Kunal Mehta
           - ^maxsem\.wiki@gmail\.com$
           - ^marielle\.volz@gmail\.com$
           - ^moriel@gmail\.com # Moriel Schottlender
           - ^mtraceur@member\.fsf\.org$
           - ^niharikakohli29@gmail\.com$
           - ^niklas\.laxstrom@gmail\.com$
           - ^roan\.kattouw@gmail\.com$
           - ^santhosh\.thottingal@gmail\.com$
           - ^shahyar@gmail\.com$
           - ^siebrand@kitano\.nl$
           - ^stefan@garage-coding\.com$
           - ^stefan\.petrea@gmail\.com$
           - ^sucheta\.ghoshal@gmail\.com$
           - ^trevorparscal@gmail\.com$
           - ^yuriastrakhan@gmail\.com$
           - ^yuvipanda@gmail\.com$

          # VisualEditor (Wikia)
           - ^inez@wikia-inc\.com$
           - ^orbit@framezero\.com$ # Christian Williams

          # WMDE:
           - ^addshorewiki@gmail\.com$
           - ^aude\.wiki@gmail\.com$
           - ^hoo@online\.de$

          # Hasso-Plattner-Institut students working on Wikidata projects
           - ^andreas\.burmeister@student\.hpi\.de$
           - ^dominic\.sauer@yahoo\.de$
           - ^jonas@keutel\.de$
           - ^soeren_oldag@freenet\.de$
           - ^tamaraslosarek@gmail\.com$

          # VistaPrint
          # They are heavily using MediaWiki internally and open sourced
          # some of their extensions. Might wildcard them as well, for
          # now just whitelist Daniel Renfro.
           - ^drenfro@vistaprint\.com$ # AlephNull

          # Trusted long term users:
           - ^adamr_carter@btinternet\.com$ # UltrasonicNXT
           - ^admin@alphacorp\.tk$ # Hydriz
           - ^admin@glados\.cc$ # Unicodesnowman
           - ^cblair91@gmail\.com$ # Cblair91 -- mw/ext/ImportArticles
           - ^asthana\.sumit23@gmail\.com$ # Sumit
           - ^benapetr@gmail\.com$ # petrb
           - ^benestar\.wikimedia@gmail\.com$
           - ^bryan\.tongminh@gmail\.com$
           - ^cenarium\.sysop@gmail\.com$ # Cenarium
           - ^cicalese@mitre\.org$
           - ^codereview@emsenhuber\.ch$
           - ^CommodoreFabianus@gmx\.de # XZise, Pywikibot maintainer
           - ^d_entous@yahoo\.com$
           - ^daniel@nadir-seen-fire\.com$
           - ^daniel\.rey\.lopez@gmail\.com$
           - ^dereckson@espace-win\.org$
           - ^devunt@gmail\.com$
           - ^ebrahim@gnu\.org$
           - ^eranroz89@gmail\.com$ # Eran Roz
           - ^federicoleva@tiscali\.it$ # Nemo bis
           - ^florian\.schmidt\.stargatewissen@gmail\.com$
           - ^geofbot@gmail\.com$
           - ^glaisher\.wiki@gmail\.com$
           - ^hartman\.wiki@gmail\.com$
           - ^info@gno\.de$ # Xqt, Pywikibot maintainer
           - ^jamesin\.hongkong\.1@gmail\.com$ # Mwjames
           - ^jack@countervandalism\.net$ # Jack Phoenix
           - ^jackmcbarn@gmail\.com$ # Jackmcbarn
           - ^jan\.wikimedia@zerebecki\.de # Jan Zerebecki
           - ^jarry1250@gmail\.com$
           - ^jayvdb@gmail\.com$
           - ^jeanfrederic\.wiki@gmail\.com$
           - ^jeff\.janes@gmail\.com$
           - ^karsten@hoffmeyer\.info$ # Kghbln
           - ^krenair@gmail\.com$
           - ^kumariankita002@gmail\.com$
           - ^ladsgroup@gmail\.com$ # Pywikibot maintainer
           - ^lewis@lewiscawte\.me$
           - ^liangent@gmail\.com$
           - ^lokal\.profil@gmail\.com$
           - ^luke@faraone\.cc$
           - ^luke081515@web\.de$
           - ^mah@nichework\.com$
           - ^mail@wikinaut\.de$
           - ^markus@semantic-mediawiki\.org$
           - ^maroloccio@gmail\.com$
           - ^matanya\.moses@gmail\.com$
           - ^matanya@foss\.co\.il$
           - ^matma\.rex@gmail\.com$
           - ^misterstrad@gmail\.com$ # Mr. Stradivarius
           - ^mjbmri@gmail\.com$
           - ^mlazowik@gmail\.com$
           - ^nilesh@nileshc\.com$
           - ^oliver\.buchtala@gmail\.com$ # Substance.io developer
           - ^pastakhov@yandex\.ru$ # PhpTags maintainer
           - ^platonides@gmail\.com$
           - ^pleasestand@live\.com$
           - ^pragun06@gmail\.com$
           - ^purodha@blissenbach\.org$
           - ^raimond\.spekking@gmail\.com$
           - ^rillke@wikipedia\.de$
           - ^robinp\.1273@gmail\.com$
           - ^vogel@hallowelt\.biz$ # Robert Vogel
           - ^saper@saper\.info$
           - ^se4598@gmx\.de$
           - ^skizzerz@skizzerz\.net$
           - ^strigiwm@gmail\.com$ # MarcoAurelio
           - ^s7eph4n@gmail\.org$ # Foxtrott
           - ^tasneem\.lo\.31@gmail\.com$
           - ^thalia\.e\.chan@googlemail\.com$ # Thalia Chan
           - ^thomasmulhall410@yahoo\.com$ # Paladox T114528
           - ^thomaspt@hotmail\.fr$
           - ^at\.light@live\.com\.au$ # This, that and the other
           - ^tomasz@twkozlowski\.com$
           - ^01tonythomas@gmail\.com$
           - ^tim@tim-landscheidt\.de$
           - ^tinajohnson\.1234@gmail\.com$
           - ^tylerromeo@gmail\.com$
           - ^umherirrender_de\.wp@web\.de$
           - ^v\.a\.ghaisas@gmail\.com$ # polybuildr
           - ^valhallasw@arctus\.nl$ # Merlijn van Deen
           - ^vikasyaligar\.it@gmail\.com$ # Vikas Yaligar
           - ^w@mzmcbride\.com$
           - ^wctaiwan@gmail\.com$
           - ^wiki@physikerwelt\.de$
           - ^yaron57@gmail\.com$
           - ^zhorishna@gmail\.com$ # Isarra
           - ^mwalker@khaosdev\.com$ # Matt Walker

           # Pywikibot related
           - ^alexsh@mail2000\.com\.tw$  # Alex S.H. Lin
           - ^dr\.trigon@surfeu\.ch$  # DrTrigon
           - ^happy5214@gmail\.com$
           - ^maarten@mdammers\.nl$  # Multichill
           - ^malafaya@clix\.pt$
           - ^mpaa\.wiki@gmail\.com$
           - ^nullzero\.free@gmail\.com$
           - ^pyfisch@gmail\.com$
           - ^ricordisamoa@openmailbox\.org$
           - ^russblau@imapmail\.org$  # Russell Blau
           - ^wiki@strainu\.ro$  # Strainu
           - ^wikiposta@gmail\.com$  # Bináris

          # Parsoid OPW interns
           - ^bebirchall@gmail\.com$
           - ^ecokpo@gmail\.com$
           - ^maria\.pacana@gmail\.com$

          # Parsoid GSoC student
           - ^hardikjuneja\.hj@gmail\.com$

          # GCI students!
           - ^bmp2558@gmail\.com$ # Georggi
           - ^crazy4sb@gmail\.com$ # unicornisaurous
           - ^gianiskido@gmail\.com$ # IoannisKydonis
           - ^i@ananayarora\.com$
           - ^juliusalphonso\.09@gmail\.com$ # JadeMaveric
           - ^justin\.d128@gmail\.com$ # MtDu
           - ^mhutti1@gmail\.com$
           - ^pranavmk98@gmail\.com$ # PranavK
           - ^victorbarbu08@gmail\.com$ # Victorbarbu

        # Let whitelisted users the ability to reenqueue a change in the test
        # pipeline by simply commenting 'recheck' on a change.
        - event: comment-added
          comment_filter: (?im)^Patch Set \d+:( -?Code\-Review(\+|-)?(1|2)?)?\n\n\s*recheck\.?\s*$
          email: *email_whitelist

        # Let whitelisted users CR+1 to trigger tests for an untested patch
        # (Verified 0 or 1)
        - event: comment-added
          require-approval:
            # hasn't been tested yet
            - verified: [0, 1]
              username: jenkins-bot
          email: *email_whitelist
          approval:
            - code-review: +1

    success-message: 'Main test build succeeded.'
    success:
      gerrit:
        verified: 2
    failure-message: 'Main test build failed.'
    failure:
      gerrit:
        verified: -1

  - name: experimental
    description: >
      Jobs manually triggered by whitelisted users commenting 'check experimental'.
      Useful for experimenting new jobs.
    manager: IndependentPipelineManager
    trigger:
      gerrit:
        - event: comment-added
          comment_filter: (?im)^Patch Set \d+:\n\n\s*check experimental\.?\s*$
          email: *email_whitelist
    success-message: 'Experimental build succeeded.'
    success:
      gerrit: {}
    failure-message: 'Experimental build failed.'
    failure:
      gerrit: {}

  - name: php5
    description: >
      Jobs manually triggered by whitelisted users commenting 'check php5'.
      Useful for running PHP5 tests that are only part of gate-and-submit.
      This queue was formerly called "zend", so 'check zend' also works.
    manager: IndependentPipelineManager
    trigger:
      gerrit:
        - event: comment-added
          comment_filter: (?im)^Patch Set \d+:\n\n\s*check (php53?|zend)\.?\s*$
          email: *email_whitelist
    success-message: 'PHP5 build succeeded.'
    success:
      gerrit: {}
    failure-message: 'PHP5 build failed.'
    failure:
      gerrit: {}

  # Actual gate (report/vote in Gerrit)
  # Will auto-submit change on success!
  #
  # WARNING: Also update the "gate" pipeline when changing this one.
  #
  - name: gate-and-submit
    description: >
      Patchsets that have been reviewed. Will be merged by Jenkins if tests pass.
    manager: DependentPipelineManager
    precedence: high
    window-floor: 12
    trigger:
      gerrit:
        - event: comment-added
          email:
           - ^(?!l10n-bot@translatewiki\.net).*$
          approval:
            - code-review: 2
    start:
      gerrit:
        verified: 0
    success-message: 'Gate pipeline build succeeded.'
    success:
      gerrit:
        verified: 2
        # Let Zuul merge the change \O/
        submit: true
    failure-message: 'Gate pipeline build failed.'
    failure:
      gerrit:
        verified: -1

  - name: postmerge
    description: Jobs triggered after a change has been merged.
    manager: IndependentPipelineManager
    trigger:
      gerrit:
        - event: change-merged
    success-message: 'Post-merge build succeeded.'
    # Zuul needs at least one option beside --message or it will not report
    # Since Gerrit 2.8, we can vote on closed changes.
    success:
      gerrit:
        verified: 0
    failure-message: 'Post-merge build failed.'
    failure:
      gerrit:
        verified: 0

  # Pipeline reacting whenever a reference is updated
  - name: post
    description: Whenever a reference is updated.
    manager: IndependentPipelineManager
    trigger:
      gerrit:
       - event: ref-updated
         ref: ^(?!(devnull|refs/.*)).*$

  # Pipeline for tags (either a new one or a removal)
  - name: publish
    description: Whenever tags are published.
    manager: IndependentPipelineManager
    trigger:
      gerrit:
       - event: ref-updated
         ref: ^refs/tags/.*$

# Fine tune some jobs
jobs:

  #
  # General
  #

  # Warning: the files regex are using python re.match() which match at the
  # beginning of the filename. '.js$' will only match '.js' not 'foo.js'.
  #
  # See: http://docs.python.org/2/library/re.html#search-vs-match

  - name: ^.*$
    parameter-function: set_parameters

  - name: ^.*-non-voting$
    voting: false

  - name: ^rake-jessie$
    # Rake entry points have not been backported to wmf branches yet
    # -- hashar Nov 10th 2015
    branch: (?!^wmf/1\.27\.0-wmf\.[45])
    skip-if:
      - project: '^mediawiki/core$'
        branch: (?:^REL1_23$|^REL1_24$|^fundraising/REL.*)
      - project: '^mediawiki/extensions/Flow$'
        branch: (?:^REL1_25$)
      - project: '^VisualEditor/VisualEditor$'
        branch: (?:^REL1_25$|^REL1_26$)

  - name: ^jsduck$
    skip-if:
      - project: '^mediawiki/extensions/Flow$'
        branch: (?:^REL1_25$)

  # Experiment for analytics/kraken repository
  - name: analytics-kraken
    voting: false

  # Experimental building of Debian packages
  # based on jenkins-debian-glue
  - name: ^.*-debian-glue$
    voting: false

  # Work in progress https://gerrit.wikimedia.org/r/110666
  - name: parsoidsvc-debian-glue
    voting: false
    files: 'debian/.*'

  - name: erblint-HEAD
    files:
     - '^.*\.erb$'

  - name: pplint-HEAD
    files:
     - '^.*\.pp$'

  - name: 'integration-config-puppet-validate'
    files:
     - '^.*\.pp$'

  - name: ^composer-validate$
    files:
     - '^composer.json$'

  - name: ^composer-package-validate$
    files:
     - '^composer.json$'

  - name: ^.*-php53lint$
    files:
     - '^.*\.(php|php5|phtml|inc)$'

  - name: php53lint
    files:
     - '^.*\.(php|php5|phtml|inc)$'
    skip-if:
     - project: '^mediawiki/.*$'
       branch: (?!REL1_2[3-6]$)

  - name: php55lint
    files:
     - '^.*\.(php|php5|phtml|inc)$'
    branch: (?!REL1_2[3-6]$)

  - name: ^mediawiki-phpunit-php53-composer$
    # Release branch 1.23 does not support composer, hhvm variant is done by the next filter
    branch: (?!REL1_23)

  - name: ^mediawiki.*-hhvm(-composer)?$
    # Release branches do not support hhvm.
    branch: (?!REL1_23|REL1_24|fundraising/REL.*)

  - name: ^mwext.*-hhvm$
    # Release branches do not support hhvm.
    branch: (?!REL1_23|REL1_24|fundraising/REL.*)

  - name: ^.*php55.*$
    branch: (?!REL1_2[3-6]$)

  - name: ^.*php53.*$
    skip-if:
      - project: '^mediawiki/.*$'
        branch: (?!REL1_2[3-6]$)

  # Jobs testing multiple extensions together
  #
  # TODO stop triggering php53 jobs for the wmf branches

  # Extensions tested together, since 1.25alpha ...
  - name: ^mediawiki-extensions-(qunit|hhvm|php53)$
    branch: (?!REL1_23|REL1_24|fundraising/REL.*)
    queue-name: mediawiki

  - name: ^mediawiki-extensions-php55$
    branch: (?!REL1_23|REL1_24|REL1_25|REL1_26|fundraising/REL.*)
    queue-name: mediawiki

  - name: mediawiki-core-phpcs
    branch: (?!^REL1_23|^REL1_24|^REL1_25|^REL1_26|^fundraising/REL)
    files:
     - '^.*\.(json|php|php5|phtml|inc|xml)$'


  - name: ^mediawiki-core-npm-node-4.3$
    files:
     - '^(\.js.*|.*\.(js|json)$)'

  - name: jsduck
    files:
     - '^.*\.(js|json|css)$'
  - name: ^.*-jsduck$
    files:
     - '^.*\.(js|json|css)$'

  - name: ^.*jshint$
    files:
     # Matches: .jscsrc, .jshintrc, .jshintignore, and *.js
     - '^(\.js.*|.*\.js$)'

  - name: ^.*jsonlint$
    files:
     # Matches: *.json
     - '^.*\.json$'

  - name: wikimedia-fundraising-civicrm
    branch: (?!.*deployment.*|^contrib$)

  - name: operations-puppet-pep8
    files:
     - '^(.*\.py|tox.ini|.pep8|setup.cfg)$'
    failure-pattern: 'https://integration.wikimedia.org/ci/job/{job.name}/{build.number}/violations/'

  - name: ^operations-puppet-tox-pep8-jessie$
    voting: false

  - name: ^perllint$
    files:
      - '^.*\.(pl|pm)$'

  - name: operations-puppet-puppetlint-strict
    voting: true

  - name: translatewiki-puppetlint-strict
    voting: true

  # Rejecting changes having trailing whitespaces cause too many false
  # positives. So only report the whitespace issues, but don't let it vote.
  - name: ^.*-whitespaces$
    voting: false

  #
  # Individual adjustments
  #

  # being tested out
  - name: apps-android-commons-build
    voting: false

  # This job does more than one thing. Point to the build page and let the user drill into details.
  - name: ^apps-android-wikipedia-.+$
    failure-pattern: 'https://integration.wikimedia.org/ci/job/{job.name}/{build.number}/'
    success-pattern: 'https://integration.wikimedia.org/ci/job/{job.name}/{build.number}/'

  # Lint not passing yet. The lintAlphaDebug will be integrated in the other
  # job later on.
  - name: apps-android-wikipedia-lint
    voting: false # TODO: add to gate-and-submit once voting.
    failure-pattern: 'https://integration.wikimedia.org/ci/job/{job.name}/{build.number}/artifact/app/build/outputs/lint-results-alphaDebug.html'
    success-pattern: 'https://integration.wikimedia.org/ci/job/{job.name}/{build.number}/artifact/app/build/outputs/lint-results-alphaDebug.html'

  - name: apps-android-java-mwapi
    failure-pattern: 'https://integration.wikimedia.org/ci/job/{job.name}/{build.number}/'
    success-pattern: 'https://integration.wikimedia.org/ci/job/{job.name}/{build.number}/'

  - name: beta-mediawiki-config-update-eqiad
    branch: ^master$
    success-message: 'SUCCESS Change has been deployed on the EQIAD beta cluster'
    failure-message: 'FAILURE Failed deployment on the EQIAD beta cluster :-/ Please contact a member of the beta project to fixup the working directory on the destination server.'

  - name: beta-cxserver-update-eqiad
    branch: ^master$
    success-message: 'SUCCESS Change has been deployed on the EQIAD beta cluster'
    failure-message: 'FAILURE Failed deployment on the EQIAD beta cluster :-/ Please contact a member of the beta project to investigate.'

  - name: beta-parsoid-update-eqiad
    branch: ^master$
    success-message: 'SUCCESS Change has been deployed on the EQIAD beta cluster'
    failure-message: 'FAILURE Failed deployment on the EQIAD beta cluster :-/ Please contact a member of the beta project to investigate.'

  - name: ^debian-glue$
    # Point directly to artifacts
    success-pattern: 'https://integration.wikimedia.org/ci/job/{job.name}/{build.number}/'

  - name: parsoidsvc-source-jsduck-publish
    branch: ^master$
    success-message: 'SUCCESS Deployed documentation to https://doc.wikimedia.org/Parsoid/master/'
    failure-message: 'FAILURE Failed to deploy documentation :-/'


  - name: integration-docroot-deploy
    branch: ^master$
    success-message: 'SUCCESS View https://integration.wikimedia.org/ or https://doc.wikimedia.org/. Deployed'
    failure-message: 'FAILURE Failed to deploy. Please contact a continuous integration team member to fixup the docroot on the destination server.'

  - name: 'integration-jjb-config-diff'
    success-message: 'SUCCESS Review the XML difference.'
    failure-message: 'FAILURE Failed to compare your patchset with the current configuration.'
    files: '^jjb/.*'

  - name: 'integration-config-tox-dib-jessie'
    files: '^dib/.*'

  - name: 'integration-zuul-layoutdiff'
    voting: false
    # Note how the messages are mixed up. Gotta change the job exit code.
    success-message: 'FAILURE No layout difference. Build'
    failure-message: 'SUCCESS Review the Zuul layout difference. Build'

  - name: 'integration-zuul-layoutvalidation-gate'
    branch: (?!labs)

  - name: 'mwext-CirrusSearch-whitespaces'
    branch: ^master$

  - name: 'mwext-jsduck-publish'
    branch: ^master$

  - name: 'mwext-VisualEditor-publish'
    branch: ^master$

  - name: 'mwext-VisualEditor-sync-gerrit'
    branch: ^master$

  - name: 'mediawiki-selenium-bundle-yard-publish'
    branch: ^master$
  - name: 'mediawiki-ruby-api-bundle-yard-publish'
    branch: ^master$

  - name: mediawiki-core-doxygen-publish
    branch: ^(master|REL.*|refs/tags/(?!wmf).*)$ # REL is bug 50325

  - name: mediawiki-phpunit-hhvm
    queue-name: mediawiki
  - name: mediawiki-phpunit-php53
    queue-name: mediawiki

  - name: mediawiki-core-qunit
    queue-name: mediawiki

  - name: mediawiki-core-jsduck
    branch: ^(REL.*|master)$

  - name: mediawiki-core-jsduck-publish
    branch: ^(REL.*|master)$


  # Job to ease reviews of MW-CS changes
  - name: mw-tools-codesniffer-mwcore-testrun
    voting: false
    success-message: 'Example result against MediaWiki core'
    failure-message: 'Example result against MediaWiki core'

  - name: fail-archived-repositories
    queue-name: archived-repos
    failure-message: 'This repository has been archived and new patches are not being accepted. If you want to maintain it follow https://www.mediawiki.org/wiki/Gerrit/Project_ownership#Requesting_repository_ownership and then change which jobs get run.'

  - name: operations-puppet-doc
    success-message: 'Documentation published on https://doc.wikimedia.org/puppet/. Build'

project-templates:

  - name: extension-unittests-composer
    check:
     - php53lint
     - php55lint
     - composer-validate
    test:
     - php53lint
     - php55lint
     - mwext-testextension-php53-composer
     - mwext-testextension-php55-composer
     - mwext-testextension-hhvm-composer
     - composer-validate
    gate-and-submit:
     - php53lint
     - php55lint
     - mwext-testextension-php53-composer
     - mwext-testextension-php55-composer
     - mwext-testextension-hhvm-composer
     - composer-validate
    experimental:
     - mwext-qunit-composer
     - npm
     - npm-node-4.3
     - composer-php53
     - composer-php55
     - composer-hhvm

  - name: extension-unittests-generic
    check:
     - php53lint
     - php55lint
     - composer-validate
    test:
     - php53lint
     - php55lint
     # Extensions tests with core+vendor
     - mwext-testextension-php53
     - mwext-testextension-php55
     - mwext-testextension-hhvm
     - composer-validate
    gate-and-submit:
     - php53lint
     - php55lint
     # Extensions tests with core+vendor
     - mwext-testextension-php53
     - mwext-testextension-php55
     - mwext-testextension-hhvm
     - composer-validate
    experimental:
      - mediawiki-extensions-hhvm
      - mediawiki-extensions-qunit
      - mwext-testextension-php53-composer
      - mwext-testextension-hhvm-composer
      - npm
      - npm-node-4.3
      - composer-php53
      - composer-php55
      - composer-hhvm

  - name: extension-unittests-non-voting
    check:
     - php53lint
     - php55lint
     - composer-validate
    test:
     - php53lint
     - php55lint
     # Extensions tests with core+vendor
     - mwext-testextension-hhvm-non-voting
     - composer-validate
    php5:
     - mwext-testextension-php53-non-voting
     - mwext-testextension-php55-non-voting
    gate-and-submit:
     - php53lint
     - php55lint
     - composer-validate
    experimental:
      - mediawiki-extensions-hhvm
      - mediawiki-extensions-qunit
      - mwext-testextension-php53-composer
      - mwext-testextension-hhvm-composer
      - npm
      - npm-node-4.3
      - composer-php53
      - composer-php55
      - composer-hhvm

  # Template to run per-patch selenium browser test
  # Intentionally not in gate because it's super slow
  - name: extension-selenium
    test:
      - mwext-mw-selenium
    postmerge:
      - mwext-mw-selenium

  - name: extension-gate
    test:
      - mediawiki-extensions-hhvm
      - mediawiki-extensions-qunit
    php5:
      - mediawiki-extensions-php55
      - mediawiki-extensions-php53
    gate-and-submit:
      - mediawiki-extensions-hhvm
      - mediawiki-extensions-php53
      - mediawiki-extensions-php55
      - mediawiki-extensions-qunit

  # Template for MediaWiki extensions.
  # Triggers qunit jobs
  - name: extension-qunit
    test:
      - 'mwext-{name}-qunit'
    gate-and-submit:
      - 'mwext-{name}-qunit'

  # Triggers the generic mwext-qunit job
  - name: extension-qunit-generic
    test:
      - mwext-qunit
    gate-and-submit:
      - mwext-qunit
    experimental:
      - mwext-qunit-composer

  - name: extension-qunit-composer
    test:
      - mwext-qunit-composer
    gate-and-submit:
      - mwext-qunit-composer

  - name: jsduck
    test:
     - jsduck
    gate-and-submit:
     - jsduck

  - name: mw-checks
    check-voter:
     - php53lint
     - php55lint
     - jsonlint
     - composer-validate
    gate-and-submit:
     - php53lint
     - php55lint
     - jsonlint
     - composer-validate
    experimental:
     - mwext-qunit-composer
     - mwext-qunit
     - mwext-testextension-hhvm
     - mwext-testextension-hhvm-composer
     - npm
     - npm-node-4.3
     - composer-php53
     - composer-php55
     - composer-hhvm

    # Similar to above, but uses a check/test pipeline
  - name: mw-checks-test
    check:
     - php53lint
     - php55lint
     - jsonlint
     - composer-validate
    test:
     - php53lint
     - php55lint
     - jsonlint
     - composer-validate
    gate-and-submit:
     - php53lint
     - php55lint
     - jsonlint
     - composer-validate
    experimental:
     - mwext-qunit-composer
     - mwext-qunit
     - mwext-testextension-hhvm
     - mwext-testextension-hhvm-composer
     - npm
     - npm-node-4.3
     - composer-php53
     - composer-php55
     - composer-hhvm

  - name: composer-test
    check:
      - php53lint
      - php55lint
      - composer-validate
    test:
      - composer-php53
      - composer-php55
      - composer-hhvm
    gate-and-submit:
      - composer-php53
      - composer-php55
      - composer-hhvm

  - name: composer-test55
    check:
      - php55lint
      - composer-validate
    test:
      - composer-php55
      - composer-hhvm
    gate-and-submit:
      - composer-php55
      - composer-hhvm

  - name: jshint
    check:
      - jshint
    test:
      - jshint
    gate-and-submit:
      - jshint

  - name: jsonlint
    check:
      - jsonlint
    test:
      - jsonlint
    gate-and-submit:
      - jsonlint

  - name: php55lint
    check:
      - php55lint
    test:
      - php55lint
    gate-and-submit:
      - php55lint

  - name: composer-test-package
    check:
      - composer-package-validate
      - php53lint
      - php55lint
    test:
      - composer-package-hhvm
      - composer-package-php53
      - composer-package-php55
    gate-and-submit:
      - composer-package-hhvm
      - composer-package-php53
      - composer-package-php55

  - name: composer-test-package55
    check:
      - composer-package-validate
      - php55lint
    test:
      - composer-package-hhvm
      - composer-package-php55
    gate-and-submit:
      - composer-package-hhvm
      - composer-package-php55

  - name: npm
    test:
      - npm-node-4.3
    gate-and-submit:
      - npm-node-4.3

  - name: npm-legacy
    test:
      - npm
    gate-and-submit:
      - npm
    experimental:
      - npm-node-4.3

  - name: puppet
    # FIXME add merge probably
    # voting since we usually do not have any unit tests
    check-voter:
      - 'erblint-HEAD'
      - 'pplint-HEAD'

  - name: rake
    test:
      - rake-jessie
    gate-and-submit:
      - rake-jessie

  - name: tox-jessie
    test:
     - tox-jessie
    gate-and-submit:
     - tox-jessie

  - name: archived
    check:
     - fail-archived-repositories
    test:
     - fail-archived-repositories
    gate-and-submit:
     - fail-archived-repositories

# Register the Gerrit project name, apply them pipelines that in turn trigger
# a set of jobs.
projects:
  - name: gerrit

  - name: integration/config
    check:
      - noop
    test:
      - integration-config-tox-jessie
      - integration-config-puppet-validate
      - integration-config-tox-dib-jessie
      - integration-jjb-config-diff
      - integration-zuul-layoutdiff
      - integration-zuul-layoutvalidation
    gate-and-submit:
      - integration-config-tox-jessie
      - integration-config-puppet-validate
      - integration-config-tox-dib-jessie
      - integration-jjb-config-diff
      - integration-zuul-layoutdiff
      - integration-zuul-layoutvalidation-gate

  - name: integration/dashboard
    test:
      - tox-jessie
    gate-and-submit:
      - tox-jessie

  - name: integration/jenkins
    check:
      - php53lint
    test:
      - tox-jessie
      - php53lint
      - phpunit
    gate-and-submit:
      - tox-jessie
      - php53lint
      - phpunit

  - name: integration/phpunit
    test:
      - integration-phpunit-mediawiki-REL1_23
      - integration-phpunit-mediawiki-REL1_24
      - integration-phpunit-mediawiki-REL1_25
      - integration-phpunit-mediawiki-REL1_26
      - integration-phpunit-mediawiki-master
    gate-and-submit:
      - integration-phpunit-mediawiki-REL1_23
      - integration-phpunit-mediawiki-REL1_24
      - integration-phpunit-mediawiki-REL1_25
      - integration-phpunit-mediawiki-REL1_26
      - integration-phpunit-mediawiki-master

  - name: integration/raita
    template:
      - name: jsduck
      - name: npm
    check:
      - jshint
      - jsonlint

  - name: integration/zuul
    experimental:
      - integration-zuul-debian-glue
      - debian-glue

  - name: mediawiki/core
    template:
      - name: extension-gate
      - name: rake
    check:
      - mediawiki-core-php53lint
      - mediawiki-core-php55lint
      - composer-package-validate
    test:
      - mediawiki-core-phpcs
      - mediawiki-core-jsduck
      - mediawiki-core-npm-node-4.3
      - mediawiki-core-php53lint
      - mediawiki-core-php55lint
      - mediawiki-phpunit-hhvm
      - mediawiki-phpunit-parsertests-hhvm
      - mediawiki-core-qunit
      - composer-package-validate
    php5:
      # Comment "check php5" to manually run this
      - mediawiki-phpunit-php55
      - mediawiki-phpunit-parsertests-php55
      - mediawiki-phpunit-php53
      - mediawiki-phpunit-parsertests-php53
    gate-and-submit:
      - mediawiki-core-jsduck
      - mediawiki-core-npm-node-4.3
      - mediawiki-core-php53lint
      - mediawiki-core-php55lint
      - mediawiki-core-phpcs
      - mediawiki-phpunit-hhvm
      - mediawiki-phpunit-parsertests-hhvm
      - mediawiki-phpunit-hhvm-composer
      - mediawiki-phpunit-php53
      - mediawiki-phpunit-parsertests-php53
      - mediawiki-phpunit-php55
      - mediawiki-phpunit-parsertests-php55
      - mediawiki-core-qunit
      - composer-package-validate
    postmerge:
      - mediawiki-core-jsduck-publish
      - mediawiki-core-doxygen-publish
    publish:
      - mediawiki-core-doxygen-publish
    experimental:
      # not in the test pipeline and only in gate-and-submit for performance reasons, is listed here to be able to manually trigger it
      - mediawiki-phpunit-hhvm-composer
      # will replace mediawiki-phpunit-php53 for branches not using vendor, currently not used as the composer part is covered by the hhvm variant
      - mediawiki-phpunit-php53-composer

  - name: mediawiki/debian
    experimental:
      - debian-glue

  - name: mediawiki/event-schemas
    # Dummy definition.
    # If a change on another repo mark a dependency on a non defined project,
    # that causes Zuul to be caught in a death loop.
    # T128569
    test:
      - noop
    gate-and-submit:
      - noop

  - name: mediawiki/vendor
    template:
      - name: extension-gate
    check:
      - php53lint
      - php55lint
      - composer-validate
    test:
      - php53lint
      - php55lint
      - composer-validate
      - mediawiki-core-qunit
      - mediawiki-phpunit-hhvm
      - mediawiki-phpunit-parsertests-hhvm
    php5:
      - mediawiki-phpunit-php55
      - mediawiki-phpunit-parsertests-php55
      - mediawiki-phpunit-php53
      - mediawiki-phpunit-parsertests-php53
    gate-and-submit:
      - php53lint
      - php55lint
      - mediawiki-phpunit-hhvm
      - mediawiki-phpunit-parsertests-hhvm
      - mediawiki-phpunit-php55
      - mediawiki-phpunit-parsertests-php55
      - mediawiki-phpunit-php53
      - mediawiki-phpunit-parsertests-php53
      - mediawiki-core-qunit
      - composer-validate

  - name: analytics/aggregator
    template:
      - name: tox-jessie

  - name: analytics/blog
    template:
      - name: tox-jessie

  - name: analytics/geowiki
    template:
      - name: tox-jessie

  - name: analytics/quarry/web
    template:
      - name: tox-jessie

  - name: analytics/kraken
    test:
      - analytics-kraken

  - name: analytics/libanon
    test:
     - analytics-libanon
    gate-and-submit:
     - analytics-libanon
    postmerge:
     - analytics-libanon

  - name: analytics/limn-mobile-data
    template:
      - name: tox-jessie

  - name: analytics/limn-language-data
    test:
     - noop
    gate-and-submit:
     - noop

  - name: analytics/limn-wikidata-data
    check-voter:
     - php53lint
    gate-and-submit:
     - php53lint

  - name: analytics/multimedia
    template:
      - name: tox-jessie

  - name: analytics/refinery/source
    test:
     - maven
    gate-and-submit:
     - maven

  - name: analytics/udp-filters
    test:
     - analytics-udp-filters
    gate-and-submit:
     - analytics-udp-filters
    postmerge:
     - analytics-udp-filters

  - name: analytics/webstatscollector
    test:
     - analytics-webstatscollector
    gate-and-submit:
     - analytics-webstatscollector
    postmerge:
     - analytics-webstatscollector

  - name: analytics/wikistats
    test:
     - analytics-wikistats
    gate-and-submit:
     - analytics-wikistats
    postmerge:
     - analytics-wikistats

  - name: analytics/wikimetrics
    test:
     - tox-jessie
    gate-and-submit:
     - tox-jessie

  - name: apps/android/commons
    test:
      - apps-android-commons-build
    gate-and-submit:
      - apps-android-commons-build

  - name: apps/android/java-mwapi
    test:
      - apps-android-java-mwapi
    gate-and-submit:
      - apps-android-java-mwapi

  - name: apps/android/wikipedia
    template:
      - name: npm
    check:
      - apps-jshint
      - apps-jsonlint
    test:
      - tox-jessie
      - apps-android-wikipedia-test
      - apps-android-wikipedia-lint
    gate-and-submit:
      - tox-jessie
      - apps-android-wikipedia-test
      # TODO: uncomment once this job votes.
      # - apps-android-wikipedia-lint
    postmerge:
      - apps-android-wikipedia-publish

  - name: apps/ios/wikipedia
    template:
      - name: archived

  - name: labs/incubator
    check-voter:
     - php53lint
    gate-and-submit:
     - php53lint

  - name: labs/migration-assistant
    template:
      - name: tox-jessie

  - name: labs/nagios-builder
    template:
      - name: archived

  - name: labs/toollabs
    test:
     - debian-glue
     - php53lint
    gate-and-submit:
     - php53lint

  - name: labs/tools/crosswatch
    #template:
    #  - name: tox-jessie
    experimental:
      - tox-jessie

  - name: labs/tools/extdist
    template:
      - name: tox-jessie

  - name: labs/tools/forrestbot
    template:
      - name: tox-jessie

  - name: labs/tools/gblrenamemon
    template:
      - name: tox-jessie

  - name: labs/tools/grrrit
    template:
      - name: npm

  - name: labs/tools/heritage
    template:
      - name: tox-jessie
      - name: php55lint
      - name: jsonlint

  - name: labs/tools/ptable
    template:
      - name: tox-jessie

  - name: labs/tools/stewardbots
    template:
      - name: composer-test55

  - name: labs/tools/wikibugs2
    template:
      - name: tox-jessie
    postmerge:
     - labs-tools-wikibugs2-autopull

  - name: labs/tools/wikidata-slicer
    template:
      - name: npm
      - name: tox-jessie

  - name: performance/docroot
    template:
      - name: npm

  - name: performance/WebPageTest
    template:
      - name: npm

  - name: integration/docroot
    test:
     - composer-php53
     - jshint
     - jsonlint
    gate-and-submit:
     - composer-php53
     - jshint
     - jsonlint
    postmerge:
     - integration-docroot-deploy

  - name: mediawiki/ruby/api
    template:
      - name: rake
    postmerge:
     - mediawiki-ruby-api-bundle-yard-publish

  - name: mediawiki/selenium
    template:
      - name: rake
    test:
     - mediawiki-selenium-integration
    gate-and-submit:
     - mediawiki-selenium-integration
    postmerge:
     - mediawiki-selenium-bundle-yard-publish

  - name: mediawiki/skins/apex
    template:
     - name: composer-test
     - name: npm
    check:
     - jsonlint
     - jshint
     - php53lint

  - name: mediawiki/skins/Blueprint
    template:
      - name: composer-test
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/skins/BlueSky
    template:
     - name: mw-checks
    experimental:
     - jshint

  - name: mediawiki/skins/BlueSpiceSkin
    template:
     - name: mw-checks-test
     - name: npm
    check:
     - jsonlint

  - name: mediawiki/skins/Bouquet
    template:
     - name: mw-checks
    check-voter:
     - jshint
    gate-and-submit:
     - jshint

  - name: mediawiki/skins/chameleon
    template:
     - name: mw-checks

  - name: mediawiki/skins/CologneBlue
    template:
     - name: composer-test
     - name: mw-checks-test
     - name: npm
    check:
     - jsonlint

  - name: mediawiki/skins/Daddio
    template:
     - name: mw-checks-test
     - name: npm
    check:
     - jsonlint

  - name: mediawiki/skins/DeskMessMirrored
    template:
     - name: mw-checks

  - name: mediawiki/skins/Donate
    template:
     - name: mw-checks

  - name: mediawiki/skins/Dusk
    template:
     - name: mw-checks

  - name: mediawiki/skins/DuskToDawn
    template:
     - name: mw-checks

  - name: mediawiki/skins/erudite
    template:
     - name: mw-checks

  - name: mediawiki/skins/Empty
    template:
     - name: mw-checks

  - name: mediawiki/skins/Example
    template:
     - name: composer-test
     - name: npm
    check:
     - jsonlint

  - name: mediawiki/skins/Gamepress
    template:
     - name: mw-checks

  - name: mediawiki/skins/GreyStuff
    template:
     - name: mw-checks-test
     - name: npm
    check:
     - jsonlint

  - name: mediawiki/skins/Mask
    template:
     - name: mw-checks-test
     - name: npm
    check:
     - jsonlint

  - name: mediawiki/skins/mediawiki-strapping
    template:
     - name: mw-checks

  - name: mediawiki/skins/Metrolook
    template:
     - name: composer-test
     - name: npm
    check:
     - jsonlint
     - jshint
     - php53lint

  - name: mediawiki/skins/MinervaNeue
    template:
     - name: composer-test
     - name: npm
    check:
     - jsonlint
     - jshint
     - php53lint

  - name: mediawiki/skins/Modern
    template:
     - name: composer-test
     - name: mw-checks-test
     - name: npm
    check:
     - jsonlint

  - name: mediawiki/skins/MonoBook
    template:
     - name: composer-test
     - name: mw-checks-test
     - name: npm
    check:
     - jsonlint

  - name: mediawiki/skins/Nimbus
    template:
     - name: mw-checks
    check-voter:
     - jshint
    gate-and-submit:
     - jshint

  - name: mediawiki/skins/Nostalgia
    template:
     - name: mw-checks-test
     - name: npm
    check:
     - jsonlint

  - name: mediawiki/skins/p2wiki
    template:
     - name: mw-checks

  - name: mediawiki/skins/Schulenburg
    template:
     - name: mw-checks

  - name: mediawiki/skins/Slate
    template:
     - name: composer-test
     - name: npm
    check:
     - jsonlint
     - jshint
     - php53lint

  - name: mediawiki/skins/Splash
    template:
     - name: mw-checks-test
     - name: npm
    check:
     - jsonlint

  - name: mediawiki/skins/Synagonism
    template:
     - name: mw-checks

  - name: mediawiki/skins/Tempo
    template:
     - name: mw-checks-test
     - name: npm
    check:
     - jsonlint

  - name: mediawiki/skins/Timeless
    template:
     - name: composer-test
     - name: npm
    check:
     - jsonlint
     - jshint
     - php53lint

  - name: mediawiki/skins/Tomas
    template:
     - name: mw-checks

  - name: mediawiki/skins/Truglass
    template:
     - name: mw-checks

  - name: mediawiki/skins/Vector
    template:
     - name: composer-test
     - name: npm
    check:
     - jshint
     - jsonlint

  - name: mediawiki/skins/VectorV2
    template:
     - name: composer-test
     - name: npm
    check:
     - jshint
     - jsonlint

  - name: mediawiki/skins/webplatform
    template:
     - name: mw-checks

  - name: mediawiki/skins/WPtouch
    template:
     - name: mw-checks-test

  - name: mediawiki/tools/code-utils
    check-voter:
     - php53lint
    gate-and-submit:
     - php53lint

  - name: mediawiki/tools/codesniffer
    template:
     - name: composer-test-package
    test:
     - mw-tools-codesniffer-mwcore-testrun

  - name: mediawiki/tools/dippybird
    check-voter:
     - php53lint
    gate-and-submit:
     - php53lint

  - name: mediawiki/tools/release
    template:
      - name: composer-test
      - name: tox-jessie
    check:
      - jsonlint
    test:
      - php53lint
    gate-and-submit:
      - php53lint

  - name: mediawiki/tools/releng
    test:
      - tox-jessie
    gate-and-submit:
      - tox-jessie
    postmerge:
      - mw-tools-releng-tox-doc-publish

  - name: mediawiki/tools/scap
    template:
      - name: tox-jessie
    publish:
     - mw-tools-scap-tox-doc-publish

  - name: mediawiki/vagrant
    template:
      - name: rake
    check:
      - erblint-HEAD
      - mediawiki-vagrant-puppet-validate
    test:
      - erblint-HEAD
      - mediawiki-vagrant-puppet-validate
    gate-and-submit:
      - erblint-HEAD
      - mediawiki-vagrant-puppet-validate
    postmerge:
      - mediawiki-vagrant-puppet-doc-publish
      - mediawiki-vagrant-bundle17-yard-publish

  - name: operations/debs/adminbot
    template:
      - name: tox-jessie

  - name: operations/debs/archiva
    test:
     - operations-debs-archiva-debian-glue

  - name: operations/debs/contenttranslation/apertium
    test:
     - operations-debs-apertium-debian-glue

  - name: operations/debs/contenttranslation/apertium-apy
    test:
     - operations-debs-apertium-apy-debian-glue

  - name: operations/debs/contenttranslation/cg3
    test:
     - operations-debs-cg3-debian-glue

  - name: operations/debs/contenttranslation/hfst
    test:
     - operations-debs-hfst-debian-glue

  - name: operations/debs/contenttranslation/lttoolbox
    test:
     - operations-debs-lttoolbox-debian-glue

  - name: operations/debs/debdeploy
    experimental:
     - debian-glue

  - name: operations/debs/ganglia
    test:
     - operations-debs-ganglia-debian-glue

  - name: operations/debs/gerrit
    test:
     - operations-debs-gerrit-debian-glue

  - name: operations/debs/git-fat
    test:
     - operations-debs-git-fat-debian-glue

  - name: operations/debs/jenkins-debian-glue
    test:
     - operations-debs-jenkins-debian-glue-debian-glue

  - name: operations/debs/kafka
    test:
     - operations-debs-kafka-debian-glue

  - name: operations/debs/latexml
    test:
     - operations-debs-latexml-debian-glue

  - name: operations/debs/nodepool
    experimental:
     - debian-glue

  - name: operations/debs/pybal
    template:
      - name: tox-jessie
    test:
     - operations-debs-pybal-debian-glue

  - name: operations/debs/varnish
    test:
     - operations-debs-varnish-debian-glue

  - name: operations/debs/vips
    test:
     - operations-debs-vips-debian-glue

  - name: operations/debs/wikistats
    check:
      - php53lint
    test:
     - php53lint
     - operations-debs-wikistats-debian-glue
    gate-and-submit:
     - php53lint
     - operations-debs-wikistats-debian-glue

  - name: operations/dns
    check-voter:
      - operations-dns-lint
      - operations-dns-tabs

  - name: operations/dumps
    test:
      - tox-jessie
    gate-and-submit:
      - tox-jessie

  - name: operations/mediawiki-config
    check:
      - operations-mw-config-php55lint
      - composer-validate
    test:
      - operations-mw-config-php55lint
      - operations-mw-config-phpunit
    gate-and-submit:
      - operations-mw-config-php55lint
      - operations-mw-config-phpunit
    experimental:
      - composer-php55
    postmerge:
      - beta-mediawiki-config-update-eqiad

  - name: operations/puppet
    # Only lint on submission for now, that will be voting
    check:
      - erblint-HEAD
      - pplint-HEAD
      #- operations-puppet-puppetlint-lenient
      - operations-puppet-puppetlint-strict
      - operations-puppet-pep8
      - operations-puppet-typos
    # Same for trusted user
    test:
      # testing
      - operations-puppet-tox-pep8-jessie
      - operations-puppet-tox-py27-jessie
      # Same as `check` pipeline:
      - erblint-HEAD
      - pplint-HEAD
      #- operations-puppet-puppetlint-lenient
      - operations-puppet-puppetlint-strict
      - operations-puppet-pep8
      - operations-puppet-typos
      - rake-jessie
    experimental:
      - tox-jessie
    postmerge:
      - operations-puppet-doc

  - name: operations/puppet/cdh
    template:
      - name: puppet

  - name: operations/puppet/cdh4
    template:
      - name: puppet

  - name: operations/puppet/jmxtrans
    template:
      - name: puppet

  - name: operations/puppet/kafka
    template:
      - name: puppet

  - name: operations/puppet/kafkatee
    test:
      - tox-jessie
      - erblint-HEAD
      - pplint-HEAD

  - name: operations/puppet/mariadb
    template:
      - name: puppet

  - name: operations/puppet/nginx
    template:
      - name: puppet

  - name: operations/puppet/varnishkafka
    test:
      - tox-jessie
      - erblint-HEAD
      - pplint-HEAD

  - name: operations/puppet/wikimetrics
    template:
      - name: puppet

  - name: operations/puppet/zookeeper
    template:
      - name: puppet

  - name: operations/software/conftool
    test:
      - tox-jessie
    gate-and-submit:
      - tox-jessie

  - name: operations/software/ircyall
    template:
      - name: tox-jessie

  - name: operations/software/labsdb-auditor
    template:
      - name: tox-jessie

  - name: operations/software/puppet-compiler
    template:
      - name: tox-jessie

  - name: operations/software/tools-manifest
    template:
      - name: tox-jessie

  - name: operations/software/tools-webservice
    template:
      - name: tox-jessie

  - name: translatewiki
    template:
      - name: composer-test55
    check: &translatewiki_jobs
      - translatewiki-puppet-validate
      - translatewiki-puppetlint-strict
      - translatewiki-shelllint
    test: *translatewiki_jobs
    gate-and-submit: *translatewiki_jobs

  - name: wikimedia/discovery/relevanceForge
    template:
      - name: tox-jessie

  - name: wikimedia/discovery/analytics
    template:
      - name: tox-jessie

  - name: wikimedia/fundraising/dash
    template:
      # Depends on node-syslog@1.1.7 which does not work on Node 4.3
      - name: npm-legacy
    check:
      - jshint
      - jsonlint

  - name: wikimedia/fundraising/tools
    check-voter:
      - jshint
      - jsonlint
    gate-and-submit:
      - jshint
      - jsonlint
      - noop  # in case a patch has no .js/.json
    experimental:
      - tox-jessie

  - name: wikimedia/fundraising/crm
    check:
      - wikimedia-fundraising-crm-jsonlint
      - php53lint
    test:
      - wikimedia-fundraising-crm-jsonlint
      - php53lint
      - wikimedia-fundraising-civicrm
      - noop
    gate-and-submit:
      - wikimedia-fundraising-crm-jsonlint
      - php53lint
      - wikimedia-fundraising-civicrm
      # Since jobs above might not trigger due to file filtering and
      # wikimedia-fundraising-civicrm is not run on deployment branch, we still
      # need a job to run for Zuul to gate-and-submit
      # T120881
      - noop

  - name: wikimedia/fundraising/crm/civicrm
    check:
      - php53lint
    test:
      - php53lint
      - wikimedia-fundraising-civicrm
    gate-and-submit:
      - php53lint
      - wikimedia-fundraising-civicrm

  - name: wikimedia/fundraising/crm/drupal
    check:
      - php53lint
    test:
      - php53lint
      - wikimedia-fundraising-civicrm
    gate-and-submit:
      - php53lint
      - wikimedia-fundraising-civicrm

  - name: wikimedia/fundraising/crm/vendor
    check:
      - php53lint
    test:
      - php53lint
      - wikimedia-fundraising-civicrm
    gate-and-submit:
      - php53lint
      - wikimedia-fundraising-civicrm

  - name: wikimedia/fundraising/slander
    template:
      - name: tox-jessie

  - name: wikimedia/fundraising/SmashPig
    test:
     - composer-php53
    gate-and-submit:
     - composer-php53
    experimental:
     - tox-jessie

  - name: wikimedia/iegreview
    template:
     - name: jshint
     - name: jsonlint
    check:
     - php53lint
    test:
     - php53lint
     - phpunit
    gate-and-submit:
     - php53lint
     - phpunit

  - name: wikimedia/wikimania-scholarships
    template:
     - name: jshint
     - name: jsonlint
    check:
     - php53lint
     - composer-validate
    test:
     - php53lint
     - phpunit
     - composer-validate
    gate-and-submit:
     - php53lint
     - phpunit
     - composer-validate

  - name: wikimedia/textcat
    template:
     - name: composer-test-package

#### MediaWiki extensions ######################################


  - name: mediawiki/extensions/AbuseFilter
    template:
      - name: composer-test
      - name: extension-gate
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/AccountAudit
    template:
      - name: composer-test
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/AccountInfo
    template:
      - name: composer-test
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/ActiveAbstract
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/ActivityMonitor
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/AddMessages
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/AdminLinks
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Agora
    template:
      - name: archived

  - name: mediawiki/extensions/AntiBot
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/AntiSpoof
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Annotator
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/APC
    template:
      - name: archived

  - name: mediawiki/extensions/ApprovedRevs
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/ArticleFeedback
    template:
      - name: jsonlint
      - name: mw-checks-test

  - name: mediawiki/extensions/ArticleFeedbackv5
    template:
      - name: extension-unittests-generic
      - name: rake

  - name: mediawiki/extensions/ArticlePlaceholder
    template:
      - name: composer-test
      - name: extension-unittests-composer
      - name: extension-qunit-composer
      - name: npm
    check:
      - jsonlint
      - jshint
    experimental:
      - mwext-mw-selenium-composer

  - name: mediawiki/extensions/Arrays
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/Babel
    template:
      - name: composer-test
      - name: extension-gate
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/BaseHooks
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/BetaFeatures
    template:
      - name: npm
      - name: extension-unittests-generic
    check:
      - jsonlint

  - name: mediawiki/extensions/BlameMaps
    template:
      - name: archived

  - name: mediawiki/extensions/BlogPage
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/BoilerPlate
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/BookManager
    template:
      - name: extension-unittests-non-voting
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/BookManagerv2
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/BounceHandler
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Buggy
    template:
      - name: npm
      - name: extension-unittests-generic
    check:
     - jsonlint

  - name: mediawiki/extensions/Calendar
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Campaigns
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Capiunto
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Cards
    template:
      - name: composer-test
      - name: extension-gate
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/CategoryTagSorter
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/CategoryTree
    template:
      - name: jshint
      - name: npm
      - name: extension-unittests-generic
    check:
      - jsonlint

  - name: mediawiki/extensions/CharInsert
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/CheckUser
    template:
      - name: composer-test
      - name: extension-gate
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/Cite
    template:
      - name: composer-test
      - name: extension-gate
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/CiteThisPage
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Citoid
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/cldr
    template:
      - name: composer-test
      - name: extension-gate
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/CentralAuth
    template:
      - name: extension-qunit-generic
      - name: extension-unittests-generic
      - name: rake
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/CentralNotice
    template:
      - name: composer-test
      - name: extension-qunit-generic
      - name: extension-unittests-generic
      - name: rake
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/CirrusSearch
    template:
      - name: extension-gate
      - name: rake
      - name: mw-checks-test
      - name: npm
    check:
      - jsonlint
      - jshint
    test:
      - mwext-CirrusSearch-whitespaces
    gate-and-submit:
      - mwext-CirrusSearch-whitespaces

  - name: mediawiki/extensions/CleanChanges
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/ClickTracking
    template:
      - name: archived

  - name: mediawiki/extensions/ClientSide
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/CodeEditor
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/CodeMirror
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/CodeReview
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/CollaborationKit
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/CollapsibleVector
    template:
     - name: composer-test
     - name: extension-unittests-generic
     - name: npm
    check:
     - jshint
     - jsonlint

  - name: mediawiki/extensions/Collection
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
     - jshint
     - jsonlint

  - name: mediawiki/extensions/Collection/OfflineContentGenerator
    template:
      - name: npm-legacy

  - name: mediawiki/extensions/Collection/OfflineContentGenerator/bundler
    template:
      - name: npm-legacy

  - name: mediawiki/extensions/Collection/OfflineContentGenerator/latex_renderer
    template:
      - name: npm-legacy

  - name: mediawiki/extensions/Collection/OfflineContentGenerator/text_renderer
    template:
      - name: npm-legacy

  - name: mediawiki/extensions/Collection/OfflineContentGenerator/zim_renderer
    template:
      - name: npm

  - name: mediawiki/extensions/CommonsMetadata
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Configure
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/ConfirmAccount
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/ConfirmEdit
    template:
      - name: composer-test
      - name: extension-gate
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/ContentTranslation
    template:
      - name: composer-test
      - name: rake
      - name: npm
      - name: extension-unittests-generic
      - name: extension-qunit-generic
    check:
      - php53lint
      - jsonlint
      - jshint

  - name: mediawiki/extensions/ContributionScores
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/ContributionsList
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/CommonMessages
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/CommunityApplications
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/CommunityHiring
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/CommunityVoice
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/ContactPage
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/ContactPageFundraiser
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/FundraisingChart
    template:
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/ContributionReporting
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/ContributionTracking
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/ConventionExtension
    template:
      - name: archived

  - name: mediawiki/extensions/CreditsSource
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/CustomData
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/CustomUserSignup
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/DebugMode
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/DeleteBatch
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/DeletePagesForGood
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/DisableAccount
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Disambiguator
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/DiscussionThreading
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/DismissableSiteNotice
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/DonationInterface
    template:
      - name: extension-unittests-non-voting
      - name: npm
    check:
      - jsonlint
      - jshint
    test:
      - mwext-donationinterfacecore125-testextension-zend53
    gate-and-submit:
      - mwext-donationinterfacecore125-testextension-zend53

  - name: mediawiki/extensions/DoubleWiki
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Drafts
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/DynamicSidebar
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/DumpHTML
    template:
      - name: mw-checks-test
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/E3Experiments
    template:
      - name: archived

  - name: mediawiki/extensions/Echo
    template:
      - name: composer-test
      - name: extension-gate
      - name: extension-unittests-generic
      - name: extension-qunit-generic
      - name: rake
      - name: npm
      - name: extension-selenium
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/EditAccount
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Editcount
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/EditPageTracking
    template:
      - name: extension-unittests-non-voting
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/EditUser
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/EducationProgram
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Elastica
    template:
      - name: mw-checks-test
      - name: extension-gate
      - name: jshint
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/EmailCapture
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/EtherEditor
    template:
      - name: extension-unittests-non-voting
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/EventLogging
    template:
      - name: composer-test
      - name: extension-gate
      - name: extension-unittests-generic
      - name: extension-qunit-generic
      - name: jsduck
      - name: npm
    check:
      - jsonlint
    postmerge:
      - mwext-jsduck-publish

  - name: eventlogging
    template:
      - name: tox-jessie

  - name: mediawiki/extensions/EventBus
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/ExpandTemplates
    template:
      - name: archived

  - name: mediawiki/extensions/ExtensionDistributor
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/FeaturedFeeds
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/FlaggedRevs
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/Flow
    template:
     - name: composer-test
     - name: extension-gate
     - name: rake
     - name: jsduck
     - name: npm
    check:
     - jshint
     - jsonlint
    experimental:
     - mwext-mw-selenium
    postmerge:
     - mwext-jsduck-publish

  - name: mediawiki/extensions/FormPreloadPostCache
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/FundraiserLandingPage
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/FundraisingTranslateWorkflow
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
     - jsonlint

  - name: mediawiki/extensions/Gadgets
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/Gather
    template:
      - name: composer-test
      - name: extension-gate
      - name: extension-qunit-generic
      - name: rake
      - name: extension-unittests-generic
      - name: npm
      - name: extension-selenium
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/GettingStarted
    template:
      - name: extension-unittests-generic
      - name: extension-qunit-generic
      - name: rake
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/GeoCrumbs
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/GeoData
    template:
      - name: jshint
      - name: extension-gate
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/GeoGebra
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/Git2Pages
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/GitHub
    template:
      - name: extension-unittests-composer
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Gitweb
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/GlobalBlocking
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/GlobalContributions
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/GlobalCssJs
    template:
      - name: jshint
      - name: extension-gate
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/GlobalPreferences
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/GlobalUsage
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/GlobalUserPage
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/GoogleAdSense
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/GoogleAPIClient
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-composer

  - name: mediawiki/extensions/GoogleAnalyticsTopPages
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/GoogleAppEngine
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/GoogleCustomWikiSearch
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/GoogleLogin
    template:
      - name: composer-test
      - name: extension-unittests-composer
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/GoogleNewsSitemap
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/GoogleSiteSearch
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/GPGMail
    template:
      - name: composer-test
      - name: npm
      - name: extension-unittests-generic
    check:
      - jsonlint

  - name: mediawiki/extensions/Graph
    template:
      - name: npm
      - name: extension-unittests-generic
    check:
      - jsonlint

  - name: mediawiki/extensions/GraphViz
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/GuidedTour
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: extension-qunit-generic
      - name: jsduck
      - name: npm
      - name: extension-gate
    check:
      - jsonlint
      - jshint
    postmerge:
     - mwext-jsduck-publish

  - name: mediawiki/extensions/GWToolset
    template:
      - name: composer-test
      - name: jshint
      - name: npm
      - name: extension-unittests-generic
    check:
      - jsonlint

  - name: mediawiki/extensions/HelpPages
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/I18nTags
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/ImageMap
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/ImportArticles
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/InputBox
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/Insider
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Interwiki
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/intersection
    template:
      - name: jshint
      - name: extension-unittests-non-voting
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/JsonConfig
    template:
      - name: extension-gate
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Kartographer
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/LabeledSectionTransclusion
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/LandingCheck
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/LanguageTool
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/LastModified
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/LdapAuthentication
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Lingo
    template:
      - name: composer-test
      - name: extension-unittests-non-voting
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/LinkedWiki
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/LiquidThreads
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/Listings
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/LocalisationUpdate
    template:
      - name: composer-test
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Mailgun
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Mantle
    template:
      - name: archived

  - name: mediawiki/extensions/Math
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: rake
      - name: npm
    check:
      - jshint
      - jsonlint

  - name: mediawiki/extensions/MathSearch
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/MapSources
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/MassAction
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/MassMessage
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: composer-test
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/MarkAsHelpful
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/MixedNamespaceSearchSuggestions
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/MobileFrontend
    template:
      - name: extension-gate
      - name: extension-qunit-generic
      - name: extension-unittests-generic
      - name: rake
      - name: composer-test
      - name: npm-legacy  # T130587
      - name: extension-selenium
    check:
      - jshint
      - jsonlint
      - php53lint
    postmerge:
      - mwext-jsduck-publish
      - mwext-MobileFrontend-doxygen-publish

  - name: mediawiki/extensions/MobileApp
    template:
      - name: extension-gate
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/MolHandler
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/MoodBar
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/MultiMaps
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/MultimediaViewer
    template:
      - name: extension-qunit-generic
      - name: rake
      - name: extension-unittests-generic
      - name: jshint
      - name: jsduck
      - name: npm
      - name: extension-selenium
    check:
      - jsonlint
    postmerge:
      - mwext-jsduck-publish

  - name: mediawiki/extensions/MwEmbedSupport
    template:
      - name: composer-test
      - name: extension-gate
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/MWSearch
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/NaturalLanguageList
    template:
      - name: extension-unittests-non-voting
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/NavigationTiming
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/NewestPages
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/NewUserMessage
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/NewUserNotif
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/NoBogusUserpages
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Nonlinear
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/Nostalgia
    template:
      - name: archived

  - name: mediawiki/extensions/Nuke
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/OATHAuth
    template:
      - name: composer-test
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/OAI
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/OAuth
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/OAuthAuthentication
    template:
      - name: composer-test
      - name: npm
      - name: extension-unittests-generic
    check:
      - jsonlint

  - name: mediawiki/extensions/Offline
    template:
      - name: archived

  - name: mediawiki/extensions/OggHandler
    template:
      - name: archived

  - name: mediawiki/extensions/OpenID
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/OpenIDConnect
    template:
      - name: extension-unittests-non-voting
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/OpenSearchXml
    template:
      - name: archived

  - name: mediawiki/extensions/OpenStackManager
    template:
     - name: composer-test
     - name: extension-unittests-generic
     - name: npm
    check:
     - jsonlint
     - jshint

  - name: mediawiki/extensions/ORES
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/PageAssessments
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/PageBlock
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/PagedTiffHandler
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/PageImages
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/PageTriage
    template:
      - name: extension-unittests-generic
      - name: rake
      - name: composer-test
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/ParserFunctions
    template:
      - name: composer-test
      - name: extension-gate
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/ParserHooks
    template:
      - name: composer-test
      - name: extension-unittests-composer
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Patroller
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Petition
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/Prezi
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

# Start of new currently disabled extensions checks from mass extension import - Addshore

  - name: mediawiki/extensions/AbsenteeLandlord
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/AccessControl
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/AccessibilitySimulation
    template:
      - name: archived

  - name: mediawiki/extensions/ActionEditSubmit
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/AddHTMLMetaAndTitle
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/AddThis
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/AdManager
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Ads
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/AdvancedMeta
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/AjaxLogin
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/AJAXPoll
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/AkismetKlik
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/AllTimeZones
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/AnchorHandler
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/ApiExplorer
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/ApiFeatureUsage
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/ApiSVGProxy
    template:
      - name: archived

  - name: mediawiki/extensions/ArticleCreationWorkflow
    template:
      - name: archived

  - name: mediawiki/extensions/ArticleIndex
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/AssertEdit
    template:
      - name: archived

  - name: mediawiki/extensions/Auth_remoteuser
    template:
      - name: extension-unittests-non-voting
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/AuthorProtect
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/AutoCreateCategoryPages
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/AutomaticBoardWelcome
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/AutoProxyBlock
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Awesomeness
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/AWS
    template:
      - name: composer-test
      - name: extension-unittests-composer
    check:
      - jsonlint

  - name: mediawiki/extensions/AWSSDK
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/BatchUserRights
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/BayesianFilter
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/BiblioPlus
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/BibManager
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/Blackout
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/BlockAndNuke
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  # meta repo containing a bunch of extensions. Would need one day a proper job
  # that loads all of them and run test suite.
  - name: mediawiki/extensions/BlueSpiceExtensions
    template:
      - name: mw-checks-test
      - name: npm

  - name: mediawiki/extensions/BlueSpiceFoundation
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/Bootstrap
    template:
      - name: extension-unittests-composer
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/BreadCrumbs
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jshint
      - jsonlint

  - name: mediawiki/extensions/BreadCrumbs2
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/Carp
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Cargo
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/CategorySlideShow
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/CategorySortHeaders
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/CategoryTests
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/CentralLogging
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/CharRangeSpan
    template:
      - name: extension-unittests-non-voting
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Checkpoint
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/CloseWikis
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Commentbox
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/CommentPages
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Comments
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/CommunityTwitter
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/ConditionalShowSection
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/CongressLookup
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Contest
    template:
      - name: composer-test
      - name: extension-unittests-non-voting
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/Contributors
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Convert2Wiki
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/CopyToClipboard
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/CreatePage
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/CreateRedirect
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jshint
      - jsonlint

  - name: mediawiki/extensions/CreditTab
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/CryoKey
    template:
      - name: composer-test
      - name: extension-unittests-non-voting
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/CSS
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/DataTransfer
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/DeleteOwn
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Description2
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/DeviceMapLogCapture
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/Diagnosis
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Dice
    template:
      - name: archived

  - name: mediawiki/extensions/DidYouKnow
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/DidYouMean
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/DisqusTag
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/DjangoAnalytics
    template:
      - name: extension-unittests-non-voting

  - name: mediawiki/extensions/DownloadCounter
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/DPLforum
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Duplicator
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/DynamicPageList
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/EditSubpages
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/EnhanceContactForm
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/ErrorHandler
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/EtherpadLite
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/examples
    template:
      - name: jsonlint
      - name: jshint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/ExternalArticles
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/ExternalData
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/ExtraLanguageLink
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/ExtTab
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/FanBoxes
    template:
      - name: composer-test
      - name: extension-unittests-non-voting
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/FeedsFromPrivateWikis
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/FilterListUsers
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/FirstSteps
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/FlvHandler
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/ForcePreview
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/FormatDates
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/FormatNum
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/FormelApplet
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Foxway
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/FundraisingEmailUnsubscribe
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/Genderize
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/GlobalNotice
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/GlobalUserGroups
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/GlobalUserrights
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/googleAnalytics
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/GoogleDocs4MW
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/GoogleDocTag
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/GoogleMaps
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/GooglePlusOne
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/GroupsSidebar
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/HashTables
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/HeaderTabs
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/HelpCommons
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/HidePrefix
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/HostStats
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Hovergallery
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/HSTS
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/HTMLets
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/HTMLTags
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/IframePage
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/IfTemplates
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/ImageLink
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/ImageMetrics
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: extension-qunit-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/IndexFunction
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/InlineCategorizer
    template:
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/InteractiveBlockMessage
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/Interlanguage
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/InterwikiMagic
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic


  - name: mediawiki/extensions/InviteSignup
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/Josa
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/JSBreadCrumbs
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/JsonData
    template:
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/LanguageSelector
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/LanguageTag
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Less
    template:
      - name: archived

  - name: mediawiki/extensions/LifeWeb
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/LifeWebCore
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/LightweightRDFa
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/Limn
    template:
      - name: archived

  - name: mediawiki/extensions/LinkFilter
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/LinkSuggest
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/ListSignup
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-non-voting

  - name: mediawiki/extensions/LiveTranslate
    template:
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/Lockdown
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/LockDownEnglishPages
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/LogEntry
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/LogoFunctions
    template:
      - name: jsonlint
      - name: jshint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/LookupUser
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/LoopFunctions
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/Loops
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/MagicNoCache
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic


  - name: mediawiki/extensions/Maintenance
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/MaintenanceShell
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Maps
    template:
      - name: jsonlint
      - name: extension-unittests-non-voting

  - name: mediawiki/extensions/MassEditRegex
    template:
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/MediaFunctions
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/MediaWikiAuth
    template:
      - name: jsonlint
      - name: jshint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/MediaWikiChat
    template:
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/Minifier
    template:
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/Model
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/Moodle
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/Mpdf
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/MsLinks
    template:
      - name: jsonlint
      - name: extension-unittests-non-voting

  - name: mediawiki/extensions/MSSQLBackCompat
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/MsUpload
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/MultimediaPlayer
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-non-voting

  - name: mediawiki/extensions/MultiUpload
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/MyVariables
    template:
      - name: jsonlint
      - name: jshint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/NamespaceHTML
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/NamespacePaths
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/NamespaceRelations
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/Negref
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/NetworkAuth
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/News
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/NewsBox
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-non-voting

  - name: mediawiki/extensions/NewSignupPage
    template:
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/Newsletter
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/NewUsersList
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/NoTitle
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/NSFileRepo
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/NukeDPL
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/NumberFormat
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/NumberOfWikis
    template:
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/Numbertext
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/NumerAlpha
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/OdbcDatabase
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/OfflineImportLexicon
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/OnlineStatus
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/OnlineStatusBar
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-non-voting

  - name: mediawiki/extensions/OnlyRecentRecentChanges
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/OpenGraphMeta
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/OpenStreetMapSlippyMap
    template:
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/OracleTextSearch
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/Oversight
    template:
      - name: archived

  - name: mediawiki/extensions/PageCreationNotif
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic


  - name: mediawiki/extensions/PageDisqus
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/PageInCat
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/PageLanguage
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/PageNotice
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/PageSchemas
    template:
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/PageTools
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/PanScroll
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/PdfBook
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/PdfExport
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/PerPageLicense
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/Persona
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/PGFTikZ
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/Phalanx
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/PhpHighlight
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/PhpTagsMaps
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-non-voting

  - name: mediawiki/extensions/PhpTagsSMW
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-non-voting

  - name: mediawiki/extensions/PictureGame
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-non-voting

  - name: mediawiki/extensions/PipeEscape
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/Poll
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/PollNY
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-non-voting

  - name: mediawiki/extensions/Polyglot
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/PrefStats
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/PrefSwitch
    template:
      - name: archived

  - name: mediawiki/extensions/Premoderation
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/PrivateDomains
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/PronunciationRecording
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jshint
      - jsonlint

  - name: mediawiki/extensions/ProtectSite
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/PubSubHubbub
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/PurgeClickThrough
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/Push
    template:
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/PushToWatch
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/Quantcast
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/QuickResponse
    template:
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/QuickSurveys
    template:
      - name: composer-test
      - name: extension-qunit-generic
      - name: rake
      - name: extension-unittests-generic
      - name: npm
      - name: extension-selenium
    check:
      - jshint
      - jsonlint

  - name: mediawiki/extensions/QuickSearchLookup
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/QuizGame
    template:
      - name: jsonlint
      - name: extension-unittests-non-voting

  - name: mediawiki/extensions/QuizTabulate
    template:
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/RandomFeaturedUser
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/RandomGameUnit
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/RandomImage
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/RandomImageByCategory
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/RandomInCategory
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/RandomUsersWithAvatars
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/Ratings
    template:
      - name: jsonlint
      - name: extension-unittests-non-voting

  - name: mediawiki/extensions/RDFIO
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-non-voting

  - name: mediawiki/extensions/ReassignEdits
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/Reflect
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/RefreshSpecial
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/RegexFun
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-non-voting

  - name: mediawiki/extensions/RegexFunctions
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/RelationLinks
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/RestBaseUpdateJobs
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/RevisionCommentSupplement
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/RightFunctions
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/RT
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/SafeDelete
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/SandboxLink
    template:
      - name: extension-gate
      - name: composer-test
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Sarcasm
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-non-voting

  - name: mediawiki/extensions/ScanSet
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/Screenplay
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-non-voting

  - name: mediawiki/extensions/SearchRealnames
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-non-voting

  - name: mediawiki/extensions/SectionDisqus
    template:
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/SecureHTML
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/SecurePasswords
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-non-voting

  - name: mediawiki/extensions/SecureSessions
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/SelectCategory
    template:
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/SelectTag
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/SemanticComments
    template:
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/SemanticHighcharts
    template:
      - name: jsonlint
      - name: extension-unittests-non-voting

  - name: mediawiki/extensions/SemanticRating
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-non-voting

  - name: mediawiki/extensions/SemanticSifter
    template:
      - name: jsonlint
      - name: jshint
      - name: extension-unittests-non-voting

  - name: mediawiki/extensions/SemanticWebBrowser
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/SharedCssJs
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/ShortUrlApi
    template:
      - name: jsonlint
      - name: jshint
      - name: extension-unittests-non-voting

  - name: mediawiki/extensions/ShoutBox
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/ShoutWikiAds
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/ShoutWikiAPI
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/SidebarDonateBox
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/SignWritingMediaWikiPlugin
    template:
      - name: jsonlint
      - name: extension-unittests-non-voting

  - name: mediawiki/extensions/SimpleChanges
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/SimpleSecurity
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/SimpleSurvey
    template:
      - name: archived

  - name: mediawiki/extensions/SiteMetrics
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/SiteSettings
    template:
      - name: composer-test
      - name: extension-unittests-non-voting
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/SkelJS
    template:
      - name: jsonlint
      - name: jshint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/SkinPerNamespace
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/SlimboxThumbs
    template:
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/SmiteSpam
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/SmoothGallery
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/SocialLogin
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/SocialProfile
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/SoftwareVersion
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/SolrStore
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-non-voting

  - name: mediawiki/extensions/SoundManager2Button
    template:
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/Spark
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/Special404
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/SpellingApi
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/SphinxSearch
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-non-voting

  - name: mediawiki/extensions/SportsTeams
    template:
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/SSLClientAuthentication
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-non-voting

  - name: mediawiki/extensions/StaffEdits
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/StalkerLog
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/StarterWiki
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/StringFunctionsEscaped
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/SubpageFun
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/Suhosin
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/SwarmExport
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-non-voting


  - name: mediawiki/extensions/SwiftMailer
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/Tabber
    template:
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/Tabs
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-non-voting

  - name: mediawiki/extensions/TemplateInfo
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/Theme
    template:
     - name: composer-test
     - name: extension-unittests-generic
     - name: npm
    check:
     - jsonlint
     - jshint

  - name: mediawiki/extensions/ThemeDesigner
    template:
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/ThrottleOverride
    template:
      - name: jsonlint
      - name: jshint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/ThumbParser
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/TimelineTable
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/TimeMachine
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/TimezoneSelector
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/TitleIcon
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/TranslateSvg
    template:
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/TweetANew
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/TwitterCards
    template:
      - name: extension-unittests-generic

  - name: mediawiki/extensions/TwitterLogin
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jshint
      - jsonlint

  - name: mediawiki/extensions/TwoFactorAuthentication
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/UIFeedback
    template:
      - name: jsonlint
      - name: extension-unittests-non-voting

  - name: mediawiki/extensions/UnitTest
    template:
      - name: archived

  - name: mediawiki/extensions/UpdateMediaWiki
    template:
      - name: jsonlint
      - name: extension-unittests-non-voting

  - name: mediawiki/extensions/UploadLocal
    template:
      - name: extension-unittests-generic

  - name: mediawiki/extensions/UploadsLink
    template:
      - name: extension-unittests-generic
      - name: composer-test
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/UrlGetParameters
    template:
      - name: extension-unittests-generic

  - name: mediawiki/extensions/UrlShortener
    template:
      - name: npm
      - name: extension-unittests-generic

  - name: mediawiki/extensions/URNames
    template:
      - name: extension-unittests-generic

  - name: mediawiki/extensions/UserFunctions
    template:
      - name: extension-unittests-generic

  - name: mediawiki/extensions/UserGroups
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/UserPageViewTracker
    template:
      - name: extension-unittests-non-voting

  - name: mediawiki/extensions/UserStatus
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/Video
    template:
      - name: extension-unittests-generic

  - name: mediawiki/extensions/ViewFiles
    template:
      - name: extension-unittests-generic

  - name: mediawiki/extensions/Views
    template:
      - name: extension-unittests-generic

  - name: mediawiki/extensions/Vine
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/VisualChat
    template:
      - name: extension-unittests-non-voting

  - name: mediawiki/extensions/VoteNY
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/WantedPagesFromNS
    template:
      - name: extension-unittests-generic

  - name: mediawiki/extensions/WatchSubpages
    template:
      - name: extension-unittests-generic

  - name: mediawiki/extensions/WebPlatformSearchAutocomplete
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/WhitelistPages
    template:
      - name: extension-unittests-generic

  - name: mediawiki/extensions/WhiteSpace
    template:
      - name: extension-unittests-generic

  - name: mediawiki/extensions/WhoIsWatching
    template:
      - name: extension-unittests-generic

  - name: mediawiki/extensions/Widgets
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-non-voting

  - name: mediawiki/extensions/WikiArticleFeeds
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/WikibaseMobile
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/WikibaseSolr
    template:
      - name: archived

  - name: mediawiki/extensions/WikiCategoryTagCloud
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/WikidataEntitySuggester
    template:
      - name: jsonlint
      - name: jshint
      - name: extension-unittests-non-voting

  - name: mediawiki/extensions/WikidataPageBanner
    template:
      - name: composer-test
      - name: extension-qunit-generic
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/WikibaseQuality
    template:
      - name: extension-unittests-composer
      - name: extension-qunit-composer
      - name: jsonlint
      - name: npm
    check:
      - composer-package-validate
    test:
      - composer-package-validate
    gate-and-submit:
      - composer-package-validate

  - name: mediawiki/extensions/WikibaseQualityConstraints
    template:
      - name: extension-unittests-composer
      - name: extension-qunit-composer
      - name: jsonlint
      - name: npm
    check:
      - composer-package-validate
    test:
      - composer-package-validate
    gate-and-submit:
      - composer-package-validate

  - name: mediawiki/extensions/WikibaseQualityExternalValidation
    template:
      - name: extension-unittests-composer
      - name: extension-qunit-composer
      - name: jsonlint
      - name: npm
    check:
      - composer-package-validate
    test:
      - composer-package-validate
    gate-and-submit:
      - composer-package-validate

  - name: mediawiki/extensions/WikibaseMediaInfo
    template:
      - name: composer-test
      - name: extension-unittests-composer
      - name: extension-qunit-composer
      - name: npm
    check:
      - composer-package-validate
    test:
      - composer-package-validate
    gate-and-submit:
      - composer-package-validate
    experimental:
      - mwext-mw-selenium-composer

  - name: mediawiki/extensions/WikiLabels
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Wikilog
    template:
      - name: extension-unittests-generic

  - name: mediawiki/extensions/WikiLovesMonuments
    template:
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/WikiPinger
    template:
      - name: npm
      - name: extension-unittests-generic
      - name: composer-test

  - name: mediawiki/extensions/WikiTextLoggedInOut
    template:
      - name: extension-unittests-generic

  - name: mediawiki/extensions/WikiTwidget
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/WikivoteMapsYandex
    template:
      - name: jsonlint
      - name: extension-unittests-non-voting

  - name: mediawiki/extensions/WindowsAzureSDK
    template:
      - name: extension-unittests-non-voting

  - name: mediawiki/extensions/WindowsAzureStorage
    template:
      - name: extension-unittests-generic

  - name: mediawiki/extensions/WYSIWYG
    template:
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/XMLContentExtension
    template:
      - name: jsonlint
      - name: jshint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/YetAnotherKeywords
    template:
      - name: extension-unittests-generic

  - name: mediawiki/extensions/YotpoReviews
    template:
      - name: extension-unittests-generic

  - name: mediawiki/extensions/YouTube
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/ArticleComments
    template:
     - name: jsonlint
     - name: extension-unittests-generic

  - name: mediawiki/extensions/AzharAuth
    template:
     - name: extension-unittests-generic
     - name: jsonlint

  - name: mediawiki/extensions/Challenge
    template:
     - name: extension-unittests-generic
     - name: jsonlint

  - name: mediawiki/extensions/ContributorsAddon
    template:
     - name: extension-unittests-generic
     - name: jsonlint

  # Empty repo - 20151127
  - name: mediawiki/extensions/DetectLanguage
    template:
     - name: archived

  - name: mediawiki/extensions/EditSimilar
    template:
     - name: jsonlint
     - name: jshint
     - name: extension-unittests-generic

  - name: mediawiki/extensions/Farmer
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/Favorites
    template:
     - name: extension-unittests-generic
     - name: jsonlint

  - name: mediawiki/extensions/FixedHeaderTable
    template:
     - name: extension-unittests-generic
     - name: jsonlint

  - name: mediawiki/extensions/GoToShell
    template:
     - name: extension-unittests-generic
     - name: jsonlint

  # Depends on SemanticForms
  - name: mediawiki/extensions/HierarchyBuilder
    template:
     - name: mw-checks

  - name: mediawiki/extensions/HitCounters
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  # Require $wgNamespacesWithSubpages set to TRUE in the MAIN namespace.
  - name: mediawiki/extensions/Html2Wiki
    template:
     - name: mw-checks

  - name: mediawiki/extensions/ImageTagging
    template:
     - name: extension-unittests-generic
     - name: jsonlint

  - name: mediawiki/extensions/InterwikiIntegration
    template:
     - name: extension-unittests-generic
     - name: jsonlint

  # Empty repo - 20151127
  - name: mediawiki/extensions/InterwikiMap
    template:
     - name: archived

  # Empty repo - 20151127
  - name: mediawiki/extensions/IssueTracker
    template:
     - name: archived

  - name: mediawiki/extensions/LDAPAuthorization
    template:
     - name: extension-unittests-generic
     - name: jsonlint

  - name: mediawiki/extensions/LastUserLogin
    template:
     - name: extension-unittests-generic
     - name: jsonlint

  - name: mediawiki/extensions/LinkSuggest2
    template:
     - name: extension-unittests-generic
     - name: jsonlint

  # Missing entry point
  - name: mediawiki/extensions/Link_Attributes
    template:
     - name: mw-checks

  - name: mediawiki/extensions/MadLib
    template:
     - name: extension-unittests-generic
     - name: jsonlint

  - name: mediawiki/extensions/MiniInvite
    template:
     - name: extension-unittests-generic
     - name: jsonlint

  - name: mediawiki/extensions/MobileDetect
    template:
     - name: extension-unittests-generic
     - name: jsonlint

  - name: mediawiki/extensions/MsCalendar
    template:
     - name: extension-unittests-generic
     - name: jsonlint

  - name: mediawiki/extensions/MsCatSelect
    template:
     - name: extension-unittests-generic
     - name: jsonlint

  - name: mediawiki/extensions/MsInsert
    template:
     - name: extension-unittests-generic
     - name: jsonlint

  - name: mediawiki/extensions/MsWikiEditor
    template:
     - name: extension-unittests-generic
     - name: jsonlint

  - name: mediawiki/extensions/MultiBoilerplate
    template:
     - name: extension-unittests-generic
     - name: jsonlint

  # File not found
  # /OOUIPlayground/vendor/autoload.php
  - name: mediawiki/extensions/OOUIPlayground
    template:
     - name: mw-checks

  - name: mediawiki/extensions/OOJsUIAjaxLogin
    template:
      - name: extension-qunit-generic
      - name: extension-unittests-generic
      - name: composer-test
      - name: jsduck
      - name: npm
    check:
      - jshint
      - jsonlint

  - name: mediawiki/extensions/PagesList
    template:
     - name: extension-unittests-generic
     - name: jsonlint

  - name: mediawiki/extensions/PaginateText
    template:
     - name: extension-unittests-generic
     - name: jsonlint

  # Depends on Validator and Parse
  - name: mediawiki/extensions/ParserFun
    template:
     - name: mw-checks

  # Empty repo - 20151127
  - name: mediawiki/extensions/PhpTagsDebugger
    template:
     - name: archived

  # Empty repo - 20151127
  - name: mediawiki/extensions/PlanOut
    template:
     - name: archived

  - name: mediawiki/extensions/PluggableAuth
    template:
     - name: extension-unittests-generic
     - name: jsonlint

  - name: mediawiki/extensions/PopupPages
    template:
     - name: extension-unittests-generic
     - name: jsonlint

  - name: mediawiki/extensions/PureWikiDeletion
    template:
     - name: extension-unittests-generic
     - name: jsonlint

  - name: mediawiki/extensions/RPED
    template:
     - name: extension-unittests-generic
     - name: jsonlint

  - name: mediawiki/extensions/RecentActivityFeed
    template:
     - name: extension-unittests-generic
     - name: jsonlint

  - name: mediawiki/extensions/ReorderParserPhases
    template:
     - name: extension-unittests-generic
     - name: jsonlint

  - name: mediawiki/extensions/RevealEmail
    template:
     - name: extension-unittests-generic
     - name: jsonlint

  - name: mediawiki/extensions/SacredText
    template:
     - name: extension-unittests-generic
     - name: jsonlint

  - name: mediawiki/extensions/SemanticBreadcrumbLinks
    template:
     - name: mw-checks

  - name: mediawiki/extensions/SemanticDependency
    template:
     - name: mw-checks

  - name: mediawiki/extensions/SemanticInterlanguageLinks
    template:
     - name: mw-checks

  - name: mediawiki/extensions/SimpleSAMLphp
    template:
     - name: extension-unittests-generic
     - name: jsonlint

  - name: mediawiki/extensions/SiteScout
    template:
     - name: extension-unittests-generic
     - name: jsonlint

  - name: mediawiki/extensions/SpecialNamespaces
    template:
     - name: extension-unittests-generic
     - name: jsonlint

  - name: mediawiki/extensions/SubPageList
    template:
     - name: extension-unittests-generic
     - name: jsonlint

  - name: mediawiki/extensions/Teahouse
    template:
     - name: extension-unittests-generic
     - name: jsonlint

  - name: mediawiki/extensions/Tooltip
    template:
     - name: extension-unittests-generic
     - name: jsonlint

  - name: mediawiki/extensions/TopTenPages
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: jsonlint

  - name: mediawiki/extensions/VIKI
    template:
     - name: extension-unittests-generic
     - name: jsonlint

  - name: mediawiki/extensions/VideoJsPlayer
    template:
     - name: extension-unittests-generic
     - name: jsonlint

  # Empty repo - 20151127
  - name: mediawiki/extensions/ViewportMetrics
    template:
     - name: archived

  - name: mediawiki/extensions/VikiSemanticTitle
    template:
     - name: extension-unittests-generic
     - name: jsonlint

  - name: mediawiki/extensions/VikiTitleIcon
    template:
     - name: extension-unittests-generic
     - name: jsonlint

  - name: mediawiki/extensions/WebCache
    template:
     - name: extension-unittests-generic
     - name: jsonlint

  - name: mediawiki/extensions/WhosOnline
    template:
     - name: extension-unittests-generic
     - name: jsonlint

  - name: mediawiki/extensions/WikEdDiff
    template:
     - name: extension-unittests-generic
     - name: jsonlint

  # Empty repo - 20151127
  - name: mediawiki/extensions/WikibaseClient
    template:
     - name: archived

  # Empty repo - 20151127
  - name: mediawiki/extensions/WikibaseLib
    template:
     - name: archived

  # Class undefined: Wikibase\Query\Setup\ExtensionSetup
  - name: mediawiki/extensions/WikibaseQuery
    template:
     - name: mw-checks

  # Empty repo - 20151127
  - name: mediawiki/extensions/WikibaseRepository
    template:
     - name: archived

  # Empty repo - 20151127
  - name: mediawiki/extensions/WikibaseView
    template:
     - name: archived

  - name: mediawiki/extensions/XAnalytics
    template:
      - name: mw-checks-test
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/ZeroRatedMobileAccess
    template:
     - name: archived

  - name: mediawiki/extensions/normal
    template:
     - name: archived

# End of new currently disabled extensions checks from mass extension import - Addshore

  - name: mediawiki/services/citoid
    template:
      - name: npm

  - name: mediawiki/services/citoid/deploy
    test:
      - citoid-deploy-npm-node-4.3
    gate-and-submit:
      - citoid-deploy-npm-node-4.3

  - name: mediawiki/services/cxserver
    template:
      - name: npm
    postmerge:
      - beta-cxserver-update-eqiad

  - name: mediawiki/services/cxserver/deploy
    test:
      - cxserver-deploy-npm-node-4.3
    gate-and-submit:
      - cxserver-deploy-npm-node-4.3
    postmerge:
      - beta-cxserver-update-eqiad

  - name: mediawiki/services/graphoid
    template:
      - name: npm

  - name: mediawiki/services/graphoid/deploy
    test:
      - graphoid-deploy-npm-node-4.3
    gate-and-submit:
      - graphoid-deploy-npm-node-4.3

  - name: mediawiki/services/jobrunner
    template:
     - name: composer-test-package

  - name: mediawiki/services/mathoid
    template:
      - name: npm

  - name: mediawiki/services/mathoid/deploy
    test:
      - mathoid-deploy-npm-node-4.3
    gate-and-submit:
      - mathoid-deploy-npm-node-4.3

  - name: mediawiki/services/mobileapps
    template:
      - name: npm

  - name: mediawiki/services/mobileapps/deploy
    test:
      - mobileapps-deploy-npm-node-4.3
    gate-and-submit:
      - mobileapps-deploy-npm-node-4.3

  - name: mediawiki/services/parsoid
    test:
      - parsoidsvc-jshint
      - parsoidsvc-jsonlint
      - parsoidsvc-php-parsertests
      - parsoidsvc-source-parse-tool-check
      - parsoidsvc-source-roundtrip-test-check
      - parsoidsvc-source-npm-0.10
      #- parsoidsvc-source-npm-node-4.3
    gate-and-submit:
      - parsoidsvc-jshint
      - parsoidsvc-jsonlint
      - parsoidsvc-php-parsertests
      - parsoidsvc-source-parse-tool-check
      - parsoidsvc-source-roundtrip-test-check
      - parsoidsvc-source-npm-0.10
      #- parsoidsvc-source-npm-node-4.3
    postmerge:
      - beta-parsoid-update-eqiad
      - parsoidsvc-source-jsduck-publish
    experimental:
      - parsoidsvc-source-npm-node-4.3

  - name: mediawiki/services/parsoid/deploy
    test:
      - parsoidsvc-debian-glue
      - parsoidsvc-deploy-parse-tool-check
      - parsoidsvc-deploy-roundtrip-test-check
      - parsoidsvc-deploy-npm-0.10
      #- parsoidsvc-deploy-npm-node-4.3
    gate-and-submit:
      - parsoidsvc-deploy-parse-tool-check
      - parsoidsvc-deploy-roundtrip-test-check
      - parsoidsvc-deploy-npm-0.10
      #- parsoidsvc-deploy-npm-node-4.3
    postmerge:
      - beta-parsoid-update-eqiad
    experimental:
      - parsoidsvc-deploy-npm-node-4.3

  - name: mediawiki/services/rcstream
    template:
      - name: tox-jessie

  - name: mediawiki/extensions/Parsoid
    template:
      - name: archived

  - name: mediawiki/extensions/ParsoidBatchAPI
    template:
      - name: extension-unittests-generic
      - name: jsonlint

  - name: mediawiki/extensions/PdfHandler
    template:
      - name: composer-test
      - name: extension-gate
      - name: rake
      - name: jshint
      - name: npm

  - name: mediawiki/extensions/PerformanceInspector
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jshint
      - jsonlint

  - name: mediawiki/extensions/PhpTags
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/PhpTagsFunctions
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/PhpTagsStorage
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/PhpTagsWidgets
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/PhpTagsWiki
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/PHPExcel
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/Poem
    template:
      - name: composer-test
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/PoolCounter
    template:
      - name: rake
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
    test:
      - mwext-PoolCounter-build
    gate-and-submit:
      - mwext-PoolCounter-build

  - name: mediawiki/extensions/Popups
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: extension-qunit-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/PostEdit
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/ProofreadPage
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Quiz
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/RandomRootPage
    template:
      - name: archived

  - name: mediawiki/extensions/ReaderFeedback
    template:
      - name: extension-unittests-generic

  - name: mediawiki/extensions/RelatedArticles
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
      - name: rake
    check:
      - jsonlint
      - jshint
    experimental:
      # T120715
      - mwext-mw-selenium

  - name: mediawiki/extensions/RelatedSites
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Renameuser
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/ReplaceSet
    template:
      - name: jsonlint
      - name: jshint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/ReplaceText
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/RSS
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Score
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/SearchExtraNS
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/SecurePoll
    template:
      - name: jsonlint
      - name: jshint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/SemanticACL
    template:
      - name: mw-checks-test
      - name: jshint
      - name: jsonlint

  - name: mediawiki/extensions/SemanticBundle
    check: &semanticbundle_jobs
     - jshint
     - jsonlint
     - php53lint
     - composer-validate
    test: *semanticbundle_jobs
    gate-and-submit: *semanticbundle_jobs

  - name: mediawiki/extensions/SemanticCompoundQueries
    template:
      - name: mw-checks-test
      - name: jshint
      - name: jsonlint

  - name: mediawiki/extensions/SemanticDrilldown
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/SemanticDummyEditor
    template:
      - name: mw-checks-test
      - name: jshint
      - name: jsonlint

  - name: mediawiki/extensions/SemanticExpressiveness
    template:
      - name: jsonlint
      - name: mw-checks-test

  - name: mediawiki/extensions/SemanticExtraSpecialProperties
    template:
      - name: mw-checks-test
      - name: jshint
      - name: jsonlint

  - name: mediawiki/extensions/SemanticForms
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/SemanticFormsInputs
    template:
      - name: mw-checks-test
      - name: jshint
      - name: jsonlint

  - name: mediawiki/extensions/SemanticGenealogy
    template:
      - name: mw-checks-test
      - name: jshint
      - name: jsonlint

  - name: mediawiki/extensions/SemanticGlossary
    template:
      - name: mw-checks-test
      - name: jshint
      - name: jsonlint

  - name: mediawiki/extensions/SemanticImageAnnotator
    template:
      - name: mw-checks-test
      - name: jshint
      - name: jsonlint

  - name: mediawiki/extensions/SemanticImageInput
    template:
      - name: jsonlint
      - name: mw-checks-test

  - name: mediawiki/extensions/SemanticInternalObjects
    template:
      - name: mw-checks-test
      - name: jshint
      - name: jsonlint

  - name: mediawiki/extensions/SemanticMaps
    template:
      - name: jshint
      - name: jsonlint
      - name: mw-checks-test

  - name: mediawiki/extensions/SemanticMediaWiki
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-non-voting

  - name: mediawiki/extensions/SemanticMetaTags
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-non-voting

  - name: mediawiki/extensions/SemanticPageMaker
    template:
      - name: mw-checks-test
      - name: jshint
      - name: jsonlint

  - name: mediawiki/extensions/SemanticPageSeries
    template:
      - name: mw-checks-test
      - name: jshint
      - name: jsonlint

  - name: mediawiki/extensions/SemanticResultFormats
    template:
      - name: jsonlint
      - name: extension-unittests-non-voting

  - name: mediawiki/extensions/SemanticSignup
    template:
      - name: mw-checks-test
      - name: jshint
      - name: jsonlint

  - name: mediawiki/extensions/SemanticTasks
    template:
      - name: mw-checks-test
      - name: jshint
      - name: jsonlint

  - name: mediawiki/extensions/SemanticTitle
    template:
      - name: mw-checks-test
      - name: jshint
      - name: jsonlint

  - name: mediawiki/extensions/SemanticUpdateOnPurge
    template:
      - name: mw-checks-test
      - name: jshint
      - name: jsonlint

  - name: mediawiki/extensions/SemanticWatchlist
    template:
      - name: jsonlint
      - name: mw-checks-test

  - name: mediawiki/extensions/Sentry
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jshint
      - jsonlint

  - name: mediawiki/extensions/Scribunto
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/ShortUrl
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/SimpleAntiSpam
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/SimpleFarm
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/SiteMatrix
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/SkinPerPage
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/Solarium
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/SpamBlacklist
    template:
      - name: composer-test
      - name: extension-gate
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/SpamDiffTool
    template:
      - name: composer-test
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/Spreadsheet
    template:
      - name: composer-test
      - name: extension-unittests-non-voting
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/StickToThatLanguage
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/StopForumSpam
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/StrategyWiki
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/SubPageList3
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/SubpageSortkey
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Sudo
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/Survey
    template:
      - name: extension-unittests-non-voting
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/SVGEdit
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/SwiftCloudFiles
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/TemplateSandbox
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/TextExtracts
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/SideBarMenu
    template:
      - name: jsonlint
      - name: jshint
      - name: extension-unittests-composer

  - name: mediawiki/extensions/SyntaxHighlight_GeSHi
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/TemplateData
    template:
      - name: extension-qunit-generic
      - name: extension-unittests-generic
      - name: composer-test
      - name: jsduck
      - name: npm
    check:
      - jsonlint
    postmerge:
      - mwext-jsduck-publish

  - name: mediawiki/extensions/Thanks
    template:
      - name: composer-test
      - name: extension-gate  # T86687
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/TimedMediaHandler
    template:
      - name: composer-test
      - name: extension-gate
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/timeline
    template:
      - name: npm
    check:
      - jsonlint
      - php53lint
      - perllint
      - composer-validate
    test:
     - php53lint
     - perllint
     - composer-validate
    gate-and-submit:
     - php53lint
     - perllint
     - composer-validate
    experimental:
     - mediawiki-extensions-hhvm
     - mediawiki-extensions-qunit
     - mwext-testextension-hhvm
     - mwext-testextension-php53-composer
     - mwext-testextension-hhvm-composer
     - composer-php53

  - name: mediawiki/extensions/TitleBlacklist
    template:
      - name: composer-test
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/TitleKey
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/TocTree
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/TorBlock
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Translate
    template:
      - name: composer-test
      - name: extension-qunit-generic
      - name: rake
      - name: extension-unittests-generic
      - name: npm
    check:
      - jshint
      - jsonlint

  - name: mediawiki/extensions/TranslationNotifications
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/Transliterator
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-non-voting

  - name: mediawiki/extensions/TrustedXFF
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/TwnMainPage
    template:
      - name: composer-test
      - name: rake
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/OpenBadges
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/OpenLayers
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/UnicodeConverter
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/UniversalLanguageSelector
    template:
      - name: composer-test
      - name: extension-gate
      - name: rake
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/UploadBlacklist
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/UploadWizard
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: extension-qunit-generic
      - name: npm
      - name: tox-jessie
    check:
      - jshint
      - jsonlint

  - name: mediawiki/extensions/UserDailyContribs
    template:
      - name: archived

  - name: mediawiki/extensions/UserMerge
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
      - name: composer-test
    check:
      - jsonlint

  - name: mediawiki/extensions/UserOptionStats
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/UserThrottle
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/Validator
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-non-voting

  - name: mediawiki/extensions/Variables
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/Vector
    template:
      - name: archived

  - name: mediawiki/extensions/VectorBeta
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/VipsScaler
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/VirtualKeyboard
    template:
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/VisualEditor
    template:
      - name: extension-gate
      - name: rake
      - name: composer-test
    check:
      - jshint
      - jsonlint
    test:
      - mwext-VisualEditor-npm
      - mwext-VisualEditor-jsduck
    gate-and-submit:
      - mwext-VisualEditor-npm
      - mwext-VisualEditor-jsduck
    postmerge:
      - mwext-VisualEditor-publish
      - mwext-VisualEditor-sync-gerrit

  - name: mediawiki/extensions/WebChat
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/WebPlatformAuth
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-composer

  - name: mediawiki/extensions/WikiEditor
    template:
      - name: composer-test
      - name: extension-qunit-generic
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/Wikibase
    template:
      - name: npm
      - name: composer-test
      - name: extension-unittests-composer
      - name: extension-qunit-composer
      - name: rake
    check:
      - jshint
      - jsonlint
    php5:  # 'check php5'
      - mwext-Wikibase-repo-tests-sqlite-php53
      - mwext-Wikibase-repo-tests-sqlite-php55
      - mwext-Wikibase-client-tests-mysql-php53
      - mwext-Wikibase-client-tests-sqlite-php53
      - mwext-Wikibase-client-tests-mysql-php55
      - mwext-Wikibase-client-tests-sqlite-php55
    test:
      - mwext-mw-selenium-composer
      - mwext-Wikibase-repo-tests-sqlite-hhvm
      - mwext-Wikibase-client-tests-mysql-hhvm
      - mwext-Wikibase-client-tests-sqlite-hhvm
    gate-and-submit:
      - mwext-mw-selenium-composer
      - mwext-Wikibase-repo-tests-sqlite-php53
      - mwext-Wikibase-repo-tests-sqlite-php55
      - mwext-Wikibase-repo-tests-sqlite-hhvm
      - mwext-Wikibase-client-tests-mysql-php53
      - mwext-Wikibase-client-tests-sqlite-php53
      - mwext-Wikibase-client-tests-mysql-php55
      - mwext-Wikibase-client-tests-sqlite-php55
      - mwext-Wikibase-client-tests-mysql-hhvm
      - mwext-Wikibase-client-tests-sqlite-hhvm
    experimental:
      - mwext-testextension-php53-composer
      - mwext-testextension-hhvm-composer
      - mwext-Wikibase-repo-tests-sqlite-php55
      - mwext-Wikibase-client-tests-mysql-php55
      - mwext-Wikibase-client-tests-sqlite-php55

  - name: mediawiki/extensions/WikibaseJavaScriptApi
    template:
      - name: composer-test
      - name: extension-qunit-composer
      - name: extension-unittests-composer
      - name: jshint
      - name: jsonlint
      - name: npm

  - name: mediawiki/extensions/Wikidata
    template:
      - name: extension-unittests-generic
      - name: extension-qunit-generic
      - name: extension-gate
    test:
      - mwext-testextension-hhvm
    gate-and-submit:
      - mwext-testextension-hhvm

  - name: mediawiki/extensions/Wikidata.org
    template:
      - name: composer-test
      - name: extension-qunit-composer
      - name: extension-unittests-composer
      - name: jshint
      - name: jsonlint
      - name: npm

  - name: mediawiki/extensions/WikiForum
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/WikiLexicalData
    template:
      - name: mw-checks-test
      - name: jshint
      - name: jsonlint

  - name: mediawiki/extensions/WikiLove
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: rake

  - name: mediawiki/extensions/wikihiero
    template:
      - name: npm
      - name: extension-unittests-generic

  - name: mediawiki/extensions/WikimediaBadges
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-composer

  - name: mediawiki/extensions/WikimediaEvents
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/WikimediaIncubator
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/WikimediaMaintenance
    template:
      - name: extension-unittests-generic

  - name: mediawiki/extensions/WikimediaMessages
    template:
      - name: extension-unittests-generic
    check:
      - jsonlint
    test:
      - jsonlint
    gate-and-submit:
      - jsonlint

  - name: mediawiki/extensions/WikimediaPageViewInfo
    template:
      - name: npm
      - name: composer-test
      - name: extension-unittests-generic

  - name: mediawiki/extensions/WikimediaShopLink
    template:
      - name: archived

  - name: mediawiki/extensions/WikiGrok
    template:
      - name: archived

  - name: mediawiki/extensions/WikiObjectModel
    template:
      - name: extension-unittests-generic

  - name: mediawiki/extensions/Workflow
    template:
      - name: archived

  - name: mediawiki/extensions/ZeroBanner
    template:
      - name: extension-gate
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/ZeroPortal
    template:
      - name: composer-test
      - name: extension-gate
      - name: extension-unittests-generic
      - name: rake
      - name: npm
    check:
      - jsonlint
      - jshint

#### PHP Extensions ###################################################

  - name: mediawiki/php/FastStringSearch
    # no check pipeline since -build runs code :-)
    test:
      - php55-FastStringSearch-build
      - php55-FastStringSearch-hhvm-build
    gate-and-submit:
      - php55-FastStringSearch-build
      - php55-FastStringSearch-hhvm-build

  - name: mediawiki/php/luasandbox
    # no check pipeline since -build runs code :-)
    test:
      - php55-luasandbox-build
      - php55-luasandbox-hhvm-build
    gate-and-submit:
      - php55-luasandbox-build
      - php55-luasandbox-hhvm-build

  - name: mediawiki/php/NativePreprocessor
    # no check pipeline since -build runs code :-)
    test:
      - php55-NativePreprocessor-build
    gate-and-submit:
      - php55-NativePreprocessor-build

  - name: mediawiki/php/wikidiff
    # no check pipeline since -build runs code :-)
    test:
      - php55-wikidiff-build
    gate-and-submit:
      - php55-wikidiff-build

  - name: mediawiki/php/wikidiff2
    # no check pipeline since -build runs code :-)
    test:
      - php55-wikidiff2-build
      - php55-wikidiff2-hhvm-build
    gate-and-submit:
      - php55-wikidiff2-build
      - php55-wikidiff2-hhvm-build

  - name: mediawiki/php/wmerrors
    # no check pipeline since -build runs code :-)
    test:
      - php55-wmerrors-build
    gate-and-submit:
      - php55-wmerrors-build

  - name: mediawiki/oauthclient-php
    template:
      - name: composer-test-package
    postmerge:
      - doxygen-publish
      - phpunit-coverage-publish

  - name: phabricator/arcanist
    check-voter:
      - php53lint
    gate-and-submit:
      - php53lint

  - name: phabricator/extensions
    check-voter:
      - php53lint
    gate-and-submit:
      - php53lint

  - name: phabricator/extensions/BurnDownCharts
    check-voter:
      - php53lint
    gate-and-submit:
      - php53lint

  - name: phabricator/extensions/Sprint
    check-voter:
      - php53lint
    gate-and-submit:
      - php53lint

  - name: phabricator/extensions/security
    check-voter:
      - php53lint
    gate-and-submit:
      - php53lint

  - name: phabricator/libphutil
    check-voter:
      - php53lint
    gate-and-submit:
      - php53lint

  - name: phabricator/phabricator
    check-voter:
      - php53lint
    gate-and-submit:
      - php53lint

  - name: phabricator/test
    check-voter:
      - php53lint
    gate-and-submit:
      - php53lint

  - name: phabricator/tools
    check-voter:
      - php53lint
    gate-and-submit:
      - php53lint

  - name: pywikibot/compat
    template:
      - name: tox-jessie

  - name: pywikibot/core
    template:
      - name: tox-jessie
    check:
      - tox-jessie
    test:
      - pywikibot-core-tox-nose-jessie
      - pywikibot-core-tox-nose34-jessie
      - tox-doc-jessie
    gate-and-submit:
      - pywikibot-core-tox-nose-jessie
      - pywikibot-core-tox-nose34-jessie
      - tox-doc-jessie
    postmerge:
      - pywikibot-core-tox-doc-publish

  - name: pywikibot/i18n
    template:
      # Cant switch to node-4.3 because we create a /log/ dir in the source
      # tree and banana complains it can not read /log/qqq.json
      - name: npm-legacy  # T130207
    check:
      - jsonlint

  - name: pywikibot/wikibase
    template:
      - name: tox-jessie
    test:
      - pywikibot-wikibase-tox-nose-jessie
      - pywikibot-wikibase-tox-nose34-jessie
    gate-and-submit:
      - pywikibot-wikibase-tox-nose-jessie
      - pywikibot-wikibase-tox-nose34-jessie

  - name: pywikibot/bots/xqbot
    template:
      - name: tox-jessie

  - name: qrpedia
    check-voter:
      - php53lint
    gate-and-submit:
      - php53lint

  - name: cdb
    template:
     - name: composer-test-package
    postmerge:
      - doxygen-publish
      - phpunit-coverage-publish

  - name: utfnormal
    template:
     - name: composer-test-package
    postmerge:
      - doxygen-publish
      - phpunit-coverage-publish

  - name: at-ease
    template:
     - name: composer-test-package
    postmerge:
      - doxygen-publish
      - phpunit-coverage-publish

  - name: base-convert
    template:
     - name: composer-test-package
    postmerge:
      - doxygen-publish

  - name: php-session-serializer
    template:
     - name: composer-test-package
    postmerge:
      - doxygen-publish
      - phpunit-coverage-publish

  - name: AhoCorasick
    template:
      - name: composer-test-package
    postmerge:
      - phpunit-coverage-publish

  - name: RunningStat
    template:
      - name: composer-test-package
    postmerge:
      - phpunit-coverage-publish

  - name: IPSet
    template:
     - name: composer-test-package
    postmerge:
      - doxygen-publish
      - phpunit-coverage-publish

  - name: RelPath
    template:
     - name: composer-test-package
    postmerge:
      - doxygen-publish
      - phpunit-coverage-publish

  - name: WrappedString
    template:
     - name: composer-test-package
    postmerge:
      - doxygen-publish
      - phpunit-coverage-publish

  - name: CLDRPluralRuleParser
    template:
     - name: composer-test-package
    postmerge:
      - doxygen-publish
      - phpunit-coverage-publish

  - name: HtmlFormatter
    template:
     - name: composer-test-package55
    postmerge:
      - doxygen-publish
      - phpunit-coverage-publish

  - name: rcstream
    template:
      - name: npm

  - name: wikimedia/slimapp
    template:
     - name: composer-test-package
    postmerge:
      - doxygen-publish
      - phpunit-coverage-publish

  - name: wikimedia/portals
    test:
      - wikimedia-portals-npm-node-4.3
    gate-and-submit:
      - wikimedia-portals-npm-node-4.3

  - name: search/extra
    test:
      - search-extra
      - search-extra-javadoc
    gate-and-submit:
      - search-extra
      - search-extra-javadoc
    postmerge:
      - search-extra-javadoc-publish

  - name: search/highlighter
    test:
      - search-highlighter
    gate-and-submit:
      - search-highlighter

  - name: search/repository-swift
    test:
      - search-repository-swift
    gate-and-submit:
      - search-repository-swift

  - name: generator-wikimedia-php-library
    template:
      - name: npm

  - name: oojs/core
    template:
      - name: npm
    check:
      - jshint
      - jsonlint
    test:
      - npm-run-doc
    gate-and-submit:
      - npm-run-doc
    postmerge:
      - oojs-core-publish
      - oojs-core-coverage

  - name: oojs/ui
    template:
      - name: composer-test-package55
      - name: npm-legacy  # T128091
      - name: rake
    check:
      - jshint
      - jsonlint
    test:
      - npm-run-doc
      - npm-run-demos
    gate-and-submit:
      - npm-run-doc
      - npm-run-demos
    postmerge:
      - oojs-ui-jsduck-publish
      - oojs-ui-doxygen-publish
      - oojs-ui-coverage
      - oojs-ui-demos-publish

  - name: unicodejs
    template:
      - name: npm
    test:
      - npm-run-doc
    gate-and-submit:
      - npm-run-doc
    postmerge:
      - unicodejs-publish
      - unicodejs-coverage
    publish:
      - unicodejs-publish

  - name: VisualEditor/VisualEditor
    template:
      - name: npm
      - name: rake
    check:
      - jshint
      - jsonlint
    test:
      - npm-run-doc
    gate-and-submit:
      - npm-run-doc
    postmerge:
      - visualeditor-coverage

  - name: wikidata/gremlin
    test:
      - wikidata-gremlin
    gate-and-submit:
      - wikidata-gremlin

  - name: wikidata/query/rdf
    test:
      - wikidata-query-rdf
    gate-and-submit:
      - wikidata-query-rdf

  - name: wikidata/query/gui
    template:
      - name: npm

  - name: wikimedia/bots/jouncebot
    template:
      - name: tox-jessie

  - name: avro-php
    template:
     - name: composer-test-package

  - name: data-values/value-view
    template:
     - name: composer-test
     - name: extension-qunit-composer
     - name: npm

  - name: wikidata/build-resources
    template:
      - name: npm
