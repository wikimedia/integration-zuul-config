# vim: set ts=2 sw=2 et ai foldmethod=indent:
#
# This is the Zuul configuration file for the Wikimedia Foundation.
#
# Zuul configuration is organised in three main sections:
#
# - pipelines: Abstracts incoming Gerrit events and what to report back in Gerrit.
#
# - jobs: Override the pipeline configuration on a per job basis.
#    This is how we specify behaviour for individual projects and jobs.
#
# - projects: For each project we specify what jobs to run, in what order jobs
#    should depend on each other and for which pipelines the jobs should run.
#
# See also upstream documentation:
# - http://ci.openstack.org/zuul/zuul.html#layout-yaml
# - http://ci.openstack.org/zuul/zuul.html#configuration

includes:
  - python-file: 'parameter_functions.py'


pipelines:
  # Terminology:
  # - check: Basic jobs run for all users. Votes V+1
  # - test: More elaborate execution run only after CR+2 or when submitted
  #    by a whitelisted user. Votes V+2.


  # Use this in combination with a 'test' pipeline.
  - name: check
    description: >
      Basic jobs being run for all users. Will vote Verified +1/-1.
    manager: IndependentPipelineManager
    source: gerrit
    trigger:
      gerrit:
        - event: patchset-created
          branch: (?!^refs/meta/config)
          # Don't run the check pipeline if the user is allowed to run the test pipeline (T45391).
          # TODO: Figure out a way to turn this into a list instead of a single regex.
          # TODO: Figure out a way to not have to repeat this from pipeline 'test'.
          # This email filter and the one for 'test' can be removed once we have fixed T47499.
          email:
            - |
              (?x) ^(?!(
                .*?@wikimedia\.(org|de)
                | 01tonythomas@gmail\.com
                | aarcos\.wiki@gmail\.com
                | adamr_carter@btinternet\.com
                | addshorewiki@gmail\.com
                | admin@alphacorp\.tk
                | cblair91@gmail\.com
                | admin@glados\.cc
                | alexsh@mail2000\.com\.tw
                | amir\.aharoni@mail\.huji\.ac\.il
                | andreas\.burmeister@student\.hpi\.de
                | andrew\.green\.df@gmail\.com
                | anirudh24seven@gmail\.com
                | anomie\.wikipedia@gmail\.com
                | asthana\.sumit23@gmail\.com
                | at\.light@live\.com\.au
                | aude\.wiki@gmail\.com
                | bawolff\+wn@gmail\.com
                | bebirchall@gmail\.com
                | benapetr@gmail\.com
                | benestar\.wikimedia@gmail\.com
                | bmp2558@gmail\.com
                | bryan\.tongminh@gmail\.com
                | cenarium\.sysop@gmail\.com
                | christian@quelltextlich\.at
                | cicalese@mitre\.org
                | codereview@emsenhuber\.ch
                | CommodoreFabianus@gmx\.de
                | crazy4sb@gmail\.com
                | dalba\.wiki@gmail\.com
                | loic@dachary\.org
                | daniel@nadir-seen-fire\.com
                | daniel\.rey\.lopez@gmail\.com
                | datguysteam@gmail\.com
                | david@troi\.org
                | d_entous@yahoo\.com
                | dereckson@espace-win\.org
                | devunt@gmail\.com
                | divad\.nnamtdeis@gmail\.com
                | dominic\.sauer@yahoo\.de
                | drenfro@vistaprint\.com
                | dr\.trigon@surfeu\.ch
                | ebrahim@gnu\.org
                | ecokpo@gmail\.com
                | eloquence@gmail\.com
                | eranroz89@gmail\.com
                | federicoleva@tiscali\.it
                | rj23@protonmail\.com
                | florian\.schmidt\.stargatewissen@gmail\.com
                | fomafix@googlemail\.com
                | gianiskido@gmail\.com
                | git@samsmith\.io
                | geofbot@gmail\.com
                | glaisher\.wiki@gmail\.com
                | glaser@hallowelt\.biz
                | happy5214@gmail\.com
                | hardikjuneja\.hj@gmail\.com
                | hartman\.wiki@gmail\.com
                | hashar@free\.fr
                | hbhyrava@gmail\.com
                | hgasuser@gmail\.com
                | hoo@online\.de
                | huji\.huji@gmail\.com
                | i@ananayarora\.com
                | inez@wikia-inc\.com
                | info@gno\.de
                | jack@countervandalism\.net
                | jackmcbarn@gmail\.com
                | jamesmhare@gmail\.com
                | jamesin\.hongkong\.1@gmail\.com
                | jan\.wikimedia@zerebecki\.de
                | jarry1250@gmail\.com
                | jayvdb@gmail\.com
                | jeanfrederic\.wiki@gmail\.com
                | jeff\.janes@gmail\.com
                | jeroendedauw@gmail\.com
                | jonas@keutel\.de
                | julien\.inbox\.wiki@gmail\.com
                | juliusalphonso\.09@gmail\.com
                | juniorsys_wikimedia@outlook\.com
                | justin\.d128@gmail\.com
                | kaarticsivaraam91196@gmail\.com
                | kartik\.mistry@gmail\.com
                | karsten@hoffmeyer\.info
                | krenair@gmail\.com
                | krinklemail@gmail\.com
                | kumariankita002@gmail\.com
                | l10n-bot@translatewiki\.net
                | [Ll]adsgroup@gmail\.com
                | legoktm@member\.fsf\.org
                | lewis@lewiscawte\.me
                | liangent@gmail\.com
                | lokal\.profil@gmail\.com
                | lucie\.kaffee@gmail\.com
                | luke@faraone\.cc
                | luke081515@web\.de
                | l\.verhovskij@gmail\.com
                | maarten@mdammers\.nl
                | mah@nichework\.com
                | mail@wikinaut\.de
                | malafaya@clix\.pt
                | marc@uberbox\.org
                | maria\.pacana@gmail\.com
                | marielle\.volz@gmail\.com
                | markus@semantic-mediawiki\.org
                | maroloccio@gmail\.com
                | martin@urbanec\.cz
                | martin\.urbanec@wikimedia\.cz
                | matanya@foss\.co\.il
                | matanya\.moses@gmail\.com
                | matejsuchanek97@gmail\.com
                | matma\.rex@gmail\.com
                | maxsem\.wiki@gmail\.com
                | Megadev44s\.mail@gmail\.com
                | misterstrad@gmail\.com
                | mjbmri@gmail\.com
                | mlazowik@gmail\.com
                | moriel@gmail\.com
                | mpaa\.wiki@gmail\.com
                | mhutti1@gmail\.com
                | mtraceur@member\.fsf\.org
                | mwalker@khaosdev\.com
                | mxn@1ec5\.org
                | niharikakohli29@gmail\.com
                | nikitav30@gmail\.com
                | niklas\.laxstrom@gmail\.com
                | nilesh@nileshc\.com
                | nullzero\.free@gmail\.com
                | oliver\.buchtala@gmail\.com
                | orbit@framezero\.com
                | pastakhov@yandex\.ru
                | platonides@gmail\.com
                | pleasestand@live\.com
                | pragun06@gmail\.com
                | pranavmk98@gmail\.com
                | purodha@blissenbach\.org
                | pyfisch@gmail\.com
                | raimond\.spekking@gmail\.com
                | ricordisamoa@openmailbox\.org
                | rillke@wikipedia\.de
                | rj23@protonmail\.com
                | roan\.kattouw@gmail\.com
                | robinp\.1273@gmail\.com
                | vogel@hallowelt\.biz
                | russblau@imapmail\.org
                | s7eph4n@gmail\.org
                | sam@samwilson\.id\.au
                | samanthanguyen1116@gmail\.com
                | santhosh\.thottingal@gmail\.com
                | saper@saper\.info
                | se4598@gmx\.de
                | seb35@seb35\.fr
                | sebastian\.berlin@wikimedia\.se
                | shahyar@gmail\.com
                | siebrand@kitano\.nl
                | skizzerz@skizzerz\.net
                | soeren_oldag@freenet\.de
                | stefan@garage-coding\.com
                | stefan\.petrea@gmail\.com
                | strigiwm@gmail\.com
                | sucheta\.ghoshal@gmail\.com
                | tamaraslosarek@gmail\.com
                | tasneem\.lo\.31@gmail\.com
                | thalia\.e\.chan@googlemail\.com
                | thomasmulhall410@yahoo\.com
                | thomaspt@hotmail\.fr
                | tim@tim-landscheidt\.de
                | tinajohnson\.1234@gmail\.com
                | trevorparscal@gmail\.com
                | tomasz@twkozlowski\.com
                | tur\.neslihan@gmail\.com
                | tylerromeo@gmail\.com
                | umherirrender_de\.wp@web\.de
                | v\.a\.ghaisas@gmail\.com
                | valhallasw@arctus\.nl
                | vikasyaligar\.it@gmail\.com
                | victorbarbu08@gmail\.com
                | w@mzmcbride\.com
                | wctaiwan@gmail\.com
                | whym@whym\.org
                | wiki@physikerwelt\.de
                | wikimedia\.org@eddie-sh\.de
                | wikiposta@gmail\.com
                | wiki@strainu\.ro
                | wirth@hallowelt\.biz
                | xietaoecho@gmail\.com
                | yaron57@gmail\.com
                | yuriastrakhan@gmail\.com
                | yuvipanda@gmail\.com
                | zhorishna@gmail\.com
                | zhuyifei1999@gmail\.com
              )).*$

    success-message: 'Basic test build succeeded.'
    success:
      # Only V+1 as these are not elaborate tests. This prevents a change from
      # being merged (requires V+2) before elaborate tests, which vote V+2, have run.
      gerrit:
        verified: 1
    failure-message: 'Basic test build failed.'
    failure:
      gerrit:
        verified: -1

  # Use this in combination with a check pipeline.
  - &test_pipeline
    name: test
    description: >
      Jobs restricted to trusted users. Will vote +2.
    manager: IndependentPipelineManager
    source: gerrit
    trigger:
      gerrit:
        - event: patchset-created
          branch: (?!^refs/meta/config)

          # BEWARE:
          # - Make sure to use non greedy selectors (.*?) and to escape dots: \.
          # - Also update the email filter of the 'check' pipeline.

          email: &email_whitelist
           - .*?@wikimedia\.(org|de)$

          # WMF staff & contractors:
           - ^aarcos\.wiki@gmail\.com$
           - ^amir\.aharoni@mail\.huji\.ac\.il$
           - ^andrew\.green\.df@gmail\.com$
           - ^anomie\.wikipedia@gmail\.com$
           - ^bawolff\+wn@gmail\.com$
           - ^christian@quelltextlich\.at$
           - ^david@troi\.org$ # David Chan
           - ^git@samsmith\.io$ # Sam Smith
           - ^glaser@hallowelt\.biz$
           - ^hashar@free\.fr$
           - ^jeroendedauw@gmail\.com$
           - ^kartik\.mistry@gmail\.com$
           - ^krinklemail@gmail\.com$ # Timo Tijhof
           - ^legoktm@member\.fsf\.org$ # Kunal Mehta
           - ^maxsem\.wiki@gmail\.com$
           - ^marielle\.volz@gmail\.com$
           - ^moriel@gmail\.com # Moriel Schottlender
           - ^mtraceur@member\.fsf\.org$
           - ^niharikakohli29@gmail\.com$
           - ^niklas\.laxstrom@gmail\.com$
           - ^roan\.kattouw@gmail\.com$
           - ^sam@samwilson\.id\.au$
           - ^santhosh\.thottingal@gmail\.com$
           - ^shahyar@gmail\.com$
           - ^siebrand@kitano\.nl$
           - ^stefan@garage-coding\.com$
           - ^stefan\.petrea@gmail\.com$
           - ^sucheta\.ghoshal@gmail\.com$
           - ^trevorparscal@gmail\.com$
           - ^yuriastrakhan@gmail\.com$
           - ^yuvipanda@gmail\.com$

          # VisualEditor (Wikia)
           - ^inez@wikia-inc\.com$
           - ^orbit@framezero\.com$ # Christian Williams

          # WMDE:
           - ^addshorewiki@gmail\.com$
           - ^aude\.wiki@gmail\.com$
           - ^hoo@online\.de$

          # WMSE:
           - ^sebastian\.berlin@wikimedia\.se$

          # Hasso-Plattner-Institut students working on Wikidata projects
           - ^andreas\.burmeister@student\.hpi\.de$
           - ^dominic\.sauer@yahoo\.de$
           - ^jonas@keutel\.de$
           - ^soeren_oldag@freenet\.de$
           - ^tamaraslosarek@gmail\.com$

          # VistaPrint
          # They are heavily using MediaWiki internally and open sourced
          # some of their extensions. Might wildcard them as well, for
          # now just whitelist Daniel Renfro.
           - ^drenfro@vistaprint\.com$ # AlephNull

          # Trusted long term users:
           - ^adamr_carter@btinternet\.com$ # UltrasonicNXT
           - ^admin@alphacorp\.tk$ # Hydriz
           - ^admin@glados\.cc$ # Unicodesnowman
           - ^cblair91@gmail\.com$ # Cblair91 -- mw/ext/ImportArticles
           - ^anirudh24seven@gmail\.com$ # Anirudh S
           - ^asthana\.sumit23@gmail\.com$ # Sumit
           - ^benapetr@gmail\.com$ # petrb
           - ^benestar\.wikimedia@gmail\.com$
           - ^bryan\.tongminh@gmail\.com$
           - ^cenarium\.sysop@gmail\.com$ # Cenarium
           - ^cicalese@mitre\.org$
           - ^codereview@emsenhuber\.ch$
           - ^CommodoreFabianus@gmx\.de # XZise, Pywikibot maintainer
           - ^d_entous@yahoo\.com$
           - ^daniel@nadir-seen-fire\.com$
           - ^daniel\.rey\.lopez@gmail\.com$
           - ^datguysteam@gmail\.com$ # DatGuy
           - ^dereckson@espace-win\.org$
           - ^devunt@gmail\.com$
           - ^ebrahim@gnu\.org$
           - ^wikimedia\.org@eddie-sh\.de$ # EddieGP
           - ^eloquence@gmail\.com$
           - ^eranroz89@gmail\.com$ # Eran Roz
           - ^federicoleva@tiscali\.it$ # Nemo bis
           - ^florian\.schmidt\.stargatewissen@gmail\.com$
           - ^fomafix@googlemail\.com$
           - ^geofbot@gmail\.com$
           - ^glaisher\.wiki@gmail\.com$
           - ^hartman\.wiki@gmail\.com$
           - ^hgasuser@gmail\.com$ # MGChecker
           - ^huji\.huji@gmail\.com$
           - ^info@gno\.de$ # Xqt, Pywikibot maintainer
           - ^jamesmhare@gmail\.com$ # harej
           - ^jamesin\.hongkong\.1@gmail\.com$ # Mwjames
           - ^jack@countervandalism\.net$ # Jack Phoenix
           - ^jackmcbarn@gmail\.com$ # Jackmcbarn
           - ^jan\.wikimedia@zerebecki\.de # Jan Zerebecki
           - ^jarry1250@gmail\.com$
           - ^jayvdb@gmail\.com$
           - ^jeanfrederic\.wiki@gmail\.com$
           - ^jeff\.janes@gmail\.com$
           - ^julien\.inbox\.wiki@gmail\.com$ # JGirault
           - ^juniorsys_wikimedia@outlook\.com$
           - ^kaarticsivaraam91196@gmail\.com$
           - ^karsten@hoffmeyer\.info$ # Kghbln
           - ^krenair@gmail\.com$
           - ^kumariankita002@gmail\.com$
           - ^[lL]adsgroup@gmail\.com$ # Pywikibot maintainer
           - ^lewis@lewiscawte\.me$
           - ^liangent@gmail\.com$
           - ^lokal\.profil@gmail\.com$
           - ^lucie\.kaffee@gmail\.com$
           - ^luke@faraone\.cc$
           - ^luke081515@web\.de$
           - ^l\.verhovskij@gmail\.com$ # Ljonka
           - ^mah@nichework\.com$
           - ^marc@uberbox\.org$
           - ^mail@wikinaut\.de$
           - ^markus@semantic-mediawiki\.org$
           - ^maroloccio@gmail\.com$
           - ^martin@urbanec\.cz$ # Urbanecm
           - ^martin\.urbanec@wikimedia\.cz$
           - ^matanya\.moses@gmail\.com$
           - ^matanya@foss\.co\.il$
           - ^matejsuchanek97@gmail\.com$
           - ^matma\.rex@gmail\.com$
           - ^Megadev44s\.mail@gmail\.com$ # Zppix
           - ^misterstrad@gmail\.com$ # Mr. Stradivarius
           - ^mjbmri@gmail\.com$
           - ^mlazowik@gmail\.com$
           - ^mxn@1ec5\.org$ # Minh Nguyen T139345
           - ^nilesh@nileshc\.com$
           - ^oliver\.buchtala@gmail\.com$ # Substance.io developer
           - ^pastakhov@yandex\.ru$ # PhpTags maintainer
           - ^platonides@gmail\.com$
           - ^pleasestand@live\.com$
           - ^pragun06@gmail\.com$
           - ^purodha@blissenbach\.org$
           - ^raimond\.spekking@gmail\.com$
           - ^rillke@wikipedia\.de$
           - ^robinp\.1273@gmail\.com$
           - ^vogel@hallowelt\.biz$ # Robert Vogel
           - ^saper@saper\.info$
           - ^se4598@gmx\.de$
           - ^seb35@seb35\.fr$
           - ^samanthanguyen1116@gmail\.com$ # SamanthaNguyen
           - ^skizzerz@skizzerz\.net$
           - ^strigiwm@gmail\.com$ # MarcoAurelio
           - ^s7eph4n@gmail\.org$ # Foxtrott
           - ^tasneem\.lo\.31@gmail\.com$
           - ^thalia\.e\.chan@googlemail\.com$ # Thalia Chan
           - ^thomasmulhall410@yahoo\.com$ # Paladox T114528
           - ^thomaspt@hotmail\.fr$
           - ^at\.light@live\.com\.au$ # This, that and the other
           - ^tomasz@twkozlowski\.com$
           - ^01tonythomas@gmail\.com$
           - ^tim@tim-landscheidt\.de$
           - ^tinajohnson\.1234@gmail\.com$
           - ^tur\.neslihan@gmail\.com$ # Nes / Neslihan
           - ^tylerromeo@gmail\.com$
           - ^umherirrender_de\.wp@web\.de$
           - ^v\.a\.ghaisas@gmail\.com$ # polybuildr
           - ^valhallasw@arctus\.nl$ # Merlijn van Deen
           - ^vikasyaligar\.it@gmail\.com$ # Vikas Yaligar
           - ^w@mzmcbride\.com$
           - ^wctaiwan@gmail\.com$
           - ^wiki@physikerwelt\.de$
           - ^wirth@hallowelt\.biz$ # Pwirth
           - ^yaron57@gmail\.com$
           - ^zhorishna@gmail\.com$ # Isarra
           - ^zhuyifei1999@gmail\.com$
           - ^mwalker@khaosdev\.com$ # Matt Walker

           # Pywikibot related
           - ^alexsh@mail2000\.com\.tw$  # Alex S.H. Lin
           - ^dalba\.wiki@gmail\.com$
           - ^loic@dachary\.org$
           - ^dr\.trigon@surfeu\.ch$  # DrTrigon
           - ^happy5214@gmail\.com$
           - ^maarten@mdammers\.nl$  # Multichill
           - ^malafaya@clix\.pt$
           - ^mpaa\.wiki@gmail\.com$
           - ^nullzero\.free@gmail\.com$
           - ^pyfisch@gmail\.com$
           - ^ricordisamoa@openmailbox\.org$
           - ^russblau@imapmail\.org$  # Russell Blau
           - ^whym@whym\.org$
           - ^wiki@strainu\.ro$  # Strainu
           - ^wikiposta@gmail\.com$  # Bináris

          # Parsoid OPW interns
           - ^bebirchall@gmail\.com$
           - ^ecokpo@gmail\.com$
           - ^maria\.pacana@gmail\.com$

          # GSoC students!
           - ^hardikjuneja\.hj@gmail\.com$
           - ^xietaoecho@gmail\.com$ # Lethexie
           - ^hbhyrava@gmail\.com$ # Darthbhyrava

          # GCI students!
           - ^bmp2558@gmail\.com$ # Georggi
           - ^crazy4sb@gmail\.com$ # unicornisaurous
           - ^divad\.nnamtdeis@gmail\.com$ # Divadsn
           - ^rj23@protonmail\.com$ # Filip
           - ^gianiskido@gmail\.com$ # IoannisKydonis
           - ^i@ananayarora\.com$
           - ^juliusalphonso\.09@gmail\.com$ # JadeMaveric
           - ^justin\.d128@gmail\.com$ # MtDu
           - ^mhutti1@gmail\.com$
           - ^nikitav30@gmail\.com$ # Phantom42
           - ^pranavmk98@gmail\.com$ # PranavK
           - ^rj23@protonmail\.com$ # Filip / rlot
           - ^victorbarbu08@gmail\.com$ # Victorbarbu

        # Let whitelisted users the ability to reenqueue a change in the test
        # pipeline by simply commenting 'recheck' on a change.
        - event: comment-added
          branch: (?!^refs/meta/config)
          comment: (?im)^Patch Set \d+:( -?Code\-Review(\+|-)?(1|2)?)?\n\n\s*recheck\.?\s*$
          email: *email_whitelist

        # Let whitelisted users CR+1 to trigger tests for an untested patch
        # (Verified 0 or 1)
        - event: comment-added
          branch: (?!^refs/meta/config$)
          reject-approval:
            # hasn't been tested yet
            - verified: [-1, 2]
          email: *email_whitelist
          approval:
            - code-review: +1

    success-message: 'Main test build succeeded.'
    success:
      gerrit:
        verified: 2
    failure-message: 'Main test build failed.'
    failure:
      gerrit:
        verified: -1

  - !!merge : *test_pipeline
    name: test-prio
    description: >
      High precedence tests. Will vote +2.
    precedence: high

  - name: experimental
    description: >
      Jobs manually triggered by whitelisted users commenting 'check experimental'.
      Useful for experimenting new jobs.
    manager: IndependentPipelineManager
    source: gerrit
    precedence: low
    trigger:
      gerrit:
        - event: comment-added
          comment: (?im)^Patch Set \d+:\n\n\s*check experimental\.?\s*$
          email: *email_whitelist
    success-message: 'Experimental build succeeded.'
    success:
      gerrit: {}
    failure-message: 'Experimental build failed.'
    failure:
      gerrit: {}

  - name: php5
    description: >
      Jobs manually triggered by whitelisted users commenting 'check php5'.
      Useful for running PHP5 tests that are only part of gate-and-submit.
      This queue was formerly called "zend", so 'check zend' also works.
    manager: IndependentPipelineManager
    source: gerrit
    trigger:
      gerrit:
        - event: comment-added
          comment: (?im)^Patch Set \d+:\n\n\s*check (php5?|zend)\.?\s*$
          email: *email_whitelist
    success-message: 'PHP5 build succeeded.'
    success:
      gerrit: {}
    failure-message: 'PHP5 build failed.'
    failure:
      gerrit: {}

  # Actual gate (report/vote in Gerrit)
  # Will auto-submit change on success!
  #
  # WARNING: Also update the "gate" pipeline when changing this one.
  #
  - name: gate-and-submit
    description: >
      Patchsets that have been reviewed. Will be merged by Jenkins if tests pass.
    manager: DependentPipelineManager
    source: gerrit
    precedence: high
    window: 5  # initial value
    window-floor: 2  # minimum
    trigger:
      gerrit:
        - event: comment-added
          branch: (?!^refs/meta/config)
          email:
           - ^(?!l10n-bot@translatewiki\.net).*$
          approval:
            - code-review: 2
    start:
      gerrit:
        verified: 0
    success-message: 'Gate pipeline build succeeded.'
    success:
      gerrit:
        verified: 2
        # Let Zuul merge the change \O/
        submit: true
    failure-message: 'Gate pipeline build failed.'
    failure:
      gerrit:
        verified: -1

  - name: postmerge
    description: Jobs triggered after a change has been merged.
    manager: IndependentPipelineManager
    source: gerrit
    trigger:
      gerrit:
        - event: change-merged
          branch: (?!^refs/meta/config)
    success-message: 'Post-merge build succeeded.'
    # Zuul needs at least one option beside --message or it will not report
    # Since Gerrit 2.8, we can vote on closed changes.
    success:
      gerrit: {}
    failure-message: 'Post-merge build failed.'
    failure:
      gerrit: {}

  # Pipeline reacting whenever a reference is updated
  - name: post
    description: Whenever a reference is updated.
    manager: IndependentPipelineManager
    source: gerrit
    trigger:
      gerrit:
       - event: ref-updated
         ref: ^(?!(devnull|refs/.*)).*$

  # Pipeline for tags (either a new one or a removal)
  - name: publish
    description: Whenever tags are published.
    manager: IndependentPipelineManager
    source: gerrit
    trigger:
      gerrit:
       - event: ref-updated
         ref: ^refs/tags/.*$

# Fine tune some jobs
jobs:

  #
  # General
  #

  # Warning: the files regex are using python re.match() which match at the
  # beginning of the filename. '\.js$' will only match '.js' not 'foo.js'.
  #
  # See: http://docs.python.org/2/library/re.html#search-vs-match

  - name: ^.*$
    parameter-function: set_parameters

  - name: ^.*-non-voting$
    voting: false

  - name: ^mediawiki-core-php70-phan-jessie$
    skip-if:
      - project: '^mediawiki/core$'
        branch: (?:^(fundraising/)?REL1_2[378]$|^wmf/1\.29\.0-wmf\.5$)
    failure-pattern: 'https://integration.wikimedia.org/ci/job/{job.name}/{build.number}/checkstyleResult/'

  - name: ^.*rake-jessie$
    files:
      # Uses python re.match() which checks at BEGINNING of the string
      - '.*\.pp$'
      - '.*\.rb'
      - '(\.rubocop|\.gemspec|Gemfile)'
      - '.*([Rr]akefile|/spec/)'
    skip-if:
      - project: '^mediawiki/core$'
        branch: (?:^REL1_23$|^fundraising/REL.*)
      - project: '^VisualEditor/VisualEditor$'
        branch: (?:^REL1_26$)

  # Same for mediawiki/vagrant
  - name: ^mediawiki-vagrant-rake-jessie$
    files:
      - '.*'

  # Ditto for translatewiki which has puppet modules under /puppet
  - name: ^translatewiki-rake-jessie$
    files:
      - '^\.puppet-lint\.rc$'
      - '^puppet/.*'
      - '(^Rakefile$|^Gemfile$)'

  # Experiment for analytics/kraken repository
  - name: analytics-kraken-maven
    voting: false

  # Experimental building of Debian packages
  # based on jenkins-debian-glue
  - name: ^debian-glue(-non-voting)?$
    # Point directly to artifacts
    success-pattern: 'https://integration.wikimedia.org/ci/job/{job.name}/{build.number}/'
    # FIXME maybe restrict just to debian/ changes:
    #files: 'debian/.*'
    skip-if:
      - project: '^integration/uprightdiff$'
        branch: (?!debian$)
    skip-if:
      - project: '^operations/software/cumin$'
        branch: ^master$

  - name: ^composer-validate$
    files:
     - '^composer.json$'

  - name: ^composer-package-validate$
    files:
     - '^composer.json$'

  - name: php55lint
    files:
     - '^.*\.(php|php5|phtml|inc)$'

  - name: ^mediawiki.*-hhvm(-composer)?(-trusty|-jessie)?$
    # Release branches do not support hhvm.
    branch: (?!REL1_23|fundraising/REL.*)

  - name: ^mwext.*-hhvm.*$
    # Release branches do not support hhvm.
    branch: (?!REL1_23|fundraising/REL.*)

  - name: ^.*php70.*$
    branch: (?!REL1_2[3-6]|fundraising/REL1_2[3-6]$)

  # Covered by a test
  # TestZuulScheduler.test_donationinterface_deployment_branch_filters
  - name: ^mwext-testextension-hhvm
    skip-if:
      - project: ^mediawiki/extensions/DonationInterface$
  - name: ^mwext-donationinterfacecore-REL1_(27|28)-testextension-zend55$
    skip-if:
      - project: ^mediawiki/extensions/DonationInterface$
        branch: ^deployment$
  # FIXME when made voting, add it to gate-and-submit
  - name: mwext-donationinterfacecore-REL1_28-testextension-zend55
    voting: false

  # Jobs testing multiple extensions together

  # Extensions tested together, since 1.25alpha ...
  - name: ^mediawiki-extensions-(qunit|hhvm)(-jessie|trusty)?$
    branch: (?!REL1_23|fundraising/REL.*)
    queue-name: mediawiki

  - name: ^mediawiki-extensions-php55-trusty$
    branch: (?!REL1_23|fundraising/REL.*)
    queue-name: mediawiki

  - name: mediawiki-core-phpcs-trusty
    branch: (?!^REL1_23|^REL1_26|^fundraising/REL)
    files:
     - '^.*\.(json|php|php5|phtml|inc|xml)$'


  - name: ^mediawiki-core-npm-node-6-jessie$
    files:
     - '^(\.js.*|.*\.(js|json|less)$)'

  - name: jsduck
    files:
     - '^.*\.(js|json|css)$'
  - name: ^.*-jsduck($|-jessie)$
    files:
     - '^.*\.(js|json|css)$'

  - name: ^.*jshint$
    files:
     # Matches: .jscsrc, .jshintrc, .jshintignore, and *.js
     - '^(\.js.*|.*\.js$)'

  - name: ^.*jsonlint$
    files:
     # Matches: *.json
     - '^.*\.json$'

  - name: wikimedia-fundraising-civicrm
    branch: (?!.*deployment.*|^contrib$)

  # Rejecting changes having trailing whitespaces cause too many false
  # positives. So only report the whitespace issues, but don't let it vote.
  - name: ^.*-whitespaces$
    voting: false

  # Still being tested
  - name: commit-message-validator
    voting: false

  #
  # Individual adjustments
  #

  # This job does more than one thing. Point to the build page and let the user drill into details.
  - name: ^apps-android-wikipedia-.+$
    failure-pattern: 'https://integration.wikimedia.org/ci/job/{job.name}/{build.number}/'
    success-pattern: 'https://integration.wikimedia.org/ci/job/{job.name}/{build.number}/'

  - name: apps-android-wikipedia-lint
    failure-pattern: 'https://integration.wikimedia.org/ci/job/{job.name}/{build.number}/artifact/app/build/reports/lint-results-alphaDebug.html'
    success-pattern: 'https://integration.wikimedia.org/ci/job/{job.name}/{build.number}/artifact/app/build/reports/lint-results-alphaDebug.html'

  - name: apps-android-java-mwapi
    failure-pattern: 'https://integration.wikimedia.org/ci/job/{job.name}/{build.number}/'
    success-pattern: 'https://integration.wikimedia.org/ci/job/{job.name}/{build.number}/'

  - name: beta-mediawiki-config-update-eqiad
    branch: ^master$
    success-message: 'SUCCESS Change has been deployed on the EQIAD beta cluster'
    failure-message: 'FAILURE Failed deployment on the EQIAD beta cluster :-/ Please contact a member of the beta project to fixup the working directory on the destination server.'

  - name: mediawiki-vagrant-puppet-doc-publish
    branch: ^master$

  - name: parsoidsvc-source-jsduck-publish
    branch: ^master$
    success-message: 'SUCCESS Deployed documentation to https://doc.wikimedia.org/Parsoid/master/'
    failure-message: 'FAILURE Failed to deploy documentation :-/'


  - name: integration-docroot-deploy
    branch: ^master$
    success-message: 'SUCCESS View https://integration.wikimedia.org/ or https://doc.wikimedia.org/. Deployed'
    failure-message: 'FAILURE Failed to deploy. Please contact a continuous integration team member to fixup the docroot on the destination server.'

  - name: 'integration-jjb-config-diff'
    success-message: 'SUCCESS Review the XML difference.'
    failure-message: 'FAILURE Failed to compare your patchset with the current configuration.'
    files: '^jjb/.*'

  - name: 'integration-config-tox-dib-jessie'
    files: '^dib/.*'

  - name: 'integration-zuul-layoutdiff'
    voting: false
    # Note how the messages are mixed up. Gotta change the job exit code.
    success-message: 'FAILURE No layout difference. Build'
    failure-message: 'SUCCESS Review the Zuul layout difference. Build'

  - name: 'integration-zuul-layoutvalidation-gate'
    branch: (?!labs)

  - name: 'mwext-CirrusSearch-whitespaces'
    branch: ^master$

  - name: 'mwext-jsduck-publish'
    branch: ^master$

  - name: 'mwext-MobileFrontend-npm-run-lint-modules'
    branch: ^(?!REL1_2[3-8]|wmf/)

  - name: 'mwext-VisualEditor-publish'
    branch: ^master$

  - name: 'mediawiki-selenium-bundle-yard-publish'
    branch: ^master$
  - name: 'mediawiki-ruby-api-bundle-yard-publish'
    branch: ^master$

  - name: mediawiki-core-doxygen-publish
    branch: ^(master|REL.*|refs/tags/(?!wmf).*)$ # REL is bug 50325

  - name: mediawiki-phpunit-hhvm-jessie
    queue-name: mediawiki

  - name: mediawiki-core-qunit-jessie
    queue-name: mediawiki

  - name: mediawiki-core-jsduck
    branch: ^(REL.*|master)$

  - name: mediawiki-core-jsduck-publish
    branch: ^(REL.*|master)$

  # Job to ease reviews of MW-CS changes
  - name: mw-tools-codesniffer-mwcore-testrun
    voting: false
    success-message: 'Example result against MediaWiki core'
    failure-message: 'Example result against MediaWiki core'

  - name: fail-archived-repositories
    queue-name: archived-repos
    failure-message: 'This repository has been archived and new patches are not being accepted. If you want to maintain it follow https://www.mediawiki.org/wiki/Gerrit/Project_ownership#Requesting_repository_ownership and then change which jobs get run.'

  - name: tox-jessie
    skip-if:
      # Done on master, not ready on deployment branch T145012
      #
      # FIXME drop the 'noop' job from gate-and-submit when the skip rule is
      # removed.
      #
      - project: ^wikimedia/fundraising/tools$
        branch: ^deploy$

project-templates:

  - name: extension-unittests-composer
    check:
     - php55lint
     - composer-validate
    test:
     - php55lint
     - mwext-testextension-hhvm-composer-jessie
    php5:
     - mwext-testextension-php55-composer-trusty
    gate-and-submit:
     - php55lint
     - mwext-testextension-php55-composer-trusty
     - mwext-testextension-hhvm-composer-jessie
    experimental:
     - mwext-qunit-composer-jessie
     - npm-node-6-jessie
     - composer-hhvm-jessie
     - composer-php55-trusty
     - composer-php70-jessie

  - name: extension-unittests-composer-non-voting
    check:
     - php55lint
     - composer-validate
    test:
     - php55lint
     - mwext-testextension-hhvm-composer-jessie-non-voting
     - composer-validate
    php5:
     - mwext-testextension-php55-composer-trusty-non-voting
    gate-and-submit:
     - php55lint
     - composer-validate
    experimental:
     - mwext-qunit-composer-jessie
     - composer-hhvm-jessie
     - composer-php55-trusty
     - composer-php70-jessie

  - name: extension-unittests-generic
    check:
     - php55lint
     - composer-validate
    test:
     - php55lint
     # Extensions tests with core+vendor
     - mwext-testextension-hhvm-jessie
     - composer-validate
    php5:
     - mwext-testextension-php55-trusty
    gate-and-submit:
     - php55lint
     # Extensions tests with core+vendor
     - mwext-testextension-php55-trusty
     - mwext-testextension-hhvm-jessie
     - composer-validate
    experimental:
      - mediawiki-extensions-hhvm-jessie
      - mediawiki-extensions-qunit-jessie
      - npm-node-6-jessie
      - composer-hhvm-jessie
      - composer-php55-trusty
      - composer-php70-jessie
      - mwext-php70-phan-jessie

  - name: extension-unittests-non-voting
    check:
     - php55lint
     - composer-validate
    test:
     - php55lint
     # Extensions tests with core+vendor
     - mwext-testextension-hhvm-jessie-non-voting
     - composer-validate
    php5:
     - mwext-testextension-php55-trusty-non-voting
    gate-and-submit:
     - noop
     - php55lint
     - composer-validate
    experimental:
      - mediawiki-extensions-hhvm-jessie
      - mediawiki-extensions-qunit-jessie
      - npm-node-6-jessie
      - composer-hhvm-jessie
      - composer-php55-trusty
      - composer-php70-jessie

  # Template to run per-patch selenium browser test
  # Intentionally not in gate because it's super slow
  - name: extension-selenium
    test:
      - mwext-mw-selenium-jessie
    postmerge:
      - mwext-mw-selenium-jessie

  - name: extension-selenium-gate
    test:
      - mwext-mw-selenium-jessie
    gate-and-submit:
      - mwext-mw-selenium-jessie

  - name: extension-gate
    test:
      - mediawiki-extensions-hhvm-jessie
      - mediawiki-extensions-qunit-jessie
    php5:
      - mediawiki-extensions-php55-trusty
    gate-and-submit:
      - mediawiki-extensions-hhvm-jessie
      - mediawiki-extensions-php55-trusty
      - mediawiki-extensions-qunit-jessie

  - name: extension-phan-generic
    test:
     - mwext-php70-phan-jessie
    gate-and-submit:
     - mwext-php70-phan-jessie

  # Template for MediaWiki extensions.
  # Triggers qunit jobs
  - name: extension-qunit
    test:
      - 'mwext-{name}-qunit'
    gate-and-submit:
      - 'mwext-{name}-qunit'

  # Triggers the generic mwext-qunit job
  - name: extension-qunit-generic
    test:
      - mwext-qunit-jessie
    gate-and-submit:
      - mwext-qunit-jessie
    experimental:
      - mwext-qunit-composer-jessie

  - name: extension-qunit-composer
    test:
      - mwext-qunit-composer-jessie
    gate-and-submit:
      - mwext-qunit-composer-jessie

  - name: skin-tests
    test:
      - mw-testskin
    gate-and-submit:
      - mw-testskin

  - name: skin-tests-non-voting
    test:
      - mw-testskin-non-voting

  - name: jsduck
    test:
     - jsduck
    gate-and-submit:
     - jsduck

  - name: mw-checks-test
    check:
     - php55lint
     - jsonlint
     - composer-validate
    test:
     - php55lint
     - jsonlint
     - composer-validate
    gate-and-submit:
     - php55lint
     - jsonlint
     - composer-validate
    experimental:
     - npm-node-6-jessie
     - composer-hhvm-jessie
     - composer-php55-trusty
     - composer-php70-jessie

  - name: composer-test
    check:
      - php55lint
      - composer-validate
    test:
      - composer-php55-trusty
      - composer-hhvm-jessie
    gate-and-submit:
      - composer-php55-trusty
      - composer-hhvm-jessie
    experimental:
      - composer-php70-jessie

  - name: jshint
    check:
      - jshint
    test:
      - jshint
    gate-and-submit:
      - jshint

  - name: jsonlint
    check:
      - jsonlint
    test:
      - jsonlint
    gate-and-submit:
      - jsonlint

  - name: php55lint
    check:
      - php55lint
    test:
      - php55lint
    gate-and-submit:
      - php55lint

  - name: composer-test-package
    check:
      - composer-package-validate
      - php55lint
    test:
      - composer-package-hhvm-jessie
      - composer-package-php55-trusty
    gate-and-submit:
      - composer-package-hhvm-jessie
      - composer-package-php55-trusty
    experimental:
      - composer-package-php70-jessie

  - name: npm
    test:
      - npm-node-6-jessie
    gate-and-submit:
      - npm-node-6-jessie

  - name: npm-node-0.10
    test:
      - npm-node-0.10
    gate-and-submit:
      - npm-node-0.10
    experimental:
      - npm-node-6-jessie

  - name: rake
    test:
      - rake-jessie
    gate-and-submit:
      - rake-jessie

  - name: puppet-module
    test:
      - puppet-{name}-rake-jessie
    gate-and-submit:
      - puppet-{name}-rake-jessie

  - name: tox-jessie
    test:
     - tox-jessie
    gate-and-submit:
     - tox-jessie

  - name: commit-message-validator
    check:
     - commit-message-validator
    test:
     - commit-message-validator
    gate-and-submit:
     - commit-message-validator

  - name: archived
    check:
     - fail-archived-repositories
    test:
     - fail-archived-repositories
    gate-and-submit:
     - fail-archived-repositories

# Register the Gerrit project name, apply them pipelines that in turn trigger
# a set of jobs.
projects:
  - name: gerrit

  - name: integration/config
    check:
      - noop
    test:
      - integration-config-rake-jessie
      - integration-config-tox-jessie
      - integration-config-tox-dib-jessie
      - integration-jjb-config-diff
      - integration-zuul-layoutdiff
    gate-and-submit:
      - integration-config-rake-jessie
      - integration-config-tox-jessie
      - integration-config-tox-dib-jessie
      - integration-jjb-config-diff
      - integration-zuul-layoutvalidation-gate

  - name: integration/composer
    test:
      - integration-composer-check-php55
    gate-and-submit:
      - integration-composer-check-php55

  - name: integration/commit-message-validator
    template:
      - name: tox-jessie

  - name: integration/dashboard
    test:
      - tox-jessie
    gate-and-submit:
      - tox-jessie

  - name: integration/jenkins
    template:
      - name: composer-test
      - name: tox-jessie

  - name: integration/phpunit
    template:
      - name: archived

  - name: integration/raita
    template:
      - name: jsduck
      - name: npm

  - name: integration/uprightdiff
    test:
      - debian-glue
    gate-and-submit:
      - debian-glue

  - name: integration/zuul
    test:
      - debian-glue-non-voting

  - name: mapdata
    test:
      - mapdata-npm-node-6-jessie
    gate-and-submit:
      - mapdata-npm-node-6-jessie

  - name: maps/kartotherian
    test:
      - noop
    gate-and-submit:
      - noop
    experimental:
      - npm-node-6-jessie

  - name: maps/kartotherian/deploy
    test:
      - noop
    gate-and-submit:
      - noop
    experimental:
      - kartotherian-deploy-npm-node-6-jessie

  - name: maps/tilerator
    test:
      - noop
    gate-and-submit:
      - noop
    experimental:
      - npm-node-6-jessie

  - name: maps/tilerator/deploy
    test:
      - noop
    gate-and-submit:
      - noop
    experimental:
      - tilerator-deploy-npm-node-6-jessie

  - name: mediawiki/core
    template:
      - name: extension-gate
      - name: rake
    check:
      - mediawiki-core-php55lint
      - composer-package-validate
    test:
      - mediawiki-core-phpcs-trusty
      - mediawiki-core-jsduck
      - mediawiki-core-npm-node-6-jessie
      - mediawiki-core-php55lint
      - mediawiki-phpunit-hhvm-jessie
      - mediawiki-core-qunit-jessie
      - composer-package-validate
      - mediawiki-core-php70-phan-jessie
    php5:
      # Comment "check php5" to manually run this
      - mediawiki-phpunit-php55-trusty
    gate-and-submit:
      - mediawiki-core-jsduck
      - mediawiki-core-npm-node-6-jessie
      - mediawiki-core-php55lint
      - mediawiki-core-phpcs-trusty
      - mediawiki-phpunit-hhvm-jessie
      - mediawiki-phpunit-hhvm-composer-jessie
      - mediawiki-phpunit-php55-trusty
      - mediawiki-core-qunit-jessie
      - composer-package-validate
      - mediawiki-core-php70-phan-jessie
    postmerge:
      - mediawiki-core-jsduck-publish
      - mediawiki-core-doxygen-publish
    publish:
      - mediawiki-core-doxygen-publish
    experimental:
      # Experimental php version
      - composer-php70-jessie
      - mediawiki-phpunit-php70-jessie
      - mediawiki-extensions-php70-jessie
      # experimental Node.js Selenium job
      - mediawiki-core-selenium-jessie

  - name: mediawiki/debian
    test:
      - debian-glue-non-voting

  - name: mediawiki/event-schemas
    template:
      - name: npm

  - name: mediawiki/vendor
    template:
      - name: extension-gate
    check:
      - php55lint
      - composer-validate
    test:
      - php55lint
      - composer-validate
      - mediawiki-core-qunit-jessie
      - mediawiki-phpunit-hhvm-jessie
    php5:
      - mediawiki-phpunit-php55-trusty
    gate-and-submit:
      - php55lint
      - mediawiki-phpunit-hhvm-jessie
      - mediawiki-phpunit-php55-trusty
      - mediawiki-core-qunit-jessie
      - composer-validate
    experimental:
      - composer-hhvm-jessie
      - composer-php55-trusty
      - composer-php70-jessie

  - name: analytics/aggregator
    template:
      - name: tox-jessie

  - name: analytics/blog
    template:
      - name: tox-jessie

  - name: analytics/dashiki
    experimental:
      - npm-node-6-jessie

  - name: analytics/geowiki
    template:
      - name: tox-jessie

  - name: analytics/quarry/web
    template:
      - name: tox-jessie

  - name: analytics/kraken
    test:
      - analytics-kraken-maven

  - name: analytics/libanon
    test:
     - analytics-libanon
    gate-and-submit:
     - analytics-libanon
    postmerge:
     - analytics-libanon

  - name: analytics/limn-mobile-data
    template:
      - name: tox-jessie

  - name: analytics/limn-language-data
    test:
     - noop
    gate-and-submit:
     - noop

  - name: analytics/limn-wikidata-data
    test:
     - php55lint
    gate-and-submit:
     - php55lint

  - name: analytics/mediawiki-storage
    template:
      - name: npm

  - name: analytics/multimedia
    template:
      - name: tox-jessie

  - name: analytics/refinery/source
    test:
     - analytics-refinery-maven
    gate-and-submit:
     - analytics-refinery-maven

  - name: analytics/reportupdater
    template:
      - name: tox-jessie

  - name: analytics/udp-filters
    test:
     - analytics-udp-filters
    gate-and-submit:
     - analytics-udp-filters
    postmerge:
     - analytics-udp-filters

  - name: analytics/webstatscollector
    test:
     - analytics-webstatscollector
    gate-and-submit:
     - analytics-webstatscollector
    postmerge:
     - analytics-webstatscollector

  - name: analytics/wikistats
    test:
     - analytics-wikistats
    gate-and-submit:
     - analytics-wikistats
    postmerge:
     - analytics-wikistats

  - name: analytics/wikimetrics
    test:
     - tox-jessie
    gate-and-submit:
     - tox-jessie

  - name: analytics/wmde/scripts
    test:
     - php55lint
    gate-and-submit:
     - noop
     - php55lint

  - name: apps/android/java-mwapi
    test:
      - apps-android-java-mwapi
    gate-and-submit:
      - apps-android-java-mwapi

  - name: apps/android/wikipedia
    test:
      - apps-android-wikipedia-npm-node-6-jessie
      - apps-android-wikipedia-tox-jessie
      - apps-android-wikipedia-test
      - apps-android-wikipedia-lint
    gate-and-submit:
      - apps-android-wikipedia-npm-node-6-jessie
      - apps-android-wikipedia-tox-jessie
      - apps-android-wikipedia-test
      - apps-android-wikipedia-lint
    postmerge:
      - apps-android-wikipedia-publish

  - name: apps/ios/wikipedia
    template:
      - name: archived

  - name: labs/incubator
    test:
     - php55lint
    gate-and-submit:
     - php55lint

  - name: labs/migration-assistant
    template:
      - name: tox-jessie

  - name: labs/nagios-builder
    template:
      - name: archived

  - name: labs/striker
    test:
      - labs-tox-jessie
    gate-and-submit:
      - labs-tox-jessie

  - name: labs/striker/deploy
    test:
      - noop
    gate-and-submit:
      - noop

  - name: labs/striker/staticfiles
    test:
      - noop
    gate-and-submit:
      - noop

  - name: labs/striker/wheels
    test:
      - noop
    gate-and-submit:
      - noop

  - name: labs/toollabs
    test:
     - tox-jessie
     - debian-glue
     - php55lint
    gate-and-submit:
     - tox-jessie
     - debian-glue
     - php55lint

  - name: labs/tools/crosswatch
    template:
      - name: tox-jessie

  - name: labs/tools/extdist
    template:
      - name: tox-jessie

  - name: labs/tools/forrestbot
    template:
      - name: tox-jessie

  - name: labs/tools/gblrenamemon
    template:
      - name: tox-jessie

  - name: labs/tools/grrrit
    template:
      - name: npm

  - name: labs/tools/heritage
    template:
      - name: tox-jessie
      - name: npm
    check:
      - jsonlint
      - php55lint
      - composer-validate
    test:
      - composer-php55-trusty
    gate-and-submit:
      - composer-php55-trusty
    postmerge:
     - tox-py27-coverage-publish

  - name: labs/tools/guc
    test:
      - composer-php55-trusty
    gate-and-submit:
      - composer-php55-trusty

  - name: labs/tools/Luke081515IRCBot
    test:
      - php55lint
    gate-and-submit:
      - php55lint

  - name: labs/tools/ptable
    template:
      - name: tox-jessie

  - name: labs/tools/stashbot
    template:
      - name: tox-jessie

  - name: labs/tools/stewardbots
    template:
      - name: composer-test
      - name: tox-jessie

  - name: labs/tools/wikibugs2
    template:
      - name: tox-jessie
    postmerge:
     - labs-tools-wikibugs2-autopull

  - name: labs/tools/wikidata-slicer
    template:
      - name: npm
      - name: tox-jessie

  - name: labs/tools/ZppixBot
    check:
      - labs-tools-ZppixBot-php55lint
    test:
      - labs-tools-ZppixBot-php55lint
    gate-and-submit:
      - labs-tools-ZppixBot-php55lint

  - name: performance/docroot
    template:
      - name: npm

  - name: performance/WebPageTest
    template:
      - name: npm

  - name: integration/docroot
    test:
     - composer-php55-trusty
     - jshint
     - jsonlint
    gate-and-submit:
     - composer-php55-trusty
     - jshint
     - jsonlint
    postmerge:
     - integration-docroot-deploy

  - name: mediawiki/ruby/api
    template:
      - name: rake
    postmerge:
     - mediawiki-ruby-api-bundle-yard-publish

  - name: mediawiki/selenium
    template:
      - name: rake
    test:
     - mediawiki-selenium-integration-jessie
    gate-and-submit:
     - mediawiki-selenium-integration-jessie
    postmerge:
     - mediawiki-selenium-bundle-yard-publish

  - name: mediawiki/skins/apex
    template:
     - name: composer-test
     - name: npm
     - name: skin-tests

  - name: mediawiki/skins/Blueprint
    template:
      - name: composer-test
      - name: npm
      - name: skin-tests

  - name: mediawiki/skins/BlueSky
    template:
     - name: mw-checks-test
     - name: skin-tests
     - name: npm

  - name: mediawiki/skins/BlueSpiceSkin
    template:
     - name: mw-checks-test
     - name: npm
     - name: skin-tests
    check:
     - jsonlint

  - name: mediawiki/skins/Bouquet
    template:
     - name: mw-checks-test
     - name: skin-tests
     - name: npm
    check:
     - jshint
    gate-and-submit:
     - jshint

  - name: mediawiki/skins/chameleon
    template:
     - name: mw-checks-test
     - name: skin-tests-non-voting

  - name: mediawiki/skins/CologneBlue
    template:
     - name: composer-test
     - name: mw-checks-test
     - name: skin-tests
     - name: npm
    check:
     - jsonlint

  - name: mediawiki/skins/CustomPage
    template:
     - name: mw-checks-test
     # Fails in extension registration due to a duplicate entry with
     # skins/CustomPage (which is a dependency). T153050
     - name: skin-tests-non-voting
     - name: npm
    check:
     - jsonlint

  - name: mediawiki/skins/Daddio
    template:
     - name: mw-checks-test
     - name: npm
     - name: skin-tests-non-voting
    check:
     - jsonlint

  - name: mediawiki/skins/DeepSea
    template:
     - name: mw-checks-test
     - name: skin-tests
     - name: npm
    check:
     - jsonlint

  - name: mediawiki/skins/DeskMessMirrored
    template:
     - name: mw-checks-test
     - name: skin-tests
     - name: npm

  - name: mediawiki/skins/Donate
    template:
     - name: mw-checks-test
     - name: skin-tests-non-voting

  - name: mediawiki/skins/Dusk
    template:
     - name: mw-checks-test
     - name: skin-tests
     - name: npm

  - name: mediawiki/skins/DuskToDawn
    template:
     - name: mw-checks-test
     - name: skin-tests
     - name: npm

  - name: mediawiki/skins/erudite
    template:
     - name: mw-checks-test
     - name: skin-tests
     - name: npm

  - name: mediawiki/skins/Empty
    template:
     - name: mw-checks-test
     - name: skin-tests

  - name: mediawiki/skins/Example
    template:
     - name: composer-test
     - name: npm
     - name: skin-tests
    check:
     - jsonlint

  - name: mediawiki/skins/Gamepress
    template:
     - name: mw-checks-test
     - name: skin-tests
     - name: npm

  - name: mediawiki/skins/GreyStuff
    template:
     - name: mw-checks-test
     - name: npm
     - name: skin-tests
    check:
     - jsonlint

  - name: mediawiki/skins/HasSomeColours
    template:
     - name: mw-checks-test
     - name: npm
     - name: skin-tests
    check:
     - jsonlint

  - name: mediawiki/skins/Mask
    template:
     - name: mw-checks-test
     - name: npm
     - name: skin-tests
    check:
     - jsonlint

  - name: mediawiki/skins/Material
    template:
     - name: mw-checks-test
     - name: npm
     - name: skin-tests
    check:
     - jsonlint

  - name: mediawiki/skins/mediawiki-strapping
    template:
     - name: mw-checks-test
     - name: skin-tests
     - name: npm

  - name: mediawiki/skins/Metrolook
    template:
     - name: composer-test
     - name: npm
     - name: skin-tests
    check:
     - jsonlint

  - name: mediawiki/skins/MinervaNeue
    template:
     - name: composer-test
     - name: npm
     - name: skin-tests

  - name: mediawiki/skins/Modern
    template:
     - name: composer-test
     - name: mw-checks-test
     - name: npm
     - name: skin-tests

  - name: mediawiki/skins/MonoBook
    template:
     - name: composer-test
     - name: mw-checks-test
     - name: npm
     - name: skin-tests

  - name: mediawiki/skins/Nimbus
    template:
     - name: mw-checks-test
     - name: skin-tests
     - name: npm

  - name: mediawiki/skins/Nostalgia
    template:
     - name: mw-checks-test
     - name: npm
     - name: skin-tests

  - name: mediawiki/skins/p2wiki
    template:
     - name: mw-checks-test
     - name: skin-tests
     - name: npm

  - name: mediawiki/skins/Refreshed
    template:
     - name: mw-checks-test
     - name: skin-tests-non-voting
     - name: npm

  - name: mediawiki/skins/Schulenburg
    template:
     - name: mw-checks-test
     - name: skin-tests

  - name: mediawiki/skins/Splash
    template:
     - name: mw-checks-test
     - name: npm
     - name: skin-tests-non-voting
    check:
     - jsonlint

  - name: mediawiki/skins/Synagonism
    template:
     - name: mw-checks-test
     - name: skin-tests-non-voting

  - name: mediawiki/skins/Tempo
    template:
     - name: mw-checks-test
     - name: npm
     - name: skin-tests-non-voting
    check:
     - jsonlint

  - name: mediawiki/skins/Timeless
    template:
     - name: composer-test
     - name: npm
     - name: skin-tests

  - name: mediawiki/skins/Tomas
    template:
     - name: mw-checks-test
     - name: skin-tests

  - name: mediawiki/skins/Truglass
    template:
     - name: mw-checks-test
     - name: skin-tests-non-voting
     - name: npm

  - name: mediawiki/skins/Vector
    template:
     - name: composer-test
     - name: npm
     - name: skin-tests
    check:
     - jsonlint
    experimental:
     - mediawiki-core-selenium-jessie

  - name: mediawiki/skins/VectorV2
    template:
     - name: composer-test
     - name: npm
     - name: skin-tests

  - name: mediawiki/skins/webplatform
    template:
     - name: mw-checks-test
     - name: skin-tests

  - name: mediawiki/skins/WoOgLeShades
    template:
     - name: mw-checks-test
     - name: npm
     - name: skin-tests
    check:
     - jsonlint

  - name: mediawiki/skins/WPtouch
    template:
     - name: mw-checks-test
     - name: skin-tests
     - name: npm

  - name: mediawiki/tools/code-utils
    test:
     - php55lint
    gate-and-submit:
     - php55lint

  - name: mediawiki/tools/codesniffer
    template:
     - name: composer-test-package
    test:
     - mw-tools-codesniffer-mwcore-testrun

  - name: mediawiki/tools/dippybird
    test:
     - php55lint
    gate-and-submit:
     - php55lint

  - name: mediawiki/tools/mwdumper
    test:
      - mwdumper-maven
    gate-and-submit:
      - mwdumper-maven

  - name: mediawiki/tools/release
    template:
      - name: composer-test
      - name: tox-jessie
    check:
      - jsonlint
    test:
      - php55lint
    gate-and-submit:
      - php55lint

  - name: mediawiki/tools/releng
    test:
      - tox-jessie
    gate-and-submit:
      - tox-jessie
    postmerge:
      - mw-tools-releng-tox-doc-publish

  - name: mediawiki/vagrant
    test:
      - mediawiki-vagrant-rake-jessie
    gate-and-submit:
      - mediawiki-vagrant-rake-jessie
    postmerge:
      - mediawiki-vagrant-puppet-doc-publish

  - name: node-rdkafka-statsd
    template:
      - name: npm

  # TIP:
  # gerrit ls-projects -p operations/debs/
  # Nice alignement in vim obtained via: !column -t
  # With vim Tabularize plugin: Tab /test:
  - name: operations/debs/adminbot
    template:
      - name: tox-jessie
    test:
      - debian-glue-non-voting
  - { name: operations/debs/archiva,                         test: ['debian-glue-non-voting'] }
  - { name: operations/debs/avconv10,                        test: ['debian-glue-non-voting'] }
  - { name: operations/debs/bdsync,                          test: ['debian-glue-non-voting'] }
  - { name: operations/debs/bloomd,                          test: ['debian-glue-non-voting'] }
  - { name: operations/debs/burrow,                          test: ['debian-glue-non-voting'] }
  - { name: operations/debs/carbon-c-relay,                  test: ['debian-glue-non-voting'] }
  - { name: operations/debs/cassandra-tools-wmf,             test: ['debian-glue-non-voting'] }
  - { name: operations/debs/check_ganglia,                   test: ['debian-glue-non-voting'] }
  - { name: operations/debs/confd,                           test: ['debian-glue-non-voting'] }
  - { name: operations/debs/debdeploy,                       test: ['debian-glue-non-voting'] }
  - { name: operations/debs/druid,                           test: ['debian-glue-non-voting'] }
  - { name: operations/debs/etherpad-lite,                   test: ['debian-glue-non-voting'] }
  - { name: operations/debs/ffmpeg2theora,                   test: ['debian-glue-non-voting'] }
  - { name: operations/debs/flannel,                         test: ['debian-glue-non-voting'] }
  - { name: operations/debs/flask-login,                     test: ['debian-glue-non-voting'] }
  - { name: operations/debs/ganglia,                         test: ['debian-glue-non-voting'] }
  - { name: operations/debs/geckodriver,                     test: ['debian-glue-non-voting'] }
  - { name: operations/debs/gerrit,                          test: ['debian-glue-non-voting'] }
  - { name: operations/debs/git-deploy,                      test: ['debian-glue-non-voting'] }
  - { name: operations/debs/git-fat,                         test: ['debian-glue-non-voting'] }
  - { name: operations/debs/golang-burrow,                   test: ['debian-glue-non-voting'] }
  - { name: operations/debs/hhvm,                            test: ['debian-glue-non-voting'] }
  - { name: operations/debs/ircd-ratbox,                     test: ['debian-glue-non-voting'] }
  - { name: operations/debs/ircecho,                         test: ['debian-glue-non-voting'] }
  - { name: operations/debs/jenkins-debian-glue,             test: ['debian-glue-non-voting'] }
  - { name: operations/debs/jetty-runner,                    test: ['debian-glue-non-voting'] }
  - { name: operations/debs/jmxtrans,                        test: ['debian-glue-non-voting'] }
  - { name: operations/debs/kafka,                           test: ['debian-glue-non-voting'] }
  - { name: operations/debs/kafkacat,                        test: ['debian-glue-non-voting'] }
  - { name: operations/debs/kubernetes,                      test: ['debian-glue-non-voting'] }
  - { name: operations/debs/latexml,                         test: ['debian-glue-non-voting'] }
  - { name: operations/debs/libanon,                         test: ['debian-glue-non-voting'] }
  - { name: operations/debs/libav,                           test: ['debian-glue-non-voting'] }
  - { name: operations/debs/librsvg,                         test: ['debian-glue-non-voting'] }
  - { name: operations/debs/libvpx,                          test: ['debian-glue-non-voting'] }
  - { name: operations/debs/linux,                           test: ['debian-glue-non-voting'] }
  - { name: operations/debs/linux44,                         test: ['debian-glue-non-voting'] }
  - { name: operations/debs/linux-meta,                      test: ['debian-glue-non-voting'] }
  - { name: operations/debs/logstash-gelf,                   test: ['debian-glue-non-voting'] }
  - { name: operations/debs/logster,                         test: ['debian-glue-non-voting'] }
  - { name: operations/debs/lucene-search-2,                 test: ['debian-glue-non-voting'] }
  - { name: operations/debs/mariadb-server,                  test: ['debian-glue-non-voting'] }
  - { name: operations/debs/mcrouter,                        test: ['debian-glue-non-voting'] }
  - { name: operations/debs/memkeys,                         test: ['debian-glue-non-voting'] }
  - { name: operations/debs/mod_tile,                        test: ['debian-glue-non-voting'] }
  - { name: operations/debs/mtail,                           test: ['debian-glue-non-voting'] }
  - { name: operations/debs/mwbzutils,                       test: ['debian-glue-non-voting'] }
  - { name: operations/debs/mysqlatfacebook,                 test: ['debian-glue-non-voting'] }
  - { name: operations/debs/nfsd-ldap,                       test: ['debian-glue-non-voting'] }
  - { name: operations/debs/nginx,                           test: ['debian-glue-non-voting'] }
  - { name: operations/debs/nodejs,                          test: ['debian-glue-non-voting'] }
  - { name: operations/debs/nodepool,                        test: ['debian-glue-non-voting'] }
  - { name: operations/debs/nutcracker,                      test: ['debian-glue-non-voting'] }
  - { name: operations/debs/openssl,                         test: ['debian-glue-non-voting'] }
  - { name: operations/debs/openssl11,                       test: ['debian-glue-non-voting'] }
  - { name: operations/debs/opus,                            test: ['debian-glue-non-voting'] }
  - { name: operations/debs/osm2pgsql,                       test: ['debian-glue-non-voting'] }
  - { name: operations/debs/osm-mapnik-style,                test: ['debian-glue-non-voting'] }
  - { name: operations/debs/perf-tools,                      test: ['debian-glue-non-voting'] }
  - { name: operations/debs/phantomjs,                       test: ['debian-glue-non-voting'] }
  - { name: operations/debs/php-mailparse,                   test: ['debian-glue-non-voting'] }
  - { name: operations/debs/prometheus-apache-exporter,      test: ['debian-glue-non-voting'] }
  - { name: operations/debs/prometheus-memcached-exporter,   test: ['debian-glue-non-voting'] }
  - { name: operations/debs/prometheus-redis-exporter,       test: ['debian-glue-non-voting'] }
  - { name: operations/debs/puppet,                          test: ['debian-glue-non-voting'] }
  - name: operations/debs/pybal
    template:
      - name: tox-jessie
    test:
      - debian-glue-non-voting
  - { name: operations/debs/pykube,                          test: ['debian-glue-non-voting'] }
  - { name: operations/debs/python-confluent-kafka,          test: ['debian-glue-non-voting'] }
  - { name: operations/debs/python-diamond,                  test: ['debian-glue-non-voting'] }
  - { name: operations/debs/python-dotted,                   test: ['debian-glue-non-voting'] }
  - { name: operations/debs/python-etcd,                     test: ['debian-glue-non-voting'] }
  - { name: operations/debs/python-flask-login,              test: ['debian-glue-non-voting'] }
  - { name: operations/debs/python-gear,                     test: ['debian-glue-non-voting'] }
  - { name: operations/debs/python-gevent,                   test: ['debian-glue-non-voting'] }
  - { name: operations/debs/python-jsonable,                 test: ['debian-glue-non-voting'] }
  - { name: operations/debs/python-jsonschema,               test: ['debian-glue-non-voting'] }
  - { name: operations/debs/python-kafka,                    test: ['debian-glue-non-voting'] }
  - { name: operations/debs/python-mwapi,                    test: ['debian-glue-non-voting'] }
  - { name: operations/debs/python-mwparserfromhell,         test: ['debian-glue-non-voting'] }
  - { name: operations/debs/python-mwtypes,                  test: ['debian-glue-non-voting'] }
  - { name: operations/debs/python-phabricator,              test: ['debian-glue-non-voting'] }
  - { name: operations/debs/python-pykafka,                  test: ['debian-glue-non-voting'] }
  - { name: operations/debs/python-snakebite,                test: ['debian-glue-non-voting'] }
  - { name: operations/debs/python-sprockets,                test: ['debian-glue-non-voting'] }
  - { name: operations/debs/python-sprockets-clients-statsd, test: ['debian-glue-non-voting'] }
  - { name: operations/debs/python-sprockets-mixins-statsd,  test: ['debian-glue-non-voting'] }
  - { name: operations/debs/python-stopit,                   test: ['debian-glue-non-voting'] }
  - { name: operations/debs/python-thumbor-wikimedia,        test: ['debian-glue-non-voting'] }
  - { name: operations/debs/python-ua-parser,                test: ['debian-glue-non-voting'] }
  - { name: operations/debs/quickstack,                      test: ['debian-glue-non-voting'] }
  - { name: operations/debs/rt-authen-externalauth,          test: ['debian-glue-non-voting'] }
  - { name: operations/debs/ruby-dimensions,                 test: ['debian-glue-non-voting'] }
  - { name: operations/debs/ruby-execjs,                     test: ['debian-glue-non-voting'] }
  - { name: operations/debs/ruby-jsduck,                     test: ['debian-glue-non-voting'] }
  - { name: operations/debs/ruby-parallel,                   test: ['debian-glue-non-voting'] }
  - { name: operations/debs/salt,                            test: ['debian-glue-non-voting'] }
  - { name: operations/debs/sartoris,                        test: ['debian-glue-non-voting'] }
  - { name: operations/debs/search-qa,                       test: ['debian-glue-non-voting'] }
  - { name: operations/debs/squid,                           test: ['debian-glue-non-voting'] }
  - { name: operations/debs/StatsD,                          test: ['debian-glue-non-voting'] }
  - { name: operations/debs/statsite,                        test: ['debian-glue-non-voting'] }
  - { name: operations/debs/udp2log-log4j-java,              test: ['debian-glue-non-voting'] }
  - { name: operations/debs/utfnormal,                       test: ['debian-glue-non-voting'] }
  - { name: operations/debs/varnish,                         test: ['debian-glue-non-voting'] }
  - { name: operations/debs/varnish4,                        test: ['debian-glue'] }
  - { name: operations/debs/vips,                            test: ['debian-glue-non-voting'] }
  - { name: operations/debs/wikibugs,                        test: ['debian-glue-non-voting'] }
  - { name: operations/debs/wikimedia-base,                  test: ['debian-glue-non-voting'] }
  - { name: operations/debs/wikimedia-job-runner,            test: ['debian-glue-non-voting'] }
  - { name: operations/debs/wikimedia-keyring,               test: ['debian-glue-non-voting'] }
  - { name: operations/debs/wikimedia-ldap-tools,            test: ['debian-glue-non-voting'] }
  - { name: operations/debs/wikimedia-lvs-realserver,        test: ['debian-glue-non-voting'] }
  - { name: operations/debs/wikimedia-search-qa,             test: ['debian-glue-non-voting'] }
  - { name: operations/debs/wikimedia-task-appserver,        test: ['debian-glue-non-voting'] }
  - name: operations/debs/wikistats
    check:
      - php55lint
    test:
     - php55lint
     - debian-glue-non-voting
    gate-and-submit:
     - php55lint
     - debian-glue-non-voting

  # Content translation related packages
  - { name: operations/debs/contenttranslation/apertium,           test: ['debian-glue'] }
  - { name: operations/debs/contenttranslation/apertium-af-nl,     test: ['debian-glue'] }
  - { name: operations/debs/contenttranslation/apertium-apy,       test: ['debian-glue'] }
  - { name: operations/debs/contenttranslation/apertium-arg,       test: ['debian-glue'] }
  - { name: operations/debs/contenttranslation/apertium-arg-cat,   test: ['debian-glue'] }
  - { name: operations/debs/contenttranslation/apertium-br-fr,     test: ['debian-glue'] }
  - { name: operations/debs/contenttranslation/apertium-ca-it,     test: ['debian-glue'] }
  - { name: operations/debs/contenttranslation/apertium-cat,       test: ['debian-glue'] }
  - { name: operations/debs/contenttranslation/apertium-cy-en,     test: ['debian-glue'] }
  - { name: operations/debs/contenttranslation/apertium-dan,       test: ['debian-glue'] }
  - { name: operations/debs/contenttranslation/apertium-dan-nor,   test: ['debian-glue'] }
  - { name: operations/debs/contenttranslation/apertium-en-ca,     test: ['debian-glue'] }
  - { name: operations/debs/contenttranslation/apertium-en-es,     test: ['debian-glue'] }
  - { name: operations/debs/contenttranslation/apertium-en-gl,     test: ['debian-glue'] }
  - { name: operations/debs/contenttranslation/apertium-eo-ca,     test: ['debian-glue'] }
  - { name: operations/debs/contenttranslation/apertium-eo-en,     test: ['debian-glue'] }
  - { name: operations/debs/contenttranslation/apertium-eo-es,     test: ['debian-glue'] }
  - { name: operations/debs/contenttranslation/apertium-eo-fr,     test: ['debian-glue'] }
  - { name: operations/debs/contenttranslation/apertium-es-an,     test: ['debian-glue'] }
  - { name: operations/debs/contenttranslation/apertium-es-ast,    test: ['debian-glue'] }
  - { name: operations/debs/contenttranslation/apertium-es-ca,     test: ['debian-glue'] }
  - { name: operations/debs/contenttranslation/apertium-es-gl,     test: ['debian-glue'] }
  - { name: operations/debs/contenttranslation/apertium-es-it,     test: ['debian-glue'] }
  - { name: operations/debs/contenttranslation/apertium-es-pt,     test: ['debian-glue'] }
  - { name: operations/debs/contenttranslation/apertium-es-ro,     test: ['debian-glue'] }
  - { name: operations/debs/contenttranslation/apertium-eu-en,     test: ['debian-glue'] }
  - { name: operations/debs/contenttranslation/apertium-eu-es,     test: ['debian-glue'] }
  - { name: operations/debs/contenttranslation/apertium-eus,       test: ['debian-glue'] }
  - { name: operations/debs/contenttranslation/apertium-fra,       test: ['debian-glue'] }
  - { name: operations/debs/contenttranslation/apertium-fra-cat,   test: ['debian-glue'] }
  - { name: operations/debs/contenttranslation/apertium-fr-ca,     test: ['debian-glue'] }
  - { name: operations/debs/contenttranslation/apertium-fr-es,     test: ['debian-glue'] }
  - { name: operations/debs/contenttranslation/apertium-hbs,       test: ['debian-glue'] }
  - { name: operations/debs/contenttranslation/apertium-hbs-eng,   test: ['debian-glue'] }
  - { name: operations/debs/contenttranslation/apertium-hbs-mkd,   test: ['debian-glue'] }
  - { name: operations/debs/contenttranslation/apertium-hbs-slv,   test: ['debian-glue'] }
  - { name: operations/debs/contenttranslation/apertium-hin,       test: ['debian-glue'] }
  - { name: operations/debs/contenttranslation/apertium-id-ms,     test: ['debian-glue'] }
  - { name: operations/debs/contenttranslation/apertium-isl,       test: ['debian-glue'] }
  - { name: operations/debs/contenttranslation/apertium-isl-eng,   test: ['debian-glue'] }
  - { name: operations/debs/contenttranslation/apertium-is-sv,     test: ['debian-glue'] }
  - { name: operations/debs/contenttranslation/apertium-ita,       test: ['debian-glue'] }
  - { name: operations/debs/contenttranslation/apertium-kaz,       test: ['debian-glue'] }
  - { name: operations/debs/contenttranslation/apertium-kaz-tat,   test: ['debian-glue'] }
  - { name: operations/debs/contenttranslation/apertium-lex-tools, test: ['debian-glue'] }
  - { name: operations/debs/contenttranslation/apertium-mk,        test: ['debian-glue'] }
  - { name: operations/debs/contenttranslation/apertium-mk-bg,     test: ['debian-glue'] }
  - { name: operations/debs/contenttranslation/apertium-mk-en,     test: ['debian-glue'] }
  - { name: operations/debs/contenttranslation/apertium-mlt-ara,   test: ['debian-glue'] }
  - { name: operations/debs/contenttranslation/apertium-nno,       test: ['debian-glue'] }
  - { name: operations/debs/contenttranslation/apertium-nno-nob,   test: ['debian-glue'] }
  - { name: operations/debs/contenttranslation/apertium-nob,       test: ['debian-glue'] }
  - { name: operations/debs/contenttranslation/apertium-oc-ca,     test: ['debian-glue'] }
  - { name: operations/debs/contenttranslation/apertium-oc-es,     test: ['debian-glue'] }
  - { name: operations/debs/contenttranslation/apertium-pt-ca,     test: ['debian-glue'] }
  - { name: operations/debs/contenttranslation/apertium-pt-gl,     test: ['debian-glue'] }
  - { name: operations/debs/contenttranslation/apertium-sme-nob,   test: ['debian-glue'] }
  - { name: operations/debs/contenttranslation/apertium-spa,       test: ['debian-glue'] }
  - { name: operations/debs/contenttranslation/apertium-spa-arg,   test: ['debian-glue'] }
  - { name: operations/debs/contenttranslation/apertium-srd,       test: ['debian-glue'] }
  - { name: operations/debs/contenttranslation/apertium-srd-ita,   test: ['debian-glue'] }
  - { name: operations/debs/contenttranslation/apertium-sv-da,     test: ['debian-glue'] }
  - { name: operations/debs/contenttranslation/apertium-swe,       test: ['debian-glue'] }
  - { name: operations/debs/contenttranslation/apertium-swe-dan,   test: ['debian-glue'] }
  - { name: operations/debs/contenttranslation/apertium-swe-nor,   test: ['debian-glue'] }
  - { name: operations/debs/contenttranslation/apertium-tat,       test: ['debian-glue'] }
  - { name: operations/debs/contenttranslation/apertium-urd,       test: ['debian-glue'] }
  - { name: operations/debs/contenttranslation/apertium-urd-hin,   test: ['debian-glue'] }
  - { name: operations/debs/contenttranslation/cg3,                test: ['debian-glue'] }
  - { name: operations/debs/contenttranslation/foma,               test: ['debian-glue'] }
  - { name: operations/debs/contenttranslation/giella-core,        test: ['debian-glue'] }
  - { name: operations/debs/contenttranslation/giella-sme,         test: ['debian-glue'] }
  - { name: operations/debs/contenttranslation/hfst,               test: ['debian-glue'] }
  - { name: operations/debs/contenttranslation/hfst-ospell,        test: ['debian-glue'] }
  - { name: operations/debs/contenttranslation/lttoolbox,          test: ['debian-glue'] }
  - { name: operations/debs/contenttranslation/python-toro,        test: ['debian-glue'] }

  - name: operations/dns
    test-prio:
      - operations-dns-lint
      - operations-dns-tabs

  - name: operations/docker-images/toollabs-images
    template:
      - name: tox-jessie

  - name: operations/dumps
    template:
      - name: tox-jessie

  - name: operations/mediawiki-config
    check:
      - operations-mw-config-php55lint
      - composer-validate
    test-prio:
      - operations-mw-config-php55lint
      - operations-mw-config-composer-hhvm-jessie
      - operations-mw-config-typos
    gate-and-submit:
      - operations-mw-config-php55lint
      - operations-mw-config-composer-hhvm-jessie
      - operations-mw-config-typos
    postmerge:
      - beta-mediawiki-config-update-eqiad

  - name: operations/puppet
    test-prio:
      - operations-puppet-tests-jessie

  - name: operations/puppet/cdh
    template:
      - name: puppet-module

  - name: operations/puppet/cdh4
    template:
      - name: puppet-module

  - name: operations/puppet/jmxtrans
    template:
      - name: puppet-module

  - name: operations/puppet/kafka
    template:
      - name: puppet-module

  - name: operations/puppet/kafkatee
    template:
      - name: puppet-module
    test:
      - tox-jessie

  - name: operations/puppet/mariadb
    template:
      - name: puppet-module

  - name: operations/puppet/nginx
    template:
      - name: puppet-module

  - name: operations/puppet/varnishkafka
    template:
      - name: puppet-module
    test:
      - tox-jessie

  - name: operations/puppet/wikimetrics
    template:
      - name: puppet-module

  - name: operations/puppet/zookeeper
    template:
      - name: puppet-module

  # Repo of misc softwares
  # Voting V+2 so ops dont idle waiting for CI to report.
  - name: operations/software
    template:
      - name: tox-jessie

  - name: operations/software/conftool
    template:
      - name: tox-jessie

  - name: operations/software/cumin
    test:
      - debian-glue-non-voting
    template:
      - name: tox-jessie

  - name: operations/software/elasticsearch-tool
    template:
      - name: tox-jessie

  - name: operations/software/etcd-mirror
    test:
      - debian-glue-non-voting

  - name: operations/software/ircyall
    template:
      - name: tox-jessie

  - name: operations/software/labsdb-auditor
    template:
      - name: tox-jessie

  - name: operations/software/nginx
    test:
      - debian-glue-non-voting

  - name: operations/software/puppet-compiler
    template:
      - name: tox-jessie

  - name: operations/software/service-checker
    template:
      - name: tox-jessie

  - name: operations/software/tools-manifest
    template:
      - name: tox-jessie
    test:
      - debian-glue
    gate-and-submit:
      - debian-glue

  - name: operations/software/tools-webservice
    template:
      - name: tox-jessie
    test:
      - debian-glue
    gate-and-submit:
      - debian-glue

  - name: operations/software/hhvm_exporter
    template:
      - name: tox-jessie

  - name: operations/switchdc
    template:
      - name: tox-jessie

  - name: research/recommendation-api
    template:
      - name: tox-jessie

  - name: translatewiki
    test:
      - translatewiki-rake-jessie
      - composer-hhvm-jessie
    gate-and-submit:
      - translatewiki-rake-jessie
      - composer-hhvm-jessie

  - name: wikimedia/discovery/relevanceForge
    template:
      - name: tox-jessie

  - name: wikimedia/discovery/analytics
    template:
      - name: tox-jessie

  - name: wikimedia/fundraising/dash
    template:
      # Depends on node-syslog@1.1.7 which does not work on Node 4.3
      - name: npm-node-0.10

  - name: wikimedia/fundraising/process-control
    template:
      - name: tox-jessie

  - name: wikimedia/fundraising/stats
    gate-and-submit:
      - noop
    experimental:
      - tox-jessie

  - name: wikimedia/fundraising/tools
    test:
      - jshint
      - jsonlint
      - tox-jessie
    gate-and-submit:
      - jshint
      - jsonlint
      - tox-jessie
      # tox-jessie is skipped on 'deploy' branch (WIP T145012)
      - noop

  - name: wikimedia/fundraising/crm
    test:
      - wikimedia-fundraising-crm-jsonlint
      - php55lint
      - wikimedia-fundraising-civicrm
      # TODO: fixups so that we can run composer-validate
      - noop
    gate-and-submit:
      - wikimedia-fundraising-crm-jsonlint
      - php55lint
      - wikimedia-fundraising-civicrm
      # Since jobs above might not trigger due to file filtering and
      # wikimedia-fundraising-civicrm is not run on deployment branch, we still
      # need a job to run for Zuul to gate-and-submit
      # T120881
      - noop

  - name: wikimedia/fundraising/crm/civicrm
    test:
      - php55lint
      - wikimedia-fundraising-civicrm
    gate-and-submit:
      - php55lint
      - wikimedia-fundraising-civicrm

  - name: wikimedia/fundraising/crm/drupal
    test:
      - php55lint
      - wikimedia-fundraising-civicrm
    gate-and-submit:
      - php55lint
      - wikimedia-fundraising-civicrm

  - name: wikimedia/fundraising/crm/vendor
    test:
      - php55lint
      - wikimedia-fundraising-civicrm
    gate-and-submit:
      - php55lint
      - wikimedia-fundraising-civicrm

  - name: wikimedia/fundraising/php-queue
    test:
     - php55lint
     - composer-php55-trusty
     - composer-hhvm-jessie
     - composer-validate
    gate-and-submit:
     - php55lint
     - composer-php55-trusty
     - composer-hhvm-jessie
     - composer-validate

  - name: wikimedia/fundraising/slander
    template:
      - name: tox-jessie

  - name: wikimedia/fundraising/SmashPig
    template:
      - name: composer-test

  - name: wikimedia/iegreview
    template:
     - name: jshint
     - name: jsonlint
     - name: composer-test

  - name: wikimedia/wikimania-scholarships
    template:
     - name: jshint
     - name: jsonlint
     - name: composer-test

  - name: wikimedia/textcat
    template:
     - name: composer-test-package

#### MediaWiki extensions ######################################

  - name: mediawiki/extensions/3D
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/AbuseFilter
    template:
      - name: composer-test
      - name: extension-gate
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/AccountAudit
    template:
      - name: composer-test
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/AccountInfo
    template:
      - name: composer-test
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/ActiveAbstract
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/ActivityMonitor
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/AddMessages
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/AdminLinks
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Agora
    template:
      - name: archived

  - name: mediawiki/extensions/AntiBot
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/AntiSpoof
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Annotator
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/APC
    template:
      - name: archived

  - name: mediawiki/extensions/ApiSandbox
    template:
      - name: archived

  - name: mediawiki/extensions/ApprovedRevs
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/ArticleFeedback
    template:
      - name: jsonlint
      - name: mw-checks-test

  - name: mediawiki/extensions/ArticleFeedbackv5
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/ArticlePlaceholder
    template:
      - name: composer-test
      - name: extension-unittests-composer
      - name: extension-qunit-composer
      - name: npm
    check:
      - jsonlint
      - jshint
    experimental:
      - mwext-mw-selenium-composer-jessie

  - name: mediawiki/extensions/Arrays
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/ArticleRatings
    template:
      - name: extension-unittests-generic
      - name: jsonlint

  - name: mediawiki/extensions/Athena
    template:
      - name: extension-unittests-generic
      - name: jsonlint
      - name: npm

  - name: mediawiki/extensions/Babel
    template:
      - name: composer-test
      - name: extension-gate
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/BaseHooks
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/BetaFeatures
    template:
      - name: npm
      - name: extension-unittests-generic
    check:
      - jsonlint

  - name: mediawiki/extensions/BlameMaps
    template:
      - name: archived

  - name: mediawiki/extensions/BlogPage
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/BoilerPlate
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/BookManager
    template:
      - name: extension-unittests-non-voting
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/BookManagerv2
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/BounceHandler
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Buggy
    template:
      - name: npm
      - name: extension-unittests-generic
    check:
     - jsonlint

  - name: mediawiki/extensions/Calendar
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Campaigns
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Capiunto
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Cards
    template:
      - name: composer-test
      - name: extension-gate
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/CategoryTagSorter
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/CategoryTree
    template:
      - name: jshint
      - name: npm
      - name: extension-unittests-generic
    check:
      - jsonlint

  - name: mediawiki/extensions/ChangeAuthor
    template:
      - name: extension-unittests-generic
      - name: jsonlint
      - name: npm

  - name: mediawiki/extensions/CharInsert
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/CheckUser
    template:
      - name: composer-test
      - name: extension-gate
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/Cite
    template:
      - name: composer-test
      - name: extension-gate
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/CiteThisPage
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Citoid
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/cldr
    template:
      - name: composer-test
      - name: extension-gate
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/CentralAuth
    template:
      - name: composer-test
      - name: extension-qunit-generic
      - name: extension-unittests-generic
      - name: rake
      - name: npm
    check:
      - jsonlint
      - jshint
    experimental:
      - mwext-mw-selenium-jessie

  - name: mediawiki/extensions/CentralNotice
    template:
      - name: composer-test
      - name: extension-qunit-generic
      - name: extension-unittests-generic
      - name: rake
      - name: npm
    check:
      - jsonlint
      - jshint
    experimental:
      - mwext-mw-selenium-jessie

  - name: mediawiki/extensions/CirrusSearch
    template:
      - name: extension-gate
      - name: rake
      - name: mw-checks-test
      - name: npm
      - name: extension-phan-generic
    check:
      - jsonlint
      - jshint
    test:
      - mwext-CirrusSearch-whitespaces
    gate-and-submit:
      - mwext-CirrusSearch-whitespaces

  - name: mediawiki/extensions/CleanChanges
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/ClickTracking
    template:
      - name: archived

  - name: mediawiki/extensions/ClientSide
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/CommentStreams
    template:
      - name: extension-unittests-generic
      - name: jsonlint
      - name: npm

  - name: mediawiki/extensions/CookieWarning
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/CodeEditor
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/CodeMirror
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/CodeReview
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/Cognate
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
      - name: extension-phan-generic
    check:
      - jsonlint

  - name: mediawiki/extensions/CollaborationKit
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
    postmerge:
      - mwext-doxygen-publish
      - mwext-jsduck-publish

  - name: mediawiki/extensions/CollapsibleVector
    template:
     - name: composer-test
     - name: extension-unittests-generic
     - name: npm
    check:
     - jshint
     - jsonlint

  - name: mediawiki/extensions/Collection
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
     - jshint
     - jsonlint

  - name: mediawiki/extensions/Collection/OfflineContentGenerator
    template:
      - name: npm

  - name: mediawiki/extensions/Collection/OfflineContentGenerator/bundler
    template:
      - name: npm

  - name: mediawiki/extensions/Collection/OfflineContentGenerator/latex_renderer
    template:
      - name: npm

  - name: mediawiki/extensions/Collection/OfflineContentGenerator/text_renderer
    template:
      - name: npm

  - name: mediawiki/extensions/Collection/OfflineContentGenerator/zim_renderer
    template:
      - name: npm

  - name: mediawiki/extensions/CommonsMetadata
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Configure
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/ConfirmAccount
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/ConfirmEdit
    template:
      - name: composer-test
      - name: extension-gate
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/ContentTranslation
    template:
      - name: composer-test
      - name: rake
      - name: npm
      - name: extension-unittests-generic
      - name: extension-qunit-generic
    check:
      - jsonlint

  - name: mediawiki/extensions/ContributionScores
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/ContributionsList
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/CommonMessages
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/CommunityApplications
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/CommunityHiring
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/CommunityVoice
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/ContactPage
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/FlickrAPI
    template:
      - name: extension-unittests-generic
      - name: jsonlint
      - name: npm

  - name: mediawiki/extensions/FundraisingChart
    template:
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/ContributionReporting
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/ContributionTracking
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/ConventionExtension
    template:
      - name: archived

  - name: mediawiki/extensions/CreditsSource
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/CreatePageUw
    template:
      - name: extension-unittests-generic
    check:
      - jsonlint

  - name: mediawiki/extensions/CustomData
    template:
      - name: archived

  - name: mediawiki/extensions/CustomPage
    template:
      # Fails in extension registration due to a duplicate entry with
      # skins/CustomPage (which is a dependency). T153050
      - name: extension-unittests-non-voting
      - name: jsonlint
      - name: npm

  - name: mediawiki/extensions/CustomUserSignup
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/D3Loader
    template:
      - name: extension-unittests-generic
      - name: jsonlint
      - name: npm

  - name: mediawiki/extensions/Dashiki
    template:
      - name: extension-unittests-generic
      - name: jsonlint
      - name: npm

  - name: mediawiki/extensions/DateDiff
    template:
      - name: extension-unittests-generic
      - name: jsonlint
      - name: npm

  - name: mediawiki/extensions/DebugMode
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/DebugTemplates
    template:
      - name: extension-unittests-generic
      - name: jsonlint
      - name: npm

  - name: mediawiki/extensions/DeleteBatch
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/DeletePagesForGood
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/DisableAccount
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Disambiguator
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/DiscussionThreading
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/DismissableSiteNotice
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/DisplayTitle
    template:
      - name: extension-unittests-generic
      - name: jsonlint
      - name: npm

  - name: mediawiki/extensions/DonationInterface
    template:
      - name: extension-unittests-non-voting
      - name: npm
    check:
      - jsonlint
      - jshint
    test:
      - mwext-donationinterfacecore-REL1_27-testextension-zend55
      - php55lint
    gate-and-submit:
      - mwext-donationinterfacecore-REL1_27-testextension-zend55
      - php55lint
    experimental:
      - mwext-donationinterfacecore-REL1_28-testextension-zend55

  - name: mediawiki/extensions/DoubleWiki
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Drafts
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/DynamicSidebar
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/DumpHTML
    template:
      - name: mw-checks-test
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/E3Experiments
    template:
      - name: archived

  - name: mediawiki/extensions/Echo
    template:
      - name: composer-test
      - name: extension-gate
      - name: extension-unittests-generic
      - name: extension-qunit-generic
      - name: rake
      - name: npm
      - name: extension-selenium
    check:
      - jsonlint
      - jshint
    experimental:
      - mwext-mw-rspec-jessie

  - name: mediawiki/extensions/EditAccount
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Editcount
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/EditNotify
    template:
      - name: extension-unittests-generic
      - name: jsonlint
      - name: npm

  - name: mediawiki/extensions/EditOwn
    template:
      - name: extension-unittests-generic
      - name: jsonlint

  - name: mediawiki/extensions/EditPageTracking
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/EditUser
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/EducationProgram
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/Elastica
    template:
      - name: mw-checks-test
      - name: extension-gate
      - name: jshint
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/ElectronPdfService
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
      - name: extension-selenium
      - name: extension-phan-generic
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/EmailAuth
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/EmailCapture
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/EmailDiff
    template:
      - name: extension-unittests-non-voting

  - name: mediawiki/extensions/EtherEditor
    template:
      - name: extension-unittests-non-voting
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/EventLogging
    template:
      - name: composer-test
      - name: extension-gate
      - name: extension-unittests-generic
      - name: extension-qunit-generic
      - name: jsduck
      - name: npm
    check:
      - jsonlint
    postmerge:
      - mwext-jsduck-publish

  - name: eventlogging
    template:
      - name: tox-jessie

  - name: mediawiki/extensions/EventBus
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/ExpandTemplates
    template:
      - name: archived

  - name: mediawiki/extensions/ExtensionDistributor
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/FeaturedFeeds
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/FlaggedRevs
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/Flow
    template:
     - name: composer-test
     - name: extension-gate
     - name: rake
     - name: jsduck
     - name: npm
    check:
     - jshint
     - jsonlint
    experimental:
     - mwext-mw-selenium-jessie
    postmerge:
     - mwext-jsduck-publish

  - name: mediawiki/extensions/FormPreloadPostCache
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/FundraiserLandingPage
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/FundraisingTranslateWorkflow
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
     - jsonlint

  - name: mediawiki/extensions/Gadgets
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/Gather
    template:
      - name: archived

  - name: mediawiki/extensions/GettingStarted
    template:
      - name: extension-unittests-generic
      - name: extension-qunit-generic
      - name: rake
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/Genealogy
    template:
      - name: extension-unittests-generic
      - name: jshint
      - name: composer-test
      - name: npm

  - name: mediawiki/extensions/GeoCrumbs
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/GeoData
    template:
      - name: jshint
      - name: extension-gate
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/GeoGebra
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/Git2Pages
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/GitHub
    template:
      - name: extension-unittests-composer
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Gitweb
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/GlobalBlocking
    template:
      - name: jshint
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/GlobalContributions
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/GlobalContribs
    template:
      - name: extension-unittests-generic
      - name: jsonlint
      - name: npm

  - name: mediawiki/extensions/GlobalCssJs
    template:
      - name: jshint
      - name: extension-gate
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/GlobalPreferences
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/GlobalUsage
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/GlobalUserPage
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/GoogleAdSense
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/GoogleAPIClient
    template:
      - name: archived

  - name: mediawiki/extensions/GoogleAnalyticsMetrics
    template:
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/GoogleAnalyticsTopPages
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/GoogleAppEngine
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/GoogleCustomWikiSearch
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/GoogleGeocode
    template:
      - name: extension-unittests-generic
      - name: jsonlint
      - name: npm

  - name: mediawiki/extensions/GoogleLogin
    template:
      - name: composer-test
      - name: extension-unittests-composer
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/GoogleNewsSitemap
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/GooglePlaces
    template:
      # FIXME needs submodule processing
      - name: extension-unittests-non-voting
      - name: jsonlint
      - name: npm

  - name: mediawiki/extensions/GoogleSiteSearch
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/GPGMail
    template:
      - name: composer-test
      - name: npm
      - name: extension-unittests-generic
    check:
      - jsonlint

  - name: mediawiki/extensions/Graph
    template:
      - name: npm
      - name: extension-unittests-generic
    check:
      - jsonlint

  - name: mediawiki/extensions/GraphViz
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/GuidedTour
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: extension-qunit-generic
      - name: jsduck
      - name: npm
      - name: extension-gate
    check:
      - jsonlint
      - jshint
    postmerge:
     - mwext-jsduck-publish

  - name: mediawiki/extensions/GWToolset
    template:
      - name: composer-test
      - name: jshint
      - name: npm
      - name: extension-unittests-generic
    check:
      - jsonlint

  - name: mediawiki/extensions/HelpPages
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/HighlightjsIntegration
    template:
      - name: extension-unittests-generic
      - name: jsonlint

  - name: mediawiki/extensions/Hreflang
    template:
      - name: extension-unittests-generic
      - name: jsonlint

  - name: mediawiki/extensions/I18nTags
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Ids
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/ImageMap
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/ImportArticles
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/ImportFreeImages
    template:
      - name: extension-unittests-generic
      - name: jsonlint
      - name: npm

  - name: mediawiki/extensions/ImportUsers
    template:
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/InputBox
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/Insider
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Interwiki
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/InterwikiSorting
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
      - name: extension-phan-generic
    check:
      - jsonlint

  - name: mediawiki/extensions/intersection
    template:
      - name: jshint
      - name: extension-unittests-non-voting
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/JsonConfig
    template:
      - name: extension-gate
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Kartographer
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint
    postmerge:
      - mwext-doxygen-publish
      - mwext-jsduck-publish
    experimental:
      # experimental Node.js Selenium job
      - mediawiki-core-selenium-jessie

  - name: mediawiki/extensions/LabeledSectionTransclusion
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/LandingCheck
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/LanguageTool
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/LastModified
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/LdapAuthentication
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Lingo
    template:
      - name: composer-test
      - name: extension-unittests-non-voting
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/LinkedWiki
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/LinkTarget
    template:
      - name: extension-unittests-generic
      - name: jsonlint
      - name: npm

  - name: mediawiki/extensions/Linter
    template:
      - name: extension-unittests-generic
      - name: composer-test
      - name: npm

  - name: mediawiki/extensions/LiquidThreads
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/Listings
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/LocalisationUpdate
    template:
      - name: composer-test
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/LoginNotify
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Mailgun
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Mantle
    template:
      - name: archived

  - name: mediawiki/extensions/Math
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: rake
      - name: npm
    check:
      - jshint
      - jsonlint
    experimental:
      - mwext-mw-selenium-jessie

  # Non-voting due to T87390
  - name: mediawiki/extensions/MathSearch
    template:
      - name: composer-test
      - name: extension-unittests-non-voting
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/MapSources
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/MassAction
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/MassMessage
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: composer-test
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/MassMessageEmail
    template:
      - name: extension-unittests-generic
      - name: jsonlint

  - name: mediawiki/extensions/MarkAsHelpful
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/MediaWikiFarm
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: jsonlint
      - name: npm

  - name: mediawiki/extensions/Memento
    template:
      - name: extension-unittests-generic
      - name: jsonlint

  - name: mediawiki/extensions/MinimumNameLength
    template:
      - name: extension-unittests-generic
      - name: jsonlint
      - name: npm

  - name: mediawiki/extensions/MixedNamespaceSearchSuggestions
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/MobileFrontend
    template:
      - name: extension-gate
      - name: rake
      - name: composer-test
      - name: npm
      - name: extension-selenium
    check:
      - jshint
      - jsonlint
    experimental:
      # WIP: https://gerrit.wikimedia.org/r/#/c/312850/
      - mwext-MobileFrontend-npm-run-lint-modules
    postmerge:
      - mwext-jsduck-publish
      - mwext-doxygen-publish

  - name: mediawiki/extensions/MobileApp
    template:
      - name: extension-gate
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/MolHandler
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/FileImporter
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/FileExporter
    template:
      - name: composer-test
      - name: extension-unittests-non-voting
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/MP3MediaHandler
    template:
      - name: extension-unittests-generic
      - name: jsonlint
      - name: npm

  - name: mediawiki/extensions/MessageCommons
    template:
      - name: extension-unittests-non-voting
      - name: npm

  - name: mediawiki/extensions/MultiMaps
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/MultimediaViewer
    template:
      - name: extension-qunit-generic
      - name: rake
      - name: extension-unittests-generic
      - name: composer-test
      - name: npm
      - name: extension-selenium
    check:
      - jsonlint
    postmerge:
      - mwext-jsduck-publish

  - name: mediawiki/extensions/MwEmbedSupport
    template:
      - name: composer-test
      - name: extension-gate
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/MWSearch
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/MWVersionInfo
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/NaturalLanguageList
    template:
      - name: extension-unittests-non-voting
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/NavigationTiming
    template:
      - name: extension-gate
      - name: extension-unittests-generic
      - name: extension-qunit-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/NewestPages
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/NewUserActions
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/NewUserMessage
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/NewUserNotif
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/NoBogusUserpages
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Nonlinear
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/Nostalgia
    template:
      - name: archived

  - name: mediawiki/extensions/NotebookViewer
    template:
      - name: extension-unittests-generic
      - name: jsonlint
      - name: npm

  - name: mediawiki/extensions/Nuke
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/NumberOfComments
    template:
      - name: extension-unittests-generic

  - name: mediawiki/extensions/OATHAuth
    template:
      - name: composer-test
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/OAI
    template:
      - name: archived

  - name: mediawiki/extensions/OAuth
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/OAuthAuthentication
    template:
      - name: composer-test
      - name: npm
      - name: extension-unittests-composer
    check:
      - jsonlint

  - name: mediawiki/extensions/Offline
    template:
      - name: archived

  - name: mediawiki/extensions/OggHandler
    template:
      - name: archived

  - name: mediawiki/extensions/OpenID
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/OpenIDConnect
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/OpenSearchXml
    template:
      - name: archived

  - name: mediawiki/extensions/OpenStackManager
    template:
     - name: composer-test
     - name: extension-unittests-generic
     - name: npm
    check:
     - jsonlint
     - jshint

  - name: mediawiki/extensions/ORES
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/PageAssessments
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/PageBlock
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/PageForms
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/PageLanguageApi
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/PagedTiffHandler
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/PageImages
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/PagePopups
    template:
      - name: extension-unittests-generic
      - name: composer-test
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/PageTriage
    template:
      - name: extension-unittests-generic
      - name: rake
      - name: composer-test
      - name: npm
    check:
      - jsonlint
      - jshint
    experimental:
      - mwext-mw-selenium-jessie

  - name: mediawiki/extensions/ParentPage
    template:
      - name: extension-unittests-generic
      - name: jsonlint
      - name: npm

  - name: mediawiki/extensions/ParserFunctions
    template:
      - name: composer-test
      - name: extension-gate
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/ParserMigration
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/Patroller
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/PCRGUIInserts
    template:
      - name: extension-unittests-generic
      - name: jsonlint
      - name: npm

  - name: mediawiki/extensions/Petition
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/PopcornEditor
    template:
      - name: extension-unittests-generic
      - name: jsonlint

  - name: mediawiki/extensions/Prezi
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

# Start of new currently disabled extensions checks from mass extension import - Addshore

  - name: mediawiki/extensions/AbsenteeLandlord
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/AccessControl
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/AccessibilitySimulation
    template:
      - name: archived

  - name: mediawiki/extensions/ActionEditSubmit
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/AddHTMLMetaAndTitle
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/AddThis
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/AdManager
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Ads
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/AdvancedMeta
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/AjaxLogin
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/AJAXPoll
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/AkismetKlik
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/AllTimeZones
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/AnchorHandler
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/ApiExplorer
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/ApiFeatureUsage
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/ApiSVGProxy
    template:
      - name: archived

  - name: mediawiki/extensions/ArticleCreationWorkflow
    template:
      - name: archived

  - name: mediawiki/extensions/ArticleIndex
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/AssertEdit
    template:
      - name: archived

  - name: mediawiki/extensions/Auth_remoteuser
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/AuthorProtect
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/AutoCreateCategoryPages
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/AutomaticBoardWelcome
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/AutoProxyBlock
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Awesomeness
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/AWS
    template:
      - name: composer-test
      - name: extension-unittests-composer
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/AWSSDK
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/BatchUserRights
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/BayesianFilter
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/BiblioPlus
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/BibManager
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/Blackout
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/BlockAndNuke
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/BlueSpiceCategoryManager
    template:
      - name: extension-unittests-non-voting
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/BlueSpiceEditNotifyConnector
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/BlueSpiceExtendedFilelist
    template:
      - name: extension-unittests-non-voting
      - name: npm

  - name: mediawiki/extensions/BlueSpiceExtendedSearch
    template:
      - name: extension-unittests-non-voting
      - name: npm
    check:
      - jsonlint

  # meta repo containing a bunch of extensions. Would need one day a proper job
  # that loads all of them and run test suite.
  - name: mediawiki/extensions/BlueSpiceExtensions
    template:
      - name: extension-unittests-composer-non-voting
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/BlueSpiceFoundation
    template:
      - name: composer-test
      - name: extension-unittests-composer
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/BlueSpiceMultiUpload
    template:
      - name: extension-unittests-non-voting
      - name: npm

  - name: mediawiki/extensions/BlueSpicePageAssignments
    template:
      - name: extension-unittests-non-voting
    check:
      - jsonlint

  - name: mediawiki/extensions/BlueSpicePageVersion
    template:
      - name: composer-test
      - name: extension-unittests-composer
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/BSSMWConnector
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/BlueSpiceSMWConnector
    template:
      - name: extension-unittests-non-voting
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/BlueSpiceSubPageTree
    template:
      - name: extension-unittests-non-voting
    check:
      - jsonlint

  - name: mediawiki/extensions/Bootstrap
    template:
      - name: extension-unittests-composer
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/BreadCrumbs
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jshint
      - jsonlint

  - name: mediawiki/extensions/BreadCrumbs2
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/Carp
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Cargo
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/CategorySlideShow
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/CategorySortHeaders
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/CategoryTests
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/CentralLogging
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/CharRangeSpan
    template:
      - name: extension-unittests-non-voting
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Checkpoint
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  # Non-voting due to T157815
  - name: mediawiki/extensions/CloseWikis
    template:
      - name: extension-unittests-non-voting
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Commentbox
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/CommentPages
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Comments
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/CommunityTwitter
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/ConditionalShowSection
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/CongressLookup
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Contest
    template:
      - name: composer-test
      - name: extension-unittests-non-voting
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/Contributors
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Convert2Wiki
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/CopyToClipboard
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/CreatePage
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/CreateRedirect
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jshint
      - jsonlint

  - name: mediawiki/extensions/CreditTab
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/CryoKey
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/CSS
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/DataTransfer
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/DeleteOwn
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Description2
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/DeviceMapLogCapture
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/Diagnosis
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Dice
    template:
      - name: archived

  - name: mediawiki/extensions/DidYouKnow
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/DidYouMean
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/DisqusTag
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/DjangoAnalytics
    template:
      - name: extension-unittests-non-voting

  - name: mediawiki/extensions/DownloadCounter
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/DPLforum
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Duplicator
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/DynamicPageList
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/EditSubpages
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/EnhanceContactForm
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/ErrorHandler
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/EtherpadLite
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/examples
    template:
      - name: jsonlint
      - name: jshint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/ExternalArticles
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/ExternalData
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/ExtraLanguageLink
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/ExtTab
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/FanBoxes
    template:
      - name: composer-test
      - name: extension-unittests-non-voting
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/FeedsFromPrivateWikis
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/FileAnnotations
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/FilterListUsers
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/FirstSteps
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/FlvHandler
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/ForcePreview
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/FormatDates
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/FormatNum
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/FormelApplet
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Foxway
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/FundraisingEmailUnsubscribe
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/Genderize
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/GlobalNotice
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/GlobalUserGroups
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/GlobalUserrights
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/googleAnalytics
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/GoogleDocs4MW
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/GoogleDocTag
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/GoogleMaps
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/GooglePlusOne
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/GroupsSidebar
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/HashTables
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/HeaderTabs
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/HelpCommons
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/HidePrefix
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/HostStats
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Hovergallery
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/HSTS
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/HTMLets
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/HTMLTags
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/IframePage
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/IfTemplates
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/ImageLink
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/ImageMetrics
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: extension-qunit-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/ImageRating
    template:
      - name: extension-unittests-non-voting

  - name: mediawiki/extensions/ImageTweaks
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/IndexFunction
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/InlineCategorizer
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/InteractiveBlockMessage
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Interlanguage
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/InterwikiMagic
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/InviteSignup
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/Josa
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/JSBreadCrumbs
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/JsonData
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/LanguageSelector
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/LanguageTag
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Less
    template:
      - name: archived

  - name: mediawiki/extensions/LifeWeb
    template:
      - name: composer-test
      - name: extension-unittests-composer
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/LifeWebCore
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/LightweightRDFa
    template:
      - name: archived

  - name: mediawiki/extensions/Limn
    template:
      - name: archived

  - name: mediawiki/extensions/LinkFilter
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/LinkSuggest
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/ListSignup
    template:
      - name: composer-test
      - name: extension-unittests-non-voting
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/LiveTranslate
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Lockdown
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/LockDownEnglishPages
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/LogEntry
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/LogoFunctions
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/LookupUser
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/LoopFunctions
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Loops
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/MagicNoCache
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Maintenance
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/MaintenanceShell
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/MassEditRegex
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/MediaFunctions
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/MediaWikiAuth
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/MediaWikiChat
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Minifier
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Model
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/MOOC
    template:
      - name: extension-unittests-non-voting

  - name: mediawiki/extensions/Moodle
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Mpdf
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/MsLinks
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/MSSQLBackCompat
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/MsUpload
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/MultimediaPlayer
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/MultiUpload
    template:
      - name: composer-test
      - name: extension-unittests-non-voting
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/MyVariables
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/NamespaceHTML
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/NamespacePaths
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/NamespacePopups
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/NamespaceRelations
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Negref
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/NetworkAuth
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/News
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/NewsBox
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/NewSignupPage
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Newsletter
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/NewUsersList
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/NoTitle
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/NSFileRepo
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/NukeDPL
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/NumberFormat
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/NumberOfWikis
    template:
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/Numbertext
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/NumerAlpha
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/OdbcDatabase
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/OfflineImportLexicon
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/OnlineStatus
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/OnlineStatusBar
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/OnlyRecentRecentChanges
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/OpenGraphMeta
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/OpenStreetMapSlippyMap
    template:
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/OracleTextSearch
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/Oversight
    template:
      - name: archived

  - name: mediawiki/extensions/PageCreationNotif
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm


  - name: mediawiki/extensions/PageDisqus
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/PageInCat
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/PageLanguage
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/PageNotice
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/PageSchemas
    template:
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/PageTools
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/PanScroll
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/PdfBook
    template:
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/PdfExport
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/PerPageLicense
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/PGFTikZ
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/Phalanx
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/PhpHighlight
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/PhpTagsMaps
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-non-voting
      - name: npm

  - name: mediawiki/extensions/PhpTagsSMW
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-non-voting
      - name: npm

  - name: mediawiki/extensions/PhpTagsSPARQL
    template:
      - name: jsonlint
      - name: extension-unittests-non-voting

  - name: mediawiki/extensions/Pickle
    template:
      - name: extension-unittests-non-voting
      - name: npm

  - name: mediawiki/extensions/PictureGame
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/PipeEscape
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/Poll
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/PollNY
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/Polyglot
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/PrefStats
    template:
      - name: archived

  - name: mediawiki/extensions/PrefSwitch
    template:
      - name: archived

  # Non-voting due to T157417
  - name: mediawiki/extensions/Premoderation
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-non-voting
      - name: npm

  - name: mediawiki/extensions/PrivateDomains
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/PronunciationRecording
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jshint
      - jsonlint

  - name: mediawiki/extensions/ProtectSite
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/PubSubHubbub
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/PurgeClickThrough
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/Push
    template:
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/PushToWatch
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/Quantcast
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/QuickResponse
    template:
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/QuickSurveys
    template:
      - name: composer-test
      - name: extension-qunit-generic
      - name: rake
      - name: extension-unittests-generic
      - name: npm
      - name: extension-selenium
    check:
      - jshint
      - jsonlint

  - name: mediawiki/extensions/QuickSearchLookup
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/QuickGV
    template:
      - name: extension-unittests-generic
      - name: jsonlint

  - name: mediawiki/extensions/QuizGame
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/QuizTabulate
    template:
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/RandomFeaturedUser
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/RandomGameUnit
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/RandomImage
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/RandomImageByCategory
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/RandomInCategory
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/RandomUsersWithAvatars
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/ReassignEdits
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/Reflect
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/RefreshSpecial
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/RegexBlock
    template:
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/RegexFun
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-non-voting
      - name: npm

  - name: mediawiki/extensions/RegexFunctions
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/RelatedLinks
    template:
      - name: extension-unittests-generic
      - name: jsonlint

  - name: mediawiki/extensions/RelationLinks
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/RestBaseUpdateJobs
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/RevisionCommentSupplement
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/RevisionSlider
    template:
      - name: composer-test
      - name: extension-qunit-generic
      - name: extension-unittests-generic
      - name: npm
      - name: extension-selenium
      - name: extension-phan-generic
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/RightFunctions
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/RT
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/SafeDelete
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/SandboxLink
    template:
      - name: extension-gate
      - name: composer-test
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Sarcasm
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-non-voting
      - name: npm

  - name: mediawiki/extensions/ScanSet
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/Screenplay
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/SearchRealnames
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-non-voting

  - name: mediawiki/extensions/SectionDisqus
    template:
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/SecureHTML
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/SecurePasswords
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/SecureSessions
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/SearchStats
    template:
      - name: extension-unittests-generic
      - name: jsonlint
      - name: npm

  - name: mediawiki/extensions/SelectCategory
    template:
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/SelectTag
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/SemanticComments
    template:
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/SemanticHighcharts
    template:
      - name: jsonlint
      - name: extension-unittests-non-voting
      - name: npm

  - name: mediawiki/extensions/SemanticRating
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/SemanticSifter
    template:
      - name: jsonlint
      - name: jshint
      - name: extension-unittests-non-voting
      - name: npm

  - name: mediawiki/extensions/SemanticWebBrowser
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/SharedCssJs
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/SharedHelpPages
    template:
      - name: extension-unittests-generic
      - name: jsonlint
      - name: npm

  - name: mediawiki/extensions/ShoutWikiAds
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/ShoutWikiAPI
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/ShowMe
    template:
      - name: extension-unittests-non-voting

  - name: mediawiki/extensions/SidebarDonateBox
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/SignWritingMediaWikiPlugin
    template:
      - name: jsonlint
      - name: extension-unittests-non-voting
      - name: npm

  - name: mediawiki/extensions/SimpleChanges
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/SimpleSecurity
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/SimpleSort
    template:
      - name: extension-unittests-generic
      - name: jsonlint
      - name: npm

  - name: mediawiki/extensions/SimpleSurvey
    template:
      - name: archived

  - name: mediawiki/extensions/SiteMetrics
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/SiteSettings
    template:
      - name: composer-test
      - name: extension-unittests-non-voting
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/SkelJS
    template:
      - name: jsonlint
      - name: jshint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/SkinPerNamespace
    template:
      - name: composer-test
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/SlimboxThumbs
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/SmiteSpam
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/SmoothGallery
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/Snippet
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/SocialLogin
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/SocialProfile
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/SoftwareVersion
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/SolrStore
    template:
      - name: composer-test
      - name: jshint
      - name: extension-unittests-non-voting
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/SoundManager2Button
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/SpamRegex
    template:
      - name: composer-test
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Spark
    template:
      - name: composer-test
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Special404
    template:
      - name: composer-test
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/SpellingApi
    template:
      - name: composer-test
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/SpellingDictionary
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/SphinxSearch
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-non-voting
      - name: npm

  - name: mediawiki/extensions/SportsTeams
    template:
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/SSLClientAuthentication
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-non-voting
      - name: npm

  - name: mediawiki/extensions/StaffEdits
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/StaffPowers
    template:
      - name: extension-unittests-generic
      - name: jsonlint
      - name: npm

  - name: mediawiki/extensions/StalkerLog
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/StarterWiki
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/StatCounter
    template:
      - name: extension-unittests-generic
      - name: jsonlint
      - name: npm

  - name: mediawiki/extensions/StlHandler
    template:
      - name: extension-unittests-generic
      - name: jsonlint
      - name: npm

  - name: mediawiki/extensions/StringFunctionsEscaped
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/SubpageFun
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/Suhosin
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/SwarmExport
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-non-voting


  - name: mediawiki/extensions/SwiftMailer
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/Tabber
    template:
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/Tabs
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/TemplateInfo
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/TemplateStyles
    template:
     - name: composer-test
     - name: extension-unittests-composer
     - name: npm
    check:
     - jsonlint

  - name: mediawiki/extensions/TestLanguageNameGrammar
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: jsonlint
      - name: npm

  - name: mediawiki/extensions/TextScroller
    template:
      - name: extension-unittests-generic
      - name: jsonlint
      - name: npm

  - name: mediawiki/extensions/Theme
    template:
     - name: composer-test
     - name: extension-unittests-generic
     - name: npm
    check:
     - jsonlint
     - jshint

  - name: mediawiki/extensions/ThemeDesigner
    template:
     - name: composer-test
     - name: extension-unittests-generic
     - name: npm
    check:
     - jsonlint

  - name: mediawiki/extensions/TheWikipediaLibrary
    template:
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/ThrottleOverride
    template:
      - name: jshint
      - name: jsonlint
      - name: composer-test
      - name: extension-unittests-composer
      - name: npm

  - name: mediawiki/extensions/ThumbParser
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/TimelineTable
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/TimeMachine
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/TimezoneSelector
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/TitleIcon
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/TranslateSvg
    template:
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/TweetANew
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/TwitterCards
    template:
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/TwitterLogin
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jshint
      - jsonlint

  - name: mediawiki/extensions/TwoColConflict
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
      - name: extension-selenium
      - name: extension-phan-generic
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/TwoFactorAuthentication
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/UIFeedback
    template:
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/UnCaptcha
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/UnitTest
    template:
      - name: archived

  - name: mediawiki/extensions/UnusedRedirects
    template:
      - name: extension-unittests-generic
      - name: jsonlint
      - name: npm

  - name: mediawiki/extensions/UpdateMediaWiki
    template:
      - name: jsonlint
      - name: extension-unittests-non-voting

  - name: mediawiki/extensions/UploadLocal
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/UploadLogo
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/UploadsLink
    template:
      - name: extension-unittests-generic
      - name: composer-test
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/UrlGetParameters
    template:
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/UrlShortener
    template:
      - name: npm
      - name: extension-unittests-generic

  - name: mediawiki/extensions/URNames
    template:
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/UserExport
    template:
      - name: extension-unittests-generic
      - name: jsonlint

  - name: mediawiki/extensions/UserFunctions
    template:
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/UserGroups
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/USERNAME
    template:
      - name: extension-unittests-generic

  - name: mediawiki/extensions/UserPageEditProtection
    template:
      - name: extension-unittests-generic
      - name: jsonlint
      - name: npm

  - name: mediawiki/extensions/UserPageViewTracker
    template:
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/UserStatus
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/Video
    template:
      - name: extension-unittests-generic

  - name: mediawiki/extensions/ViewFiles
    template:
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/Views
    template:
      - name: extension-unittests-generic

  - name: mediawiki/extensions/VisualChat
    template:
      - name: extension-unittests-non-voting

  - name: mediawiki/extensions/VoteNY
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/WantedPagesFromNS
    template:
      - name: extension-unittests-generic

  - name: mediawiki/extensions/WatchSubpages
    template:
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/WebPlatformSearchAutocomplete
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/WhitelistPages
    template:
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/WhiteSpace
    template:
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/WhoIsWatching
    template:
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/Widgets
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-non-voting
      - name: npm

  - name: mediawiki/extensions/WikiArticleFeeds
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/WikibaseMobile
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/WikibaseSolr
    template:
      - name: archived

  - name: mediawiki/extensions/WikiCategoryTagCloud
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/WikidataEntitySuggester
    template:
      - name: jsonlint
      - name: jshint
      - name: extension-unittests-non-voting

  - name: mediawiki/extensions/WikidataPageBanner
    template:
      - name: composer-test
      - name: extension-qunit-generic
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/WikibaseLexeme
    template:
      - name: composer-test
      - name: extension-unittests-composer
      - name: npm
    check:
      - jsonlint
      - jshint
    test:
      - mwext-mw-selenium-composer-jessie

  - name: mediawiki/extensions/WikibaseQuality
    template:
      - name: extension-unittests-composer
      - name: extension-qunit-composer
      - name: jsonlint
      - name: npm
    check:
      - composer-package-validate
    test:
      - composer-package-validate
    gate-and-submit:
      - composer-package-validate

  - name: mediawiki/extensions/WikibaseQualityConstraints
    template:
      - name: extension-unittests-composer
      - name: extension-qunit-composer
      - name: jsonlint
      - name: npm
    check:
      - composer-package-validate
    test:
      - composer-package-validate
    gate-and-submit:
      - composer-package-validate

  - name: mediawiki/extensions/WikibaseQualityExternalValidation
    template:
      - name: extension-unittests-composer
      - name: extension-qunit-composer
      - name: jsonlint
      - name: npm
    check:
      - composer-package-validate
    test:
      - composer-package-validate
    gate-and-submit:
      - composer-package-validate

  - name: mediawiki/extensions/WikibaseMediaInfo
    template:
      - name: composer-test
      - name: extension-unittests-composer
      - name: extension-qunit-composer
      - name: npm
    check:
      - composer-package-validate
    test:
      - composer-package-validate
    gate-and-submit:
      - composer-package-validate
    experimental:
      - mwext-mw-selenium-composer-jessie

  - name: mediawiki/extensions/WikiLabels
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Wikilog
    template:
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/WikiLovesMonuments
    template:
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/WikipediaExtracts
    template:
      - name: extension-unittests-generic
      - name: jsonlint
      - name: npm

  - name: mediawiki/extensions/WikiPinger
    template:
      - name: npm
      - name: extension-unittests-generic
      - name: composer-test

  - name: mediawiki/extensions/WikiShare
    template:
      - name: extension-unittests-generic
      - name: jsonlint
      - name: npm

  - name: mediawiki/extensions/WikiTextLoggedInOut
    template:
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/WikiTwidget
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/WikivoteMapsYandex
    template:
      - name: jsonlint
      - name: extension-unittests-non-voting
      - name: npm

  - name: mediawiki/extensions/WindowsAzureSDK
    template:
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/WindowsAzureStorage
    template:
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/WYSIWYG
    template:
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/XMLContentExtension
    template:
      - name: jsonlint
      - name: jshint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/YetAnotherKeywords
    template:
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/YotpoReviews
    template:
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/YouTube
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/ArticleComments
    template:
     - name: jsonlint
     - name: extension-unittests-generic

  - name: mediawiki/extensions/AzharAuth
    template:
     - name: extension-unittests-generic
     - name: jsonlint
     - name: npm

  - name: mediawiki/extensions/Challenge
    template:
     - name: extension-unittests-generic
     - name: jsonlint

  - name: mediawiki/extensions/ContributorsAddon
    template:
     - name: extension-unittests-generic
     - name: jsonlint
     - name: npm

  - name: mediawiki/extensions/EditSimilar
    template:
     - name: jsonlint
     - name: jshint
     - name: extension-unittests-generic
     - name: npm

  - name: mediawiki/extensions/Farmer
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/Favorites
    template:
     - name: extension-unittests-generic
     - name: jsonlint
     - name: npm

  - name: mediawiki/extensions/FixedHeaderTable
    template:
     - name: extension-unittests-generic
     - name: jsonlint
     - name: npm

  - name: mediawiki/extensions/GoToShell
    template:
     - name: extension-unittests-generic
     - name: jsonlint

  # Depends on SemanticForms which is on GitHub
  - name: mediawiki/extensions/HierarchyBuilder
    template:
     - name: mw-checks-test
     - name: npm

  - name: mediawiki/extensions/HitCounters
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  # Require $wgNamespacesWithSubpages set to TRUE in the MAIN namespace.
  - name: mediawiki/extensions/Html2Wiki
    template:
     - name: mw-checks-test
     - name: npm

  - name: mediawiki/extensions/ImageTagging
    template:
     - name: extension-unittests-generic
     - name: jsonlint

  - name: mediawiki/extensions/InterwikiIntegration
    template:
     - name: extension-unittests-generic
     - name: jsonlint
     - name: npm

  # Empty repo - 20151127
  - name: mediawiki/extensions/InterwikiMap
    template:
     - name: archived

  # Empty repo - 20151127
  - name: mediawiki/extensions/IssueTracker
    template:
     - name: archived

  - name: mediawiki/extensions/LDAPAuthorization
    template:
     - name: extension-unittests-generic
     - name: jsonlint
     - name: npm

  - name: mediawiki/extensions/LastUserLogin
    template:
     - name: extension-unittests-generic
     - name: jsonlint
     - name: npm

  - name: mediawiki/extensions/LinkSuggest2
    template:
     - name: extension-unittests-generic
     - name: jsonlint
     - name: npm

  # Missing entry point
  - name: mediawiki/extensions/Link_Attributes
    template:
     - name: extension-unittests-non-voting
     - name: npm

  - name: mediawiki/extensions/MadLib
    template:
     - name: extension-unittests-generic
     - name: jsonlint
     - name: npm

  - name: mediawiki/extensions/MiniInvite
    template:
     - name: extension-unittests-generic
     - name: jsonlint

  - name: mediawiki/extensions/MobileDetect
    template:
     - name: extension-unittests-generic
     - name: jsonlint
     - name: npm

  - name: mediawiki/extensions/MsCalendar
    template:
     - name: extension-unittests-generic
     - name: jsonlint

  - name: mediawiki/extensions/MsCatSelect
    template:
     - name: extension-unittests-generic
     - name: jsonlint

  - name: mediawiki/extensions/MsInsert
    template:
     - name: extension-unittests-generic
     - name: jsonlint
     - name: npm

  - name: mediawiki/extensions/MsWikiEditor
    template:
     - name: extension-unittests-generic
     - name: jsonlint
     - name: npm

  - name: mediawiki/extensions/MultiBoilerplate
    template:
     - name: extension-unittests-generic
     - name: jsonlint

  - name: mediawiki/extensions/OOUIPlayground
    template:
     - name: extension-unittests-generic

  - name: mediawiki/extensions/OOJsUIAjaxLogin
    template:
      - name: extension-qunit-generic
      - name: extension-unittests-generic
      - name: composer-test
      - name: jsduck
      - name: npm
    check:
      - jshint
      - jsonlint

  - name: mediawiki/extensions/PagesList
    template:
     - name: extension-unittests-generic
     - name: jsonlint
     - name: npm

  - name: mediawiki/extensions/PageViewInfo
    template:
      - name: npm
      - name: composer-test
      - name: extension-unittests-generic

  - name: mediawiki/extensions/PaginateText
    template:
     - name: extension-unittests-generic
     - name: jsonlint
     - name: npm

  # Depends on Validator and Parse
  - name: mediawiki/extensions/ParserFun
    template:
     - name: extension-unittests-non-voting
     - name: npm

  # Empty repo - 20151127
  - name: mediawiki/extensions/PlanOut
    template:
     - name: archived

  - name: mediawiki/extensions/PluggableAuth
    template:
     - name: extension-unittests-generic
     - name: jsonlint
     - name: npm

  - name: mediawiki/extensions/PopupPages
    template:
     - name: extension-unittests-generic
     - name: jsonlint

  - name: mediawiki/extensions/PureWikiDeletion
    template:
     - name: extension-unittests-generic
     - name: jsonlint
     - name: npm

  - name: mediawiki/extensions/RPED
    template:
     - name: extension-unittests-generic
     - name: jsonlint

  - name: mediawiki/extensions/reCaptcha
    template:
     - name: extension-unittests-composer
     - name: jsonlint
     - name: npm

  - name: mediawiki/extensions/RecentActivityFeed
    template:
     - name: extension-unittests-generic
     - name: jsonlint
     - name: npm

  - name: mediawiki/extensions/ReorderParserPhases
    template:
     - name: extension-unittests-generic
     - name: jsonlint

  - name: mediawiki/extensions/RevealEmail
    template:
     - name: extension-unittests-generic
     - name: jsonlint
     - name: npm

  - name: mediawiki/extensions/SacredText
    template:
     - name: extension-unittests-generic
     - name: jsonlint
     - name: npm

  - name: mediawiki/extensions/SemanticDependency
    template:
     - name: extension-unittests-generic
     - name: npm

  - name: mediawiki/extensions/SimpleSAMLphp
    template:
     - name: extension-unittests-generic
     - name: jsonlint
     - name: npm

  - name: mediawiki/extensions/SiteScout
    template:
     - name: extension-unittests-generic
     - name: jsonlint

  - name: mediawiki/extensions/SpecialNamespaces
    template:
     - name: extension-unittests-generic
     - name: jsonlint

  - name: mediawiki/extensions/Teahouse
    template:
     - name: extension-unittests-generic
     - name: jsonlint
     - name: npm

  - name: mediawiki/extensions/Tooltip
    template:
     - name: extension-unittests-generic
     - name: jsonlint
     - name: npm

  - name: mediawiki/extensions/TopLists
    template:
      - name: extension-unittests-non-voting

  - name: mediawiki/extensions/TopTenPages
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: jsonlint
      - name: npm

  - name: mediawiki/extensions/VIKI
    template:
     - name: extension-unittests-generic
     - name: jsonlint
     - name: npm

  - name: mediawiki/extensions/VideoJsPlayer
    template:
     - name: extension-unittests-generic
     - name: jsonlint

  - name: mediawiki/extensions/VikiSemanticTitle
    template:
     - name: extension-unittests-generic
     - name: jsonlint
     - name: npm

  - name: mediawiki/extensions/VikiTitleIcon
    template:
     - name: extension-unittests-generic
     - name: jsonlint
     - name: npm

  - name: mediawiki/extensions/WebCache
    template:
     - name: extension-unittests-generic
     - name: jsonlint

  - name: mediawiki/extensions/WhosOnline
    template:
     - name: extension-unittests-generic
     - name: jsonlint
     - name: npm

  - name: mediawiki/extensions/WikEdDiff
    template:
     - name: extension-unittests-generic
     - name: jsonlint
     - name: npm

  - name: mediawiki/extensions/XenForoAuth
    template:
      - name: composer-test
      - name: extension-unittests-composer
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/XAnalytics
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/ZeroRatedMobileAccess
    template:
     - name: archived

  - name: mediawiki/extensions/ZoomableImages
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: jsonlint

  - name: mediawiki/extensions/normal
    template:
     - name: archived

# End of new currently disabled extensions checks from mass extension import - Addshore
#
  - name: mediawiki/services/change-propagation
    experimental:
      - npm-node-6-jessie

  - name: mediawiki/services/change-propagation/deploy
    experimental:
      - change-propagation-deploy-npm-node-6-jessie

  - name: mediawiki/services/citoid
    template:
      - name: npm

  - name: mediawiki/services/citoid/deploy
    test:
      - citoid-deploy-npm-node-6-jessie
    gate-and-submit:
      - citoid-deploy-npm-node-6-jessie

  - name: mediawiki/services/cxserver
    template:
      - name: npm

  - name: mediawiki/services/cxserver/deploy
    test:
      - cxserver-deploy-npm-node-6-jessie
    gate-and-submit:
      - cxserver-deploy-npm-node-6-jessie

  - name: mediawiki/services/graphoid
    template:
      - name: npm

  - name: mediawiki/services/graphoid/deploy
    test:
      - graphoid-deploy-npm-node-6-jessie
    gate-and-submit:
      - graphoid-deploy-npm-node-6-jessie

  - name: mediawiki/services/jobrunner
    template:
     - name: composer-test-package

  - name: mediawiki/services/mathoid
    template:
      - name: npm

  - name: mediawiki/services/mathoid/deploy
    test:
      - mathoid-deploy-npm-node-6-jessie
    gate-and-submit:
      - mathoid-deploy-npm-node-6-jessie

  - name: mediawiki/services/mobileapps
    template:
      - name: npm

  - name: mediawiki/services/mobileapps/deploy
    test:
      - mobileapps-deploy-npm-node-6-jessie
    gate-and-submit:
      - mobileapps-deploy-npm-node-6-jessie

  - name: mediawiki/services/parsoid
    test:
      - parsoidsvc-npm-run-lint-node-6-jessie
      - parsoidsvc-hhvm-parsertests-jessie
      - parsoidsvc-source-parse-tool-check-jessie
      - parsoidsvc-source-roundtrip-test-check-jessie
      - parsoidsvc-source-npm-node-6-jessie
    gate-and-submit:
      - parsoidsvc-npm-run-lint-node-6-jessie
      - parsoidsvc-hhvm-parsertests-jessie
      - parsoidsvc-source-parse-tool-check-jessie
      - parsoidsvc-source-roundtrip-test-check-jessie
      - parsoidsvc-source-npm-node-6-jessie
    postmerge:
      - parsoidsvc-source-jsduck-publish

  - name: mediawiki/services/parsoid/deploy
    test:
      - debian-glue-non-voting
      - parsoidsvc-deploy-parse-tool-check-jessie
      - parsoidsvc-deploy-roundtrip-test-check-jessie
      - parsoidsvc-deploy-npm-node-6-jessie
    gate-and-submit:
      - parsoidsvc-deploy-parse-tool-check-jessie
      - parsoidsvc-deploy-roundtrip-test-check-jessie
      - parsoidsvc-deploy-npm-node-6-jessie

  - name: mediawiki/services/rcstream
    template:
      - name: tox-jessie

  - name: mediawiki/services/kafka-watcher
    template:
      - name: tox-jessie

  - name: mediawiki/services/trending-edits
    template:
      - name: npm

  - name: mediawiki/services/trending-edits/deploy
    test:
      - trending-edits-deploy-npm-node-6-jessie
    gate-and-submit:
      - trending-edits-deploy-npm-node-6-jessie

  - name: mediawiki/extensions/Parsoid
    template:
      - name: archived

  - name: mediawiki/extensions/ParsoidBatchAPI
    template:
      - name: extension-unittests-generic
      - name: jsonlint
      - name: npm

  - name: mediawiki/extensions/PdfHandler
    template:
      - name: composer-test
      - name: extension-gate
      - name: rake
      - name: jshint
      - name: npm

  - name: mediawiki/extensions/PerformanceInspector
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: extension-qunit-generic
      - name: npm

  - name: mediawiki/extensions/PhpTags
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/PhpTagsFunctions
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/PhpTagsStorage
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/PhpTagsWidgets
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/PhpTagsWiki
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/PHPExcel
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/Poem
    template:
      - name: composer-test
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/PoolCounter
    template:
      - name: rake
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
    test:
      - mwext-PoolCounter-build-jessie
    gate-and-submit:
      - mwext-PoolCounter-build-jessie

  - name: mediawiki/extensions/Popups
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: extension-qunit-generic
      - name: extension-selenium-gate
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/PostEdit
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/ProofreadPage
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Quiz
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/RandomRootPage
    template:
      - name: archived

  - name: mediawiki/extensions/ReaderFeedback
    template:
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/RelatedArticles
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
      - name: rake
      - name: extension-selenium
    check:
      - jsonlint
      - jshint
    experimental:
      # T158052 Set up Selenium tests in Node.js for RelatedArticles extension
      - mediawiki-core-selenium-jessie

  - name: mediawiki/extensions/RelatedSites
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Renameuser
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/ReplaceSet
    template:
      - name: jsonlint
      - name: jshint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/ReplaceText
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/RSS
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Score
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/SearchExtraNS
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/SecurePoll
    template:
      - name: jsonlint
      - name: jshint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/SemanticACL
    template:
      - name: mw-checks-test
      - name: jshint
      - name: jsonlint
      - name: npm

  - name: mediawiki/extensions/SemanticBundle
    template:
      - name: extension-unittests-generic
      - name: npm
    check: &semanticbundle_jobs
     - jshint
     - jsonlint
     - composer-validate
    test: *semanticbundle_jobs
    gate-and-submit: *semanticbundle_jobs

  - name: mediawiki/extensions/SemanticCompoundQueries
    template:
      - name: mw-checks-test
      - name: jshint
      - name: jsonlint

  - name: mediawiki/extensions/SemanticDrilldown
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/SemanticExpressiveness
    template:
      - name: jsonlint
      - name: mw-checks-test
      - name: npm

  # Depends on SemanticForms which is on GitHub
  - name: mediawiki/extensions/SemanticFormsInputs
    template:
      - name: mw-checks-test
      - name: jshint
      - name: jsonlint
      - name: npm

  - name: mediawiki/extensions/SemanticGenealogy
    template:
      - name: mw-checks-test
      - name: jshint
      - name: jsonlint
      - name: npm

  - name: mediawiki/extensions/SemanticImageAnnotator
    template:
      - name: mw-checks-test
      - name: jshint
      - name: jsonlint

  - name: mediawiki/extensions/SemanticImageInput
    template:
      - name: mw-checks-test
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/SemanticInternalObjects
    template:
      - name: mw-checks-test
      - name: jshint
      - name: jsonlint
      - name: npm

  - name: mediawiki/extensions/SemanticLinks
    template:
      - name: extension-unittests-non-voting
      - name: npm

  - name: mediawiki/extensions/SemanticMediaWiki
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-non-voting

  - name: mediawiki/extensions/SemanticPageMaker
    template:
      - name: mw-checks-test
      - name: npm

  - name: mediawiki/extensions/SemanticPageSeries
    template:
      - name: mw-checks-test
      - name: jshint
      - name: jsonlint
      - name: npm

  - name: mediawiki/extensions/SemanticTasks
    template:
      - name: mw-checks-test
      - name: jshint
      - name: jsonlint
      - name: npm

  - name: mediawiki/extensions/SemanticTitle
    template:
      - name: mw-checks-test
      - name: jshint
      - name: jsonlint
      - name: npm

  - name: mediawiki/extensions/SemanticUpdateOnPurge
    template:
      - name: mw-checks-test
      - name: jshint
      - name: jsonlint
      - name: npm

  - name: mediawiki/extensions/Sentry
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jshint
      - jsonlint

  - name: mediawiki/extensions/Scribunto
    template:
      - name: composer-test
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/ShortUrl
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/SimpleAntiSpam
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/SimpleFarm
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/SiteMatrix
    template:
      - name: composer-test
      - name: extension-gate
      - name: jshint
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/SkinPerPage
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/Solarium
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/SpamBlacklist
    template:
      - name: composer-test
      - name: extension-gate
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/SpamDiffTool
    template:
      - name: composer-test
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/Spreadsheet
    template:
      - name: composer-test
      - name: extension-unittests-non-voting
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/StickToThatLanguage
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/StopForumSpam
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/StrategyWiki
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic

  - name: mediawiki/extensions/SubPageList3
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/SubpageSortkey
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Sudo
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/Survey
    template:
      - name: extension-unittests-non-voting
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/SVGEdit
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/SwiftCloudFiles
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/TemplateSandbox
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
      - name: composer-test
    check:
      - jsonlint

  - name: mediawiki/extensions/TextExtracts
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/SideBarMenu
    template:
      - name: jsonlint
      - name: jshint
      - name: extension-unittests-composer
      - name: npm

  - name: mediawiki/extensions/SyntaxHighlight_GeSHi
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/TemplateData
    template:
      - name: extension-qunit-generic
      - name: extension-unittests-generic
      - name: composer-test
      - name: jsduck
      - name: npm
    check:
      - jsonlint
    postmerge:
      - mwext-jsduck-publish

  - name: mediawiki/extensions/Thanks
    template:
      - name: composer-test
      - name: extension-gate  # T86687
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/TimedMediaHandler
    template:
      - name: composer-test
      - name: extension-gate
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/timeline
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/TitleBlacklist
    template:
      - name: composer-test
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/TitleKey
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/TocTree
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/TorBlock
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Translate
    template:
      - name: composer-test
      - name: extension-gate
      - name: rake
      - name: npm
    check:
      - jshint
      - jsonlint

  - name: mediawiki/extensions/TranslationNotifications
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/Transliterator
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-non-voting
      - name: npm

  - name: mediawiki/extensions/TrustedXFF
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/TwnMainPage
    template:
      - name: composer-test
      - name: rake
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/OpenBadges
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/OpenLayers
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/UnicodeConverter
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/UniversalLanguageSelector
    template:
      - name: composer-test
      - name: extension-gate
      - name: rake
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/UploadBlacklist
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/UploadWizard
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: extension-qunit-generic
      - name: npm
      - name: tox-jessie

  - name: mediawiki/extensions/UserDailyContribs
    template:
      - name: archived

  - name: mediawiki/extensions/UserMerge
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
      - name: composer-test
    check:
      - jsonlint

  - name: mediawiki/extensions/UserOptionStats
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/UserThrottle
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/Variables
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/Vector
    template:
      - name: archived

  - name: mediawiki/extensions/VectorBeta
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/VipsScaler
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/VirtualKeyboard
    template:
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/VisualEditor
    template:
      - name: extension-gate
      - name: rake
      - name: composer-test
      - name: commit-message-validator
    check:
      - jshint
      - jsonlint
    test:
      - mwext-VisualEditor-npm-node-6-jessie
      - mwext-VisualEditor-jsduck
    gate-and-submit:
      - mwext-VisualEditor-npm-node-6-jessie
      - mwext-VisualEditor-jsduck
    postmerge:
      - mwext-VisualEditor-publish
    experimental:
      # T150435 Selenium tests in Node.js
      - mediawiki-core-selenium-jessie

  - name: mediawiki/extensions/WebChat
    template:
      - name: composer-test
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/WebPlatformAuth
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-composer
      - name: npm

  - name: mediawiki/extensions/WikiEditor
    template:
      - name: composer-test
      - name: extension-qunit-generic
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/Wikibase
    template:
      - name: npm
      - name: composer-test
      - name: extension-unittests-composer
      - name: extension-qunit-composer
      - name: rake
    check:
      - jshint
      - jsonlint
    php5:  # 'check php5'
      - mwext-Wikibase-repo-tests-sqlite-php55-trusty
      - mwext-Wikibase-client-tests-mysql-php55-trusty
      - mwext-Wikibase-client-tests-sqlite-php55-trusty
    test:
      - mwext-mw-selenium-composer-jessie
      - mwext-Wikibase-repo-tests-sqlite-hhvm-jessie
      - mwext-Wikibase-client-tests-mysql-hhvm-jessie
      - mwext-Wikibase-client-tests-sqlite-hhvm-jessie
    gate-and-submit:
      - mwext-mw-selenium-composer-jessie
      - mwext-Wikibase-repo-tests-sqlite-php55-trusty
      - mwext-Wikibase-repo-tests-sqlite-hhvm-jessie
      - mwext-Wikibase-client-tests-mysql-php55-trusty
      - mwext-Wikibase-client-tests-sqlite-php55-trusty
      - mwext-Wikibase-client-tests-mysql-hhvm-jessie
      - mwext-Wikibase-client-tests-sqlite-hhvm-jessie
    experimental:
      - mwext-php70-phan-jessie
    postmerge:
      - mwext-doxygen-publish
      - mwext-jsduck-publish

  - name: mediawiki/extensions/WikibaseJavaScriptApi
    template:
      - name: composer-test
      - name: extension-qunit-composer
      - name: extension-unittests-composer
      - name: jshint
      - name: jsonlint
      - name: npm

  - name: mediawiki/extensions/Wikidata
    template:
      - name: extension-unittests-generic
      - name: extension-qunit-generic
      - name: extension-gate
    test:
      - mwext-testextension-hhvm-jessie
    gate-and-submit:
      - mwext-testextension-hhvm-jessie

  - name: mediawiki/extensions/Wikidata.org
    template:
      - name: composer-test
      - name: extension-qunit-composer
      - name: extension-unittests-composer
      - name: jshint
      - name: jsonlint
      - name: npm

  - name: mediawiki/extensions/WikiForum
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/WikiLexicalData
    template:
      - name: composer-test
      - name: extension-unittests-non-voting
      - name: jshint
      - name: jsonlint
      - name: npm

  - name: mediawiki/extensions/WikiLove
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-generic
      - name: rake
      - name: npm
    experimental:
      - mwext-mw-selenium-jessie

  - name: mediawiki/extensions/wikihiero
    template:
      - name: npm
      - name: extension-unittests-generic

  - name: mediawiki/extensions/WikimediaBadges
    template:
      - name: jshint
      - name: jsonlint
      - name: extension-unittests-composer
      - name: npm

  - name: mediawiki/extensions/WikimediaEvents
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/WikimediaIncubator
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/WikimediaMaintenance
    template:
      - name: extension-unittests-generic

  - name: mediawiki/extensions/WikimediaMessages
    template:
      - name: extension-unittests-generic
      - name: npm
    check:
      - jsonlint
    test:
      - jsonlint
    gate-and-submit:
      - jsonlint

  - name: mediawiki/extensions/WikimediaShopLink
    template:
      - name: archived

  - name: mediawiki/extensions/WikiGrok
    template:
      - name: archived

  - name: mediawiki/extensions/WikiObjectModel
    template:
      - name: extension-unittests-generic
      - name: npm

  - name: mediawiki/extensions/Wikispeech
    template:
      - name: jshint
      - name: extension-unittests-generic
      - name: extension-qunit-generic
      - name: npm
    check:
      - jsonlint

  - name: mediawiki/extensions/Workflow
    template:
      - name: archived

  - name: mediawiki/extensions/ZeroBanner
    template:
      - name: extension-gate
      - name: mw-checks-test
      - name: npm
    check:
      - jsonlint
      - jshint

  - name: mediawiki/extensions/ZeroPortal
    template:
      - name: composer-test
      - name: extension-gate
      - name: mw-checks-test
      - name: rake
      - name: npm
    check:
      - jsonlint
      - jshint

#### PHP Extensions ###################################################

  - name: mediawiki/php/FastStringSearch
    # no check pipeline since -build runs code :-)
    test:
      - php-compile-hhvm
      - php-compile-php55
    gate-and-submit:
      - php-compile-hhvm
      - php-compile-php55
    experimental:
      - php-compile-hhvm-jessie
      - php-compile-php55-trusty

  - name: mediawiki/php/luasandbox
    # no check pipeline since -build runs code :-)
    test:
      - php-compile-hhvm-test
      - php-compile-php55
    gate-and-submit:
      - php-compile-hhvm-test
      - php-compile-php55
    experimental:
      - php-compile-hhvm-test-jessie
      - php-compile-php55-trusty

  - name: mediawiki/php/wikidiff2
    # no check pipeline since -build runs code :-)
    test:
      - php-compile-hhvm
      - php-compile-php55
    gate-and-submit:
      - php-compile-hhvm
      - php-compile-php55
    experimental:
      - php-compile-hhvm-jessie
      - php-compile-php55-trusty

  - name: mediawiki/php/wmerrors
    # no check pipeline since -build runs code :-)
    test:
      - php-compile-php55
    gate-and-submit:
      - php-compile-php55
    experimental:
      - php-compile-php55-trusty

  - name: mediawiki/oauthclient-php
    template:
      - name: composer-test-package
    postmerge:
      - doxygen-publish
      - phpunit-coverage-publish

  - name: phabricator/arcanist
    test:
      - php55lint
    gate-and-submit:
      - php55lint

  - name: phabricator/extensions
    test:
      - php55lint
    gate-and-submit:
      - php55lint

  - name: phabricator/extensions/BurnDownCharts
    test:
      - php55lint
    gate-and-submit:
      - php55lint

  - name: phabricator/extensions/Sprint
    test:
      - php55lint
    gate-and-submit:
      - php55lint

  - name: phabricator/extensions/security
    test:
      - php55lint
    gate-and-submit:
      - php55lint

  - name: phabricator/libphutil
    test:
      - php55lint
    gate-and-submit:
      - php55lint

  - name: phabricator/phabricator
    test:
      - php55lint
    gate-and-submit:
      - php55lint

  - name: phabricator/test
    test:
      - php55lint
    gate-and-submit:
      - php55lint

  - name: phabricator/tools
    test:
      - php55lint
    gate-and-submit:
      - php55lint

  - name: pywikibot/compat
    template:
      - name: tox-jessie

  - name: pywikibot/core
    check:
      - pywikibot-core-tox-jessie
    test:
      - pywikibot-core-tox-jessie
      - pywikibot-core-tox-nose-jessie
      - pywikibot-core-tox-nose34-jessie
      - pywikibot-core-tox-doc-jessie
    gate-and-submit:
      - pywikibot-core-tox-jessie
      - pywikibot-core-tox-nose-jessie
      - pywikibot-core-tox-nose34-jessie
      - pywikibot-core-tox-doc-jessie
    postmerge:
      - pywikibot-core-tox-doc-publish

  - name: pywikibot/i18n
    template:
      # Cant switch to npm-node-6-jessie because we create a /log/ dir in the
      # source tree and banana complains it can not read /log/qqq.json
      - name: npm-node-0.10  # T130207
    check:
      - jsonlint

  - name: pywikibot/wikibase
    template:
      - name: tox-jessie
    test:
      - pywikibot-wikibase-tox-nose-jessie
      - pywikibot-wikibase-tox-nose34-jessie
    gate-and-submit:
      - pywikibot-wikibase-tox-nose-jessie
      - pywikibot-wikibase-tox-nose34-jessie

  - name: pywikibot/bots/xqbot
    template:
      - name: tox-jessie

  - name: pywikibot/bots/FLOSSbot
    template:
      - name: tox-jessie

  - name: qrpedia
    test:
      - php55lint
    gate-and-submit:
      - php55lint

  - name: cdb
    template:
     - name: composer-test-package
    postmerge:
      - doxygen-publish
      - phpunit-coverage-publish

  - name: purtle
    template:
     - name: composer-test-package
    postmerge:
      - doxygen-publish
      - phpunit-coverage-publish

  - name: utfnormal
    template:
     - name: composer-test-package
    postmerge:
      - doxygen-publish
      - phpunit-coverage-publish

  - name: at-ease
    template:
     - name: composer-test-package
    postmerge:
      - doxygen-publish
      - phpunit-coverage-publish

  - name: base-convert
    template:
     - name: composer-test-package
    postmerge:
      - doxygen-publish

  - name: css-sanitizer
    template:
     - name: composer-test-package
    postmerge:
      - doxygen-publish
      - phpunit-coverage-publish

  - name: php-session-serializer
    template:
     - name: composer-test-package
    postmerge:
      - doxygen-publish
      - phpunit-coverage-publish

  - name: AhoCorasick
    template:
      - name: composer-test-package
    postmerge:
      - phpunit-coverage-publish

  - name: RunningStat
    template:
      - name: composer-test-package
    postmerge:
      - phpunit-coverage-publish

  - name: IPSet
    template:
     - name: composer-test-package
    postmerge:
      - doxygen-publish
      - phpunit-coverage-publish

  - name: RelPath
    template:
     - name: composer-test-package
    postmerge:
      - doxygen-publish
      - phpunit-coverage-publish

  - name: WrappedString
    template:
     - name: composer-test-package
    postmerge:
      - doxygen-publish
      - phpunit-coverage-publish

  - name: CLDRPluralRuleParser
    template:
     - name: composer-test-package
    postmerge:
      - doxygen-publish
      - phpunit-coverage-publish

  - name: HtmlFormatter
    template:
     - name: composer-test-package
    postmerge:
      - doxygen-publish
      - phpunit-coverage-publish

  - name: mediawiki/libs/Assert
    template:
     - name: composer-test-package
    postmerge:
      #- doxygen-publish
      - phpunit-coverage-publish

  - name: mediawiki/libs/RemexHtml
    template:
     - name: composer-test-package
    postmerge:
      - doxygen-publish
      - remexhtml-phpunit-coverage-publish

  - name: mediawiki/libs/ScopedCallback
    template:
     - name: composer-test-package
    postmerge:
      - doxygen-publish
      - phpunit-coverage-publish

  - name: mediawiki/libs/Timestamp
    template:
     - name: composer-test-package
    postmerge:
      - doxygen-publish
      - phpunit-coverage-publish

  - name: mediawiki/libs/WaitConditionLoop
    template:
     - name: composer-test-package
    postmerge:
      - doxygen-publish
      - phpunit-coverage-publish

  - name: rcstream
    template:
      - name: npm

  - name: wikimedia/slimapp
    template:
     - name: composer-test-package
    postmerge:
      - doxygen-publish
      - phpunit-coverage-publish

  - name: wikimedia/portals
    test:
      - wikimedia-portals-npm-node-6-jessie
    gate-and-submit:
      - wikimedia-portals-npm-node-6-jessie

  - name: search/extra
    test:
      - search-extra
    gate-and-submit:
      - search-extra
    postmerge:
      - search-extra-javadoc-publish

  - name: search/highlighter
    test:
      - search-highlighter
    gate-and-submit:
      - search-highlighter
    postmerge:
      - search-highlighter-javadoc-publish

  - name: search/ltr
    test:
      - search-ltr
    gate-and-submit:
      - search-ltr
    postmerge:
      - search-ltr-javadoc-publish

  - name: search/repository-swift
    test:
      - search-repository-swift
    gate-and-submit:
      - search-repository-swift
    postmerge:
      - search-repository-swift-javadoc-publish

  - name: generator-wikimedia-php-library
    template:
      - name: npm

  - name: oojs/core
    test:
      - oojs-core-jsduck-jessie
      - oojs-core-npm-node-6-jessie
    gate-and-submit:
      - oojs-core-jsduck-jessie
      - oojs-core-npm-node-6-jessie
    postmerge:
      - oojs-core-publish
      - oojs-core-coverage

  - name: oojs/ui
    template:
      - name: composer-test-package
    test:
      - oojs-ui-npm-node-6-jessie
      - oojs-ui-rake-jessie
      - oojs-ui-npm-run-demos-node-6-jessie
      - oojs-ui-npm-run-doc-node-6-jessie
    gate-and-submit:
      - oojs-ui-npm-node-6-jessie
      - oojs-ui-rake-jessie
      - oojs-ui-npm-run-demos-node-6-jessie
      - oojs-ui-npm-run-doc-node-6-jessie
    postmerge:
      - oojs-ui-jsduck-publish
      - oojs-ui-doxygen-publish
      - oojs-ui-coverage
      - oojs-ui-demos-publish

  - name: unicodejs
    template:
      - name: npm
    test:
      - unicodejs-jsduck-jessie
    gate-and-submit:
      - unicodejs-jsduck-jessie
    postmerge:
      - unicodejs-publish
      - unicodejs-coverage
    publish:
      - unicodejs-publish

  - name: VisualEditor/VisualEditor
    test:
      - visualeditor-npm-node-6-jessie
      - visualeditor-npm-run-doc-node-6-jessie
      - visualeditor-rake-jessie
    gate-and-submit:
      - visualeditor-npm-node-6-jessie
      - visualeditor-npm-run-doc-node-6-jessie
      - visualeditor-rake-jessie
    postmerge:
      - visualeditor-coverage

  - name: wikidata/query/rdf
    test:
      - wikidata-query-rdf
    gate-and-submit:
      - wikidata-query-rdf

  - name: wikidata/query/gui
    template:
      - name: npm

  - name: wikidata/query/gui-deploy
    experimental:
      - npm-node-6-jessie

  - name: wikimedia/bots/jouncebot
    template:
      - name: tox-jessie

  - name: avro-php
    template:
     - name: composer-test-package

  - name: data-values/value-view
    template:
     - name: composer-test
     - name: extension-qunit-composer
     - name: npm

  - name: wikidata/build-resources
    template:
      - name: npm
