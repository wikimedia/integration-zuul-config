{
  "comments": [
    {
      "key": {
        "uuid": "4e7eab26_bae76a3a",
        "filename": "dockerfiles/tox/Dockerfile",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 24
      },
      "writtenOn": "2017-09-11T20:56:16Z",
      "side": 1,
      "message": "Then we need some more development packages. There is a list at  modules/contint/manifests/packages/python.pp  that is only needed for dependencies that requires a C compilation.\n\n\nAlso need to add python3 and pypy :]",
      "revId": "a9c0369d047631910a8e64dcba67a0d48d7bdbed",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4e7eab26_3a413a0f",
        "filename": "dockerfiles/tox/Dockerfile",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 106
      },
      "writtenOn": "2017-09-11T21:01:54Z",
      "side": 1,
      "message": "hmm, ack.\n\n\u003e that is only needed for dependencies that requires a C compilation.\n\nShould I be doing something slightly more than git cloning and running tox? or does tox sort out any compilation etc that is needed?",
      "parentUuid": "4e7eab26_bae76a3a",
      "revId": "a9c0369d047631910a8e64dcba67a0d48d7bdbed",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4e7eab26_1ab1de8d",
        "filename": "dockerfiles/tox/Dockerfile",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 458
      },
      "writtenOn": "2017-09-11T22:14:30Z",
      "side": 1,
      "message": "\u003e Should I be doing something slightly more than git cloning and running tox? or does tox sort out any compilation etc that is needed?\n\ntox will automatically do all the fetching of dependencies, compile dependencies (we may need to add more -dev packages in the future, and then run the tests.",
      "parentUuid": "4e7eab26_3a413a0f",
      "revId": "a9c0369d047631910a8e64dcba67a0d48d7bdbed",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4e7eab26_da0ef636",
        "filename": "dockerfiles/tox/Dockerfile",
        "patchSetId": 1
      },
      "lineNbr": 12,
      "author": {
        "id": 24
      },
      "writtenOn": "2017-09-11T20:56:16Z",
      "side": 1,
      "message": "I got tox bumped to 2.5.0\n\nOnce pip has run, you would want to strip its cache. Probably:\n\n rm -fR /root/.cache/pip\n\nAnd IIRC pip install pip deleted /usr/bin/pip and I ended up creating a symlink to /usr/local/bin/pip.  But maybe that is in the PATH anyway.",
      "revId": "a9c0369d047631910a8e64dcba67a0d48d7bdbed",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4e7eab26_1a3c7e8d",
        "filename": "dockerfiles/tox/Dockerfile",
        "patchSetId": 1
      },
      "lineNbr": 12,
      "author": {
        "id": 106
      },
      "writtenOn": "2017-09-11T21:01:54Z",
      "side": 1,
      "message": "ack",
      "parentUuid": "4e7eab26_da0ef636",
      "revId": "a9c0369d047631910a8e64dcba67a0d48d7bdbed",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4e7eab26_9a186e7c",
        "filename": "dockerfiles/tox/Dockerfile",
        "patchSetId": 1
      },
      "lineNbr": 22,
      "author": {
        "id": 24
      },
      "writtenOn": "2017-09-11T20:56:16Z",
      "side": 1,
      "message": "Nit pick, I would skip /srv/src and clone under /var/lib/jenkins/src  though that does not really mater.\n\n\nWould it make sense to make it an env variable that can then be easily reused in the shell scripts?  Something like\n\n ENV CI_SRC\u003d/srv/src\n ENV LOG_DIR\u003d/var/lib/jenkins/log\n\n\n\n\nSounds like we could build an intermediate image that would include that snippet since that would be needed pretty much everywhere.",
      "revId": "a9c0369d047631910a8e64dcba67a0d48d7bdbed",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4e7eab26_7a37c2ab",
        "filename": "dockerfiles/tox/Dockerfile",
        "patchSetId": 1
      },
      "lineNbr": 22,
      "author": {
        "id": 106
      },
      "writtenOn": "2017-09-11T21:01:54Z",
      "side": 1,
      "message": "I was thinking about trying to remove all ties to jenkins from this image, hence I just went for /srv/src.\nNot sure why we are specifically creating a jenkins user in all of the contint images too with matching gids and uids!\n\n\u003e Sounds like we could build an intermediate image that would include that snippet since that would be needed pretty much everywhere.\nYup, I think once we get a good draft of this one we will see some clear base images to pull out of the 3/4 that are in this chain.",
      "parentUuid": "4e7eab26_9a186e7c",
      "revId": "a9c0369d047631910a8e64dcba67a0d48d7bdbed",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4e7eab26_ba2c4a90",
        "filename": "dockerfiles/tox/example-run.sh",
        "patchSetId": 1
      },
      "lineNbr": 9,
      "author": {
        "id": 24
      },
      "writtenOn": "2017-09-11T20:56:16Z",
      "side": 1,
      "message": "$(pwd)  should be surrounded with double quotes in case pwd has a space in it :]\n\nAny reason for the double / in the volume destination?",
      "revId": "a9c0369d047631910a8e64dcba67a0d48d7bdbed",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4e7eab26_9a506edb",
        "filename": "dockerfiles/tox/example-run.sh",
        "patchSetId": 1
      },
      "lineNbr": 9,
      "author": {
        "id": 106
      },
      "writtenOn": "2017-09-11T21:01:54Z",
      "side": 1,
      "message": "ack\n\nand the double // is so as not to break mysysgit on windows which does odd things with paths, and a double // doesn\u0027t break anything elsewhere.\n\nAlthough I probably should just remove one of them..",
      "parentUuid": "4e7eab26_ba2c4a90",
      "revId": "a9c0369d047631910a8e64dcba67a0d48d7bdbed",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    }
  ]
}