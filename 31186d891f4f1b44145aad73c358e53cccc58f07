{
  "comments": [
    {
      "key": {
        "uuid": "c91867fe_0fe9ed8e",
        "filename": "zuul/layout.yaml",
        "patchSetId": 1
      },
      "lineNbr": 7175,
      "author": {
        "id": 2681
      },
      "writtenOn": "2019-03-14T13:40:26Z",
      "side": 1,
      "message": "If I understand this correctly - it will try running the change-prop tests (npm test)? \n\nThis will definitely not fly since the CP tests require Kafka, Zookeeper, and Redis to be installed.",
      "revId": "31186d891f4f1b44145aad73c358e53cccc58f07",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1c6f7498_fe74fcdd",
        "filename": "zuul/layout.yaml",
        "patchSetId": 1
      },
      "lineNbr": 7175,
      "author": {
        "id": 824
      },
      "writtenOn": "2019-03-15T07:33:30Z",
      "side": 1,
      "message": "Yeah it tries to do npm test. So... ouch. How do we work around this?\n\nOne thing to note that might help is that with the pipeline:\n\n* service-pipeline-test is meant to run the \"unit\" tests i.e npm test\n* service-pipeline-test-and-publish is meant to run integration/e2e tests i.e. helm test, which currently amounts to a run of the swagger enabled service-checker on an installed helm chart (and any dependencies it might have)",
      "parentUuid": "c91867fe_0fe9ed8e",
      "revId": "31186d891f4f1b44145aad73c358e53cccc58f07",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a36a0ea9_366d704d",
        "filename": "zuul/layout.yaml",
        "patchSetId": 1
      },
      "lineNbr": 7175,
      "author": {
        "id": 2681
      },
      "writtenOn": "2019-03-15T11:37:08Z",
      "side": 1,
      "message": "For the unit tests, I believe it\u0027s possible to replace read Kafka and real Redis with some kind of a hand-written mock, I\u0027ll explore this idea today. \n\nThere are some true unit tests in change-prop that do not require any dependencies, but they only cover a fairly small subset of the code. I can try to expand the set of true unit tests if possible if the mock idea proves to be too complicated.\n\nRegarding the integration tests - change-prop is special in a sense that it has no REST API, so service-checker doesn\u0027t do anything for it. Is it possible to run an NPM command for integration tests?",
      "parentUuid": "1c6f7498_fe74fcdd",
      "revId": "31186d891f4f1b44145aad73c358e53cccc58f07",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    }
  ]
}